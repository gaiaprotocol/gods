/*! For license information please see viewer.js.LICENSE.txt */
(()=>{var t,e,i={431:(t,e,i)=>{"use strict";i.d(e,{I:()=>A,v:()=>C});var r=i(81213),s=i(15776),a=i(63880);function n(t,e,i){if(t)for(const r in t){const s=e[r.toLocaleLowerCase()];if(s){let e=t[r];"header"===r&&(e=e.replace(/@in\s+[^;]+;\s*/g,"").replace(/@out\s+[^;]+;\s*/g,"")),i&&s.push(`//----${i}----//`),s.push(e)}else(0,a.R)(`${r} placement hook does not exist in shader`)}}const o=/\{\{(.*?)\}\}/g;function l(t){const e={};return(t.match(o)?.map(t=>t.replace(/[{()}]/g,""))??[]).forEach(t=>{e[t]=[]}),e}function h(t,e){let i;const r=/@in\s+([^;]+);/g;for(;null!==(i=r.exec(t));)e.push(i[1])}function c(t,e,i=!1){const r=[];h(e,r),t.forEach(t=>{t.header&&h(t.header,r)});const s=r;i&&s.sort();const a=s.map((t,e)=>`       @location(${e}) ${t},`).join("\n");let n=e.replace(/@in\s+[^;]+;\s*/g,"");return n=n.replace("{{in}}",`\n${a}\n`),n}function d(t,e){let i;const r=/@out\s+([^;]+);/g;for(;null!==(i=r.exec(t));)e.push(i[1])}function u(t,e){let i=t;for(const t in e){const r=e[t];i=r.join("\n").length?i.replace(`{{${t}}}`,`//-----${t} START-----//\n${r.join("\n")}\n//----${t} FINISH----//`):i.replace(`{{${t}}}`,"")}return i}const p=Object.create(null),m=new Map;let f=0;function g({template:t,bits:e}){const i=b(t,e);return p[i]||(p[i]=y(t.vertex,t.fragment,e)),p[i]}function b(t,e){return e.map(t=>(m.has(t)||m.set(t,f++),m.get(t))).sort((t,e)=>t-e).join("-")+t.vertex+t.fragment}function y(t,e,i){const r=l(t),s=l(e);return i.forEach(t=>{n(t.vertex,r,t.name),n(t.fragment,s,t.name)}),{vertex:u(t,r),fragment:u(e,s)}}const v="\n    @in aPosition: vec2<f32>;\n    @in aUV: vec2<f32>;\n\n    @out @builtin(position) vPosition: vec4<f32>;\n    @out vUV : vec2<f32>;\n    @out vColor : vec4<f32>;\n\n    {{header}}\n\n    struct VSOutput {\n        {{struct}}\n    };\n\n    @vertex\n    fn main( {{in}} ) -> VSOutput {\n\n        var worldTransformMatrix = globalUniforms.uWorldTransformMatrix;\n        var modelMatrix = mat3x3<f32>(\n            1.0, 0.0, 0.0,\n            0.0, 1.0, 0.0,\n            0.0, 0.0, 1.0\n          );\n        var position = aPosition;\n        var uv = aUV;\n\n        {{start}}\n\n        vColor = vec4<f32>(1., 1., 1., 1.);\n\n        {{main}}\n\n        vUV = uv;\n\n        var modelViewProjectionMatrix = globalUniforms.uProjectionMatrix * worldTransformMatrix * modelMatrix;\n\n        vPosition =  vec4<f32>((modelViewProjectionMatrix *  vec3<f32>(position, 1.0)).xy, 0.0, 1.0);\n\n        vColor *= globalUniforms.uWorldColorAlpha;\n\n        {{end}}\n\n        {{return}}\n    };\n",x="\n    @in vUV : vec2<f32>;\n    @in vColor : vec4<f32>;\n\n    {{header}}\n\n    @fragment\n    fn main(\n        {{in}}\n      ) -> @location(0) vec4<f32> {\n\n        {{start}}\n\n        var outColor:vec4<f32>;\n\n        {{main}}\n\n        var finalColor:vec4<f32> = outColor * vColor;\n\n        {{end}}\n\n        return finalColor;\n      };\n",w="\n    in vec2 aPosition;\n    in vec2 aUV;\n\n    out vec4 vColor;\n    out vec2 vUV;\n\n    {{header}}\n\n    void main(void){\n\n        mat3 worldTransformMatrix = uWorldTransformMatrix;\n        mat3 modelMatrix = mat3(\n            1.0, 0.0, 0.0,\n            0.0, 1.0, 0.0,\n            0.0, 0.0, 1.0\n          );\n        vec2 position = aPosition;\n        vec2 uv = aUV;\n\n        {{start}}\n\n        vColor = vec4(1.);\n\n        {{main}}\n\n        vUV = uv;\n\n        mat3 modelViewProjectionMatrix = uProjectionMatrix * worldTransformMatrix * modelMatrix;\n\n        gl_Position = vec4((modelViewProjectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n\n        vColor *= uWorldColorAlpha;\n\n        {{end}}\n    }\n",_="\n\n    in vec4 vColor;\n    in vec2 vUV;\n\n    out vec4 finalColor;\n\n    {{header}}\n\n    void main(void) {\n\n        {{start}}\n\n        vec4 outColor;\n\n        {{main}}\n\n        finalColor = outColor * vColor;\n\n        {{end}}\n    }\n",k={name:"global-uniforms-bit",vertex:{header:"\n        struct GlobalUniforms {\n            uProjectionMatrix:mat3x3<f32>,\n            uWorldTransformMatrix:mat3x3<f32>,\n            uWorldColorAlpha: vec4<f32>,\n            uResolution: vec2<f32>,\n        }\n\n        @group(0) @binding(0) var<uniform> globalUniforms : GlobalUniforms;\n        "}},S={name:"global-uniforms-bit",vertex:{header:"\n          uniform mat3 uProjectionMatrix;\n          uniform mat3 uWorldTransformMatrix;\n          uniform vec4 uWorldColorAlpha;\n          uniform vec2 uResolution;\n        "}};function C({bits:t,name:e}){const i=function({template:t,bits:e}){const i=b(t,e);if(p[i])return p[i];const{vertex:r,fragment:s}=function(t,e){const i=e.map(t=>t.vertex).filter(t=>!!t),r=e.map(t=>t.fragment).filter(t=>!!t);let s=c(i,t.vertex,!0);return s=function(t,e){const i=[];d(e,i),t.forEach(t=>{t.header&&d(t.header,i)});let r=0;const s=i.sort().map(t=>t.indexOf("builtin")>-1?t:`@location(${r++}) ${t}`).join(",\n"),a=i.sort().map(t=>{return`       var ${e=t,e.replace(/@.*?\s+/g,"")};`;var e}).join("\n"),n=`return VSOutput(\n            ${i.sort().map(t=>` ${function(t){const e=/\b(\w+)\s*:/g.exec(t);return e?e[1]:""}(t)}`).join(",\n")});`;let o=e.replace(/@out\s+[^;]+;\s*/g,"");return o=o.replace("{{struct}}",`\n${s}\n`),o=o.replace("{{start}}",`\n${a}\n`),o=o.replace("{{return}}",`\n${n}\n`),o}(i,s),{vertex:s,fragment:c(r,t.fragment,!0)}}(t,e);return p[i]=y(r,s,e),p[i]}({template:{fragment:x,vertex:v},bits:[k,...t]});return s.B.from({name:e,vertex:{source:i.vertex,entryPoint:"main"},fragment:{source:i.fragment,entryPoint:"main"}})}function A({bits:t,name:e}){return new r.M({name:e,...g({template:{vertex:w,fragment:_},bits:[S,...t]})})}},3648:(t,e,i)=>{"use strict";i.d(e,{u:()=>r});class r{constructor(t){"number"==typeof t?this.rawBinaryData=new ArrayBuffer(t):t instanceof Uint8Array?this.rawBinaryData=t.buffer:this.rawBinaryData=t,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData),this.size=this.rawBinaryData.byteLength}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}get float64View(){return this._float64Array||(this._float64Array=new Float64Array(this.rawBinaryData)),this._float64Array}get bigUint64View(){return this._bigUint64Array||(this._bigUint64Array=new BigUint64Array(this.rawBinaryData)),this._bigUint64Array}view(t){return this[`${t}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this.uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${t} isn't a valid view type`)}}}},4069:(t,e,i)=>{"use strict";i.d(e,{u:()=>r});var r=(t=>(t[t.NONE=0]="NONE",t[t.COLOR=16384]="COLOR",t[t.STENCIL=1024]="STENCIL",t[t.DEPTH=256]="DEPTH",t[t.COLOR_DEPTH=16640]="COLOR_DEPTH",t[t.COLOR_STENCIL=17408]="COLOR_STENCIL",t[t.DEPTH_STENCIL=1280]="DEPTH_STENCIL",t[t.ALL=17664]="ALL",t))(r||{})},4815:(t,e,i)=>{"use strict";i.d(e,{k:()=>h});var r=i(80753),s=i(89228);const a=["f32","i32","vec2<f32>","vec3<f32>","vec4<f32>","mat2x2<f32>","mat3x3<f32>","mat4x4<f32>","mat3x2<f32>","mat4x2<f32>","mat2x3<f32>","mat4x3<f32>","mat2x4<f32>","mat3x4<f32>","vec2<i32>","vec3<i32>","vec4<i32>"],n=a.reduce((t,e)=>(t[e]=!0,t),{});function o(t,e){switch(t){case"f32":return 0;case"vec2<f32>":return new Float32Array(2*e);case"vec3<f32>":return new Float32Array(3*e);case"vec4<f32>":return new Float32Array(4*e);case"mat2x2<f32>":return new Float32Array([1,0,0,1]);case"mat3x3<f32>":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4x4<f32>":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const l=class t{constructor(e,i){this._touched=0,this.uid=(0,r.L)("uniform"),this._resourceType="uniformGroup",this._resourceId=(0,r.L)("resource"),this.isUniformGroup=!0,this._dirtyId=0,this.destroyed=!1,i={...t.defaultOptions,...i},this.uniformStructures=e;const l={};for(const t in e){const i=e[t];if(i.name=t,i.size=i.size??1,!n[i.type])throw new Error(`Uniform type ${i.type} is not supported. Supported uniform types are: ${a.join(", ")}`);i.value??(i.value=o(i.type,i.size)),l[t]=i.value}this.uniforms=l,this._dirtyId=1,this.ubo=i.ubo,this.isStatic=i.isStatic,this._signature=(0,s.X)(Object.keys(l).map(t=>`${t}-${e[t].type}`).join("-"),"uniform-group")}update(){this._dirtyId++}};l.defaultOptions={ubo:!1,isStatic:!1};let h=l},4970:(t,e,i)=>{"use strict";i.d(e,{m:()=>n});var r=i(69325),s=i(80753);const a={repeat:{addressModeU:"repeat",addressModeV:"repeat"},"repeat-x":{addressModeU:"repeat",addressModeV:"clamp-to-edge"},"repeat-y":{addressModeU:"clamp-to-edge",addressModeV:"repeat"},"no-repeat":{addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"}};class n{constructor(t,e){this.uid=(0,s.L)("fillPattern"),this.transform=new r.u,this._styleKey=null,this.texture=t,this.transform.scale(1/t.frame.width,1/t.frame.height),e&&(t.source.style.addressModeU=a[e].addressModeU,t.source.style.addressModeV=a[e].addressModeV)}setTransform(t){const e=this.texture;this.transform.copyFrom(t),this.transform.invert(),this.transform.scale(1/e.frame.width,1/e.frame.height),this._styleKey=null}get styleKey(){return this._styleKey||(this._styleKey=`fill-pattern-${this.uid}-${this.texture.uid}-${this.transform.toArray().join("-")}`),this._styleKey}destroy(){this.texture.destroy(!0),this.texture=null,this._styleKey=null}}},5427:(t,e,i)=>{"use strict";i.d(e,{mc:()=>j,u:()=>U,ig:()=>X,fR:()=>G});var r=i(55698),s=i(98917),a=i(72207),n=i(69325),o=i(89880),l=i(12432),h=i(80753),c=i(98610),d=i(63880),u=i(68542);const p={get isCachedAsTexture(){return!!this.renderGroup?.isCachedAsTexture},cacheAsTexture(t){"boolean"==typeof t&&!1===t?this.disableRenderGroup():(this.enableRenderGroup(),this.renderGroup.enableCacheAsTexture(!0===t?{}:t))},updateCacheTexture(){this.renderGroup?.updateCacheTexture()},get cacheAsBitmap(){return this.isCachedAsTexture},set cacheAsBitmap(t){(0,c.t6)("v8.6.0","cacheAsBitmap is deprecated, use cacheAsTexture instead."),this.cacheAsTexture(t)}};var m=i(29387);const f={allowChildren:!0,removeChildren(t=0,e){const i=e??this.children.length,r=i-t,s=[];if(r>0&&r<=i){for(let e=i-1;e>=t;e--){const t=this.children[e];t&&(s.push(t),t.parent=null)}(0,m.d)(this.children,t,i);const e=this.renderGroup||this.parentRenderGroup;e&&e.removeChildren(s);for(let t=0;t<s.length;++t){const e=s[t];e.parentRenderLayer?.detach(e),this.emit("childRemoved",e,this,t),s[t].emit("removed",this)}return s.length>0&&this._didViewChangeTick++,s}if(0===r&&0===this.children.length)return s;throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},removeChildAt(t){const e=this.getChildAt(t);return this.removeChild(e)},getChildAt(t){if(t<0||t>=this.children.length)throw new Error(`getChildAt: Index (${t}) does not exist.`);return this.children[t]},setChildIndex(t,e){if(e<0||e>=this.children.length)throw new Error(`The index ${e} supplied is out of bounds ${this.children.length}`);this.getChildIndex(t),this.addChildAt(t,e)},getChildIndex(t){const e=this.children.indexOf(t);if(-1===e)throw new Error("The supplied Container must be a child of the caller");return e},addChildAt(t,e){this.allowChildren||(0,c.t6)(c.lj,"addChildAt: Only Containers will be allowed to add children in v8.0.0");const{children:i}=this;if(e<0||e>i.length)throw new Error(`${t}addChildAt: The index ${e} supplied is out of bounds ${i.length}`);if(t.parent){const i=t.parent.children.indexOf(t);if(t.parent===this&&i===e)return t;-1!==i&&t.parent.children.splice(i,1)}e===i.length?i.push(t):i.splice(e,0,t),t.parent=this,t.didChange=!0,t._updateFlags=15;const r=this.renderGroup||this.parentRenderGroup;return r&&r.addChild(t),this.sortableChildren&&(this.sortDirty=!0),this.emit("childAdded",t,this,e),t.emit("added",this),t},swapChildren(t,e){if(t===e)return;const i=this.getChildIndex(t),r=this.getChildIndex(e);this.children[i]=e,this.children[r]=t;const s=this.renderGroup||this.parentRenderGroup;s&&(s.structureDidChange=!0),this._didContainerChangeTick++},removeFromParent(){this.parent?.removeChild(this)},reparentChild(...t){return 1===t.length?this.reparentChildAt(t[0],this.children.length):(t.forEach(t=>this.reparentChildAt(t,this.children.length)),t[0])},reparentChildAt(t,e){if(t.parent===this)return this.setChildIndex(t,e),t;const i=t.worldTransform.clone();t.removeFromParent(),this.addChildAt(t,e);const r=this.worldTransform.clone();return r.invert(),i.prepend(r),t.setFromMatrix(i),t},replaceChild(t,e){t.updateLocalTransform(),this.addChildAt(e,this.getChildIndex(t)),e.setFromMatrix(t.localTransform),e.updateLocalTransform(),this.removeChild(t)}},g={collectRenderables(t,e,i){this.parentRenderLayer&&this.parentRenderLayer!==i||this.globalDisplayStatus<7||!this.includeInBuild||(this.sortableChildren&&this.sortChildren(),this.isSimple?this.collectRenderablesSimple(t,e,i):this.renderGroup?e.renderPipes.renderGroup.addRenderGroup(this.renderGroup,t):this.collectRenderablesWithEffects(t,e,i))},collectRenderablesSimple(t,e,i){const r=this.children,s=r.length;for(let a=0;a<s;a++)r[a].collectRenderables(t,e,i)},collectRenderablesWithEffects(t,e,i){const{renderPipes:r}=e;for(let e=0;e<this.effects.length;e++){const i=this.effects[e];r[i.pipe].push(i,this,t)}this.collectRenderablesSimple(t,e,i);for(let e=this.effects.length-1;e>=0;e--){const i=this.effects[e];r[i.pipe].pop(i,this,t)}}};var b=i(92029);const y=new class{constructor(){this._effectClasses=[],this._tests=[],this._initialized=!1}init(){this._initialized||(this._initialized=!0,this._effectClasses.forEach(t=>{this.add({test:t.test,maskClass:t})}))}add(t){this._tests.push(t)}getMaskEffect(t){this._initialized||this.init();for(let e=0;e<this._tests.length;e++){const i=this._tests[e];if(i.test(t))return u.Z.get(i.maskClass,t)}return t}returnMaskEffect(t){u.Z.return(t)}};a.XO.handleByList(a.Ag.MaskEffect,y._effectClasses);const v={_maskEffect:null,_maskOptions:{inverse:!1},_filterEffect:null,effects:[],_markStructureAsChanged(){const t=this.renderGroup||this.parentRenderGroup;t&&(t.structureDidChange=!0)},addEffect(t){-1===this.effects.indexOf(t)&&(this.effects.push(t),this.effects.sort((t,e)=>t.priority-e.priority),this._markStructureAsChanged(),this._updateIsSimple())},removeEffect(t){const e=this.effects.indexOf(t);-1!==e&&(this.effects.splice(e,1),this._markStructureAsChanged(),this._updateIsSimple())},set mask(t){const e=this._maskEffect;e?.mask!==t&&(e&&(this.removeEffect(e),y.returnMaskEffect(e),this._maskEffect=null),null!=t&&(this._maskEffect=y.getMaskEffect(t),this.addEffect(this._maskEffect)))},get mask(){return this._maskEffect?.mask},setMask(t){this._maskOptions={...this._maskOptions,...t},t.mask&&(this.mask=t.mask),this._markStructureAsChanged()},set filters(t){!Array.isArray(t)&&t&&(t=[t]);const e=this._filterEffect||(this._filterEffect=new b.a),i=t?.length>0,r=i!==e.filters?.length>0;t=Array.isArray(t)?t.slice(0):t,e.filters=Object.freeze(t),r&&(i?this.addEffect(e):(this.removeEffect(e),e.filters=t??null))},get filters(){return this._filterEffect?.filters},set filterArea(t){this._filterEffect||(this._filterEffect=new b.a),this._filterEffect.filterArea=t},get filterArea(){return this._filterEffect?.filterArea}},x={label:null,get name(){return(0,c.t6)(c.lj,"Container.name property has been removed, use Container.label instead"),this.label},set name(t){(0,c.t6)(c.lj,"Container.name property has been removed, use Container.label instead"),this.label=t},getChildByName(t,e=!1){return this.getChildByLabel(t,e)},getChildByLabel(t,e=!1){const i=this.children;for(let e=0;e<i.length;e++){const r=i[e];if(r.label===t||t instanceof RegExp&&t.test(r.label))return r}if(e)for(let e=0;e<i.length;e++){const r=i[e].getChildByLabel(t,!0);if(r)return r}return null},getChildrenByLabel(t,e=!1,i=[]){const r=this.children;for(let e=0;e<r.length;e++){const s=r[e];(s.label===t||t instanceof RegExp&&t.test(s.label))&&i.push(s)}if(e)for(let e=0;e<r.length;e++)r[e].getChildrenByLabel(t,!0,i);return i}};var w=i(34856),_=i(86484);const k=new n.u,S={getFastGlobalBounds(t,e){e||(e=new w.c),e.clear(),this._getGlobalBoundsRecursive(!!t,e,this.parentRenderLayer),e.isValid||e.set(0,0,0,0);const i=this.renderGroup||this.parentRenderGroup;return e.applyMatrix(i.worldTransform),e},_getGlobalBoundsRecursive(t,e,i){let r=e;if(t&&this.parentRenderLayer&&this.parentRenderLayer!==i)return;if(7!==this.localDisplayStatus||!this.measurable)return;const s=!!this.effects.length;if((this.renderGroup||s)&&(r=_.o.get().clear()),this.boundsArea)e.addRect(this.boundsArea,this.worldTransform);else{if(this.renderPipeId){const t=this.bounds;r.addFrame(t.minX,t.minY,t.maxX,t.maxY,this.groupTransform)}const e=this.children;for(let s=0;s<e.length;s++)e[s]._getGlobalBoundsRecursive(t,r,i)}if(s){let t=!1;const i=this.renderGroup||this.parentRenderGroup;for(let e=0;e<this.effects.length;e++)this.effects[e].addBounds&&(t||(t=!0,r.applyMatrix(i.worldTransform)),this.effects[e].addBounds(r,!0));t&&r.applyMatrix(i.worldTransform.copyTo(k).invert()),e.addBounds(r),_.o.return(r)}else this.renderGroup&&(e.addBounds(r,this.relativeGroupTransform),_.o.return(r))}};var C=i(94215),A=i(68965);function T(t){return((255&t)<<16)+(65280&t)+(t>>16&255)}const M={getGlobalAlpha(t){if(t)return this.renderGroup?this.renderGroup.worldAlpha:this.parentRenderGroup?this.parentRenderGroup.worldAlpha*this.alpha:this.alpha;let e=this.alpha,i=this.parent;for(;i;)e*=i.alpha,i=i.parent;return e},getGlobalTransform(t=new n.u,e){if(e)return t.copyFrom(this.worldTransform);this.updateLocalTransform();const i=(0,C.E)(this,_.u.get().identity());return t.appendFrom(this.localTransform,i),_.u.return(i),t},getGlobalTint(t){if(t)return this.renderGroup?T(this.renderGroup.worldColor):this.parentRenderGroup?T((0,A.j)(this.localColor,this.parentRenderGroup.worldColor)):this.tint;let e=this.localColor,i=this.parent;for(;i;)e=(0,A.j)(e,i.localColor),i=i.parent;return T(e)}};var B=i(68281);function P(t,e){const i=t.children;for(let t=0;t<i.length;t++){const r=i[t],s=r.uid,a=(65535&r._didViewChangeTick)<<16|65535&r._didContainerChangeTick,n=e.index;e.data[n]===s&&e.data[n+1]===a||(e.data[e.index]=s,e.data[e.index+1]=a,e.didChange=!0),e.index=n+2,r.children.length&&P(r,e)}return e.didChange}const O=new n.u,I={_localBoundsCacheId:-1,_localBoundsCacheData:null,_setWidth(t,e){const i=Math.sign(this.scale.x)||1;this.scale.x=0!==e?t/e*i:i},_setHeight(t,e){const i=Math.sign(this.scale.y)||1;this.scale.y=0!==e?t/e*i:i},getLocalBounds(){this._localBoundsCacheData||(this._localBoundsCacheData={data:[],index:1,didChange:!1,localBounds:new w.c});const t=this._localBoundsCacheData;return t.index=1,t.didChange=!1,t.data[0]!==this._didViewChangeTick&&(t.didChange=!0,t.data[0]=this._didViewChangeTick),P(this,t),t.didChange&&(0,B.n)(this,t.localBounds,O),t.localBounds},getBounds(t,e){return(0,C.f)(this,t,e||new w.c)}},E={_onRender:null,set onRender(t){const e=this.renderGroup||this.parentRenderGroup;if(!t)return this._onRender&&e?.removeOnRender(this),void(this._onRender=null);this._onRender||e?.addOnRender(this),this._onRender=t},get onRender(){return this._onRender}},$={_zIndex:0,sortDirty:!1,sortableChildren:!1,get zIndex(){return this._zIndex},set zIndex(t){this._zIndex!==t&&(this._zIndex=t,this.depthOfChildModified())},depthOfChildModified(){this.parent&&(this.parent.sortableChildren=!0,this.parent.sortDirty=!0),this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0)},sortChildren(){this.sortDirty&&(this.sortDirty=!1,this.children.sort(R))}};function R(t,e){return t._zIndex-e._zIndex}var z=i(32025);const F={getGlobalPosition(t=new z.b,e=!1){return this.parent?this.parent.toGlobal(this._position,t,e):(t.x=this._position.x,t.y=this._position.y),t},toGlobal(t,e,i=!1){const r=this.getGlobalTransform(_.u.get(),i);return e=r.apply(t,e),_.u.return(r),e},toLocal(t,e,i,r){e&&(t=e.toGlobal(t,i,r));const s=this.getGlobalTransform(_.u.get(),r);return i=s.applyInverse(t,i),_.u.return(s),i}};var L=i(24924),D=i(25593);class W{constructor(){this.renderPipeId="renderGroup",this.root=null,this.canBundle=!1,this.renderGroupParent=null,this.renderGroupChildren=[],this.worldTransform=new n.u,this.worldColorAlpha=4294967295,this.worldColor=16777215,this.worldAlpha=1,this.childrenToUpdate=Object.create(null),this.updateTick=0,this.gcTick=0,this.childrenRenderablesToUpdate={list:[],index:0},this.structureDidChange=!0,this.instructionSet=new L.L,this._onRenderContainers=[],this.textureNeedsUpdate=!0,this.isCachedAsTexture=!1,this._matrixDirty=7}init(t){this.root=t,t._onRender&&this.addOnRender(t),t.didChange=!0;const e=t.children;for(let t=0;t<e.length;t++){const i=e[t];i._updateFlags=15,this.addChild(i)}}enableCacheAsTexture(t={}){this.textureOptions=t,this.isCachedAsTexture=!0,this.textureNeedsUpdate=!0}disableCacheAsTexture(){this.isCachedAsTexture=!1,this.texture&&(D.W.returnTexture(this.texture,!0),this.texture=null)}updateCacheTexture(){this.textureNeedsUpdate=!0}reset(){this.renderGroupChildren.length=0;for(const t in this.childrenToUpdate){const e=this.childrenToUpdate[t];e.list.fill(null),e.index=0}this.childrenRenderablesToUpdate.index=0,this.childrenRenderablesToUpdate.list.fill(null),this.root=null,this.updateTick=0,this.structureDidChange=!0,this._onRenderContainers.length=0,this.renderGroupParent=null,this.disableCacheAsTexture()}get localTransform(){return this.root.localTransform}addRenderGroupChild(t){t.renderGroupParent&&t.renderGroupParent._removeRenderGroupChild(t),t.renderGroupParent=this,this.renderGroupChildren.push(t)}_removeRenderGroupChild(t){const e=this.renderGroupChildren.indexOf(t);e>-1&&this.renderGroupChildren.splice(e,1),t.renderGroupParent=null}addChild(t){if(this.structureDidChange=!0,t.parentRenderGroup=this,t.updateTick=-1,t.parent===this.root?t.relativeRenderGroupDepth=1:t.relativeRenderGroupDepth=t.parent.relativeRenderGroupDepth+1,t.didChange=!0,this.onChildUpdate(t),t.renderGroup)return void this.addRenderGroupChild(t.renderGroup);t._onRender&&this.addOnRender(t);const e=t.children;for(let t=0;t<e.length;t++)this.addChild(e[t])}removeChild(t){if(this.structureDidChange=!0,t._onRender&&(t.renderGroup||this.removeOnRender(t)),t.parentRenderGroup=null,t.renderGroup)return void this._removeRenderGroupChild(t.renderGroup);const e=t.children;for(let t=0;t<e.length;t++)this.removeChild(e[t])}removeChildren(t){for(let e=0;e<t.length;e++)this.removeChild(t[e])}onChildUpdate(t){let e=this.childrenToUpdate[t.relativeRenderGroupDepth];e||(e=this.childrenToUpdate[t.relativeRenderGroupDepth]={index:0,list:[]}),e.list[e.index++]=t}updateRenderable(t){t.globalDisplayStatus<7||(this.instructionSet.renderPipes[t.renderPipeId].updateRenderable(t),t.didViewUpdate=!1)}onChildViewUpdate(t){this.childrenRenderablesToUpdate.list[this.childrenRenderablesToUpdate.index++]=t}get isRenderable(){return 7===this.root.localDisplayStatus&&this.worldAlpha>0}addOnRender(t){this._onRenderContainers.push(t)}removeOnRender(t){this._onRenderContainers.splice(this._onRenderContainers.indexOf(t),1)}runOnRender(t){for(let e=0;e<this._onRenderContainers.length;e++)this._onRenderContainers[e]._onRender(t)}destroy(){this.disableCacheAsTexture(),this.renderGroupParent=null,this.root=null,this.childrenRenderablesToUpdate=null,this.childrenToUpdate=null,this.renderGroupChildren=null,this._onRenderContainers=null,this.instructionSet=null}getChildren(t=[]){const e=this.root.children;for(let i=0;i<e.length;i++)this._getChildren(e[i],t);return t}_getChildren(t,e=[]){if(e.push(t),t.renderGroup)return e;const i=t.children;for(let t=0;t<i.length;t++)this._getChildren(i[t],e);return e}invalidateMatrices(){this._matrixDirty=7}get inverseWorldTransform(){return 1&this._matrixDirty?(this._matrixDirty&=-2,this._inverseWorldTransform||(this._inverseWorldTransform=new n.u),this._inverseWorldTransform.copyFrom(this.worldTransform).invert()):this._inverseWorldTransform}get textureOffsetInverseTransform(){return 2&this._matrixDirty?(this._matrixDirty&=-3,this._textureOffsetInverseTransform||(this._textureOffsetInverseTransform=new n.u),this._textureOffsetInverseTransform.copyFrom(this.inverseWorldTransform).translate(-this._textureBounds.x,-this._textureBounds.y)):this._textureOffsetInverseTransform}get inverseParentTextureTransform(){if(!(4&this._matrixDirty))return this._inverseParentTextureTransform;this._matrixDirty&=-5;const t=this._parentCacheAsTextureRenderGroup;return t?(this._inverseParentTextureTransform||(this._inverseParentTextureTransform=new n.u),this._inverseParentTextureTransform.copyFrom(this.worldTransform).prepend(t.inverseWorldTransform).translate(-t._textureBounds.x,-t._textureBounds.y)):this.worldTransform}get cacheToLocalTransform(){return this._parentCacheAsTextureRenderGroup?this._parentCacheAsTextureRenderGroup.textureOffsetInverseTransform:null}}const V=new l.o(null),H=new l.o(null),N=new l.o(null,1,1),Y=new l.o(null),X=1,U=2,G=4;class j extends r.A{constructor(t={}){super(),this.uid=(0,h.L)("renderable"),this._updateFlags=15,this.renderGroup=null,this.parentRenderGroup=null,this.parentRenderGroupIndex=0,this.didChange=!1,this.didViewUpdate=!1,this.relativeRenderGroupDepth=0,this.children=[],this.parent=null,this.includeInBuild=!0,this.measurable=!0,this.isSimple=!0,this.updateTick=-1,this.localTransform=new n.u,this.relativeGroupTransform=new n.u,this.groupTransform=this.relativeGroupTransform,this.destroyed=!1,this._position=new l.o(this,0,0),this._scale=N,this._pivot=H,this._origin=Y,this._skew=V,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._rotation=0,this.localColor=16777215,this.localAlpha=1,this.groupAlpha=1,this.groupColor=16777215,this.groupColorAlpha=4294967295,this.localBlendMode="inherit",this.groupBlendMode="normal",this.localDisplayStatus=7,this.globalDisplayStatus=7,this._didContainerChangeTick=0,this._didViewChangeTick=0,this._didLocalTransformChangeId=-1,this.effects=[],function(t,e,i={}){for(const r in e)i[r]||void 0===e[r]||(t[r]=e[r])}(this,t,{children:!0,parent:!0,effects:!0}),t.children?.forEach(t=>this.addChild(t)),t.parent?.addChild(this)}static mixin(t){(0,c.t6)("8.8.0","Container.mixin is deprecated, please use extensions.mixin instead."),a.XO.mixin(j,t)}set _didChangeId(t){this._didViewChangeTick=t>>12&4095,this._didContainerChangeTick=4095&t}get _didChangeId(){return 4095&this._didContainerChangeTick|(4095&this._didViewChangeTick)<<12}addChild(...t){if(this.allowChildren||(0,c.t6)(c.lj,"addChild: Only Containers will be allowed to add children in v8.0.0"),t.length>1){for(let e=0;e<t.length;e++)this.addChild(t[e]);return t[0]}const e=t[0],i=this.renderGroup||this.parentRenderGroup;return e.parent===this?(this.children.splice(this.children.indexOf(e),1),this.children.push(e),i&&(i.structureDidChange=!0),e):(e.parent&&e.parent.removeChild(e),this.children.push(e),this.sortableChildren&&(this.sortDirty=!0),e.parent=this,e.didChange=!0,e._updateFlags=15,i&&i.addChild(e),this.emit("childAdded",e,this,this.children.length-1),e.emit("added",this),this._didViewChangeTick++,0!==e._zIndex&&e.depthOfChildModified(),e)}removeChild(...t){if(t.length>1){for(let e=0;e<t.length;e++)this.removeChild(t[e]);return t[0]}const e=t[0],i=this.children.indexOf(e);return i>-1&&(this._didViewChangeTick++,this.children.splice(i,1),this.renderGroup?this.renderGroup.removeChild(e):this.parentRenderGroup&&this.parentRenderGroup.removeChild(e),e.parentRenderLayer&&e.parentRenderLayer.detach(e),e.parent=null,this.emit("childRemoved",e,this,i),e.emit("removed",this)),e}_onUpdate(t){t&&t===this._skew&&this._updateSkew(),this._didContainerChangeTick++,this.didChange||(this.didChange=!0,this.parentRenderGroup&&this.parentRenderGroup.onChildUpdate(this))}set isRenderGroup(t){!!this.renderGroup!==t&&(t?this.enableRenderGroup():this.disableRenderGroup())}get isRenderGroup(){return!!this.renderGroup}enableRenderGroup(){if(this.renderGroup)return;const t=this.parentRenderGroup;t?.removeChild(this),this.renderGroup=u.Z.get(W,this),this.groupTransform=n.u.IDENTITY,t?.addChild(this),this._updateIsSimple()}disableRenderGroup(){if(!this.renderGroup)return;const t=this.parentRenderGroup;t?.removeChild(this),u.Z.return(this.renderGroup),this.renderGroup=null,this.groupTransform=this.relativeGroupTransform,t?.addChild(this),this._updateIsSimple()}_updateIsSimple(){this.isSimple=!this.renderGroup&&0===this.effects.length}get worldTransform(){return this._worldTransform||(this._worldTransform=new n.u),this.renderGroup?this._worldTransform.copyFrom(this.renderGroup.worldTransform):this.parentRenderGroup&&this._worldTransform.appendFrom(this.relativeGroupTransform,this.parentRenderGroup.worldTransform),this._worldTransform}get x(){return this._position.x}set x(t){this._position.x=t}get y(){return this._position.y}set y(t){this._position.y=t}get position(){return this._position}set position(t){this._position.copyFrom(t)}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this._onUpdate(this._skew))}get angle(){return this.rotation*o.bO}set angle(t){this.rotation=t*o.Td}get pivot(){return this._pivot===H&&(this._pivot=new l.o(this,0,0)),this._pivot}set pivot(t){this._pivot===H&&(this._pivot=new l.o(this,0,0),this._origin!==Y&&(0,d.R)("Setting both a pivot and origin on a Container is not recommended. This can lead to unexpected behavior if not handled carefully.")),"number"==typeof t?this._pivot.set(t):this._pivot.copyFrom(t)}get skew(){return this._skew===V&&(this._skew=new l.o(this,0,0)),this._skew}set skew(t){this._skew===V&&(this._skew=new l.o(this,0,0)),this._skew.copyFrom(t)}get scale(){return this._scale===N&&(this._scale=new l.o(this,1,1)),this._scale}set scale(t){this._scale===N&&(this._scale=new l.o(this,0,0)),"string"==typeof t&&(t=parseFloat(t)),"number"==typeof t?this._scale.set(t):this._scale.copyFrom(t)}get origin(){return this._origin===Y&&(this._origin=new l.o(this,0,0)),this._origin}set origin(t){this._origin===Y&&(this._origin=new l.o(this,0,0),this._pivot!==H&&(0,d.R)("Setting both a pivot and origin on a Container is not recommended. This can lead to unexpected behavior if not handled carefully.")),"number"==typeof t?this._origin.set(t):this._origin.copyFrom(t)}get width(){return Math.abs(this.scale.x*this.getLocalBounds().width)}set width(t){const e=this.getLocalBounds().width;this._setWidth(t,e)}get height(){return Math.abs(this.scale.y*this.getLocalBounds().height)}set height(t){const e=this.getLocalBounds().height;this._setHeight(t,e)}getSize(t){t||(t={});const e=this.getLocalBounds();return t.width=Math.abs(this.scale.x*e.width),t.height=Math.abs(this.scale.y*e.height),t}setSize(t,e){const i=this.getLocalBounds();"object"==typeof t?(e=t.height??t.width,t=t.width):e??(e=t),void 0!==t&&this._setWidth(t,i.width),void 0!==e&&this._setHeight(e,i.height)}_updateSkew(){const t=this._rotation,e=this._skew;this._cx=Math.cos(t+e._y),this._sx=Math.sin(t+e._y),this._cy=-Math.sin(t-e._x),this._sy=Math.cos(t-e._x)}updateTransform(t){return this.position.set("number"==typeof t.x?t.x:this.position.x,"number"==typeof t.y?t.y:this.position.y),this.scale.set("number"==typeof t.scaleX?t.scaleX||1:this.scale.x,"number"==typeof t.scaleY?t.scaleY||1:this.scale.y),this.rotation="number"==typeof t.rotation?t.rotation:this.rotation,this.skew.set("number"==typeof t.skewX?t.skewX:this.skew.x,"number"==typeof t.skewY?t.skewY:this.skew.y),this.pivot.set("number"==typeof t.pivotX?t.pivotX:this.pivot.x,"number"==typeof t.pivotY?t.pivotY:this.pivot.y),this.origin.set("number"==typeof t.originX?t.originX:this.origin.x,"number"==typeof t.originY?t.originY:this.origin.y),this}setFromMatrix(t){t.decompose(this)}updateLocalTransform(){const t=this._didContainerChangeTick;if(this._didLocalTransformChangeId===t)return;this._didLocalTransformChangeId=t;const e=this.localTransform,i=this._scale,r=this._pivot,s=this._origin,a=this._position,n=i._x,o=i._y,l=r._x,h=r._y,c=-s._x,d=-s._y;e.a=this._cx*n,e.b=this._sx*n,e.c=this._cy*o,e.d=this._sy*o,e.tx=a._x-(l*e.a+h*e.c)+(c*e.a+d*e.c)-c,e.ty=a._y-(l*e.b+h*e.d)+(c*e.b+d*e.d)-d}set alpha(t){t!==this.localAlpha&&(this.localAlpha=t,this._updateFlags|=X,this._onUpdate())}get alpha(){return this.localAlpha}set tint(t){const e=s.Q.shared.setValue(t??16777215).toBgrNumber();e!==this.localColor&&(this.localColor=e,this._updateFlags|=X,this._onUpdate())}get tint(){return T(this.localColor)}set blendMode(t){this.localBlendMode!==t&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=U,this.localBlendMode=t,this._onUpdate())}get blendMode(){return this.localBlendMode}get visible(){return!!(2&this.localDisplayStatus)}set visible(t){const e=t?2:0;(2&this.localDisplayStatus)!==e&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=G,this.localDisplayStatus^=2,this._onUpdate())}get culled(){return!(4&this.localDisplayStatus)}set culled(t){const e=t?0:4;(4&this.localDisplayStatus)!==e&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=G,this.localDisplayStatus^=4,this._onUpdate())}get renderable(){return!!(1&this.localDisplayStatus)}set renderable(t){const e=t?1:0;(1&this.localDisplayStatus)!==e&&(this._updateFlags|=G,this.localDisplayStatus^=1,this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._onUpdate())}get isRenderable(){return 7===this.localDisplayStatus&&this.groupAlpha>0}destroy(t=!1){if(this.destroyed)return;let e;if(this.destroyed=!0,this.children.length&&(e=this.removeChildren(0,this.children.length)),this.removeFromParent(),this.parent=null,this._maskEffect=null,this._filterEffect=null,this.effects=null,this._position=null,this._scale=null,this._pivot=null,this._origin=null,this._skew=null,this.emit("destroyed",this),this.removeAllListeners(),("boolean"==typeof t?t:t?.children)&&e)for(let i=0;i<e.length;++i)e[i].destroy(t);this.renderGroup?.destroy(),this.renderGroup=null}}a.XO.mixin(j,f,S,F,E,I,v,x,$,{cullArea:null,cullable:!1,cullableChildren:!0},p,M,g)},6989:(t,e,i)=>{"use strict";let r;function s(){if("boolean"==typeof r)return r;try{const t=new Function("param1","param2","param3","return param1[param2] === param3;");r=!0===t({a:"b"},"a","b")}catch(t){r=!1}return r}i.d(e,{f:()=>s})},7488:(t,e,i)=>{"use strict";i.d(e,{_:()=>p});var r=i(98917),s=i(55829),a=i(69325),n=i(89241),o=i(26873),l=i(80753),h=i(98610),c=i(17782);const d=[{offset:0,color:"white"},{offset:1,color:"black"}],u=class t{constructor(...e){this.uid=(0,l.L)("fillGradient"),this.type="linear",this.colorStops=[];let i=function(t){let e=t[0]??{};return("number"==typeof e||t[1])&&((0,h.t6)("8.5.2","use options object instead"),e={type:"linear",start:{x:t[0],y:t[1]},end:{x:t[2],y:t[3]},textureSpace:t[4],textureSize:t[5]??p.defaultLinearOptions.textureSize}),e}(e);i={..."radial"===i.type?t.defaultRadialOptions:t.defaultLinearOptions,...(0,c.S)(i)},this._textureSize=i.textureSize,this._wrapMode=i.wrapMode,"radial"===i.type?(this.center=i.center,this.outerCenter=i.outerCenter??this.center,this.innerRadius=i.innerRadius,this.outerRadius=i.outerRadius,this.scale=i.scale,this.rotation=i.rotation):(this.start=i.start,this.end=i.end),this.textureSpace=i.textureSpace,this.type=i.type,i.colorStops.forEach(t=>{this.addColorStop(t.offset,t.color)})}addColorStop(t,e){return this.colorStops.push({offset:t,color:r.Q.shared.setValue(e).toHexa()}),this}buildLinearGradient(){if(this.texture)return;let{x:t,y:e}=this.start,{x:i,y:r}=this.end,s=i-t,l=r-e;const h=s<0||l<0;if("clamp-to-edge"===this._wrapMode){if(s<0){const e=t;t=i,i=e,s*=-1}if(l<0){const t=e;e=r,r=t,l*=-1}}const c=this.colorStops.length?this.colorStops:d,u=this._textureSize,{canvas:p,context:g}=f(u,1),b=h?g.createLinearGradient(this._textureSize,0,0,0):g.createLinearGradient(0,0,this._textureSize,0);m(b,c),g.fillStyle=b,g.fillRect(0,0,u,1),this.texture=new o.g({source:new n.b({resource:p,addressMode:this._wrapMode})});const y=Math.sqrt(s*s+l*l),v=Math.atan2(l,s),x=new a.u;x.scale(y/u,1),x.rotate(v),x.translate(t,e),"local"===this.textureSpace&&x.scale(u,u),this.transform=x}buildGradient(){"linear"===this.type?this.buildLinearGradient():this.buildRadialGradient()}buildRadialGradient(){if(this.texture)return;const t=this.colorStops.length?this.colorStops:d,e=this._textureSize,{canvas:i,context:r}=f(e,e),{x:s,y:l}=this.center,{x:h,y:c}=this.outerCenter,u=this.innerRadius,p=this.outerRadius,g=h-p,b=c-p,y=e/(2*p),v=(s-g)*y,x=(l-b)*y,w=r.createRadialGradient(v,x,u*y,(h-g)*y,(c-b)*y,p*y);m(w,t),r.fillStyle=t[t.length-1].color,r.fillRect(0,0,e,e),r.fillStyle=w,r.translate(v,x),r.rotate(this.rotation),r.scale(1,this.scale),r.translate(-v,-x),r.fillRect(0,0,e,e),this.texture=new o.g({source:new n.b({resource:i,addressMode:this._wrapMode})});const _=new a.u;_.scale(1/y,1/y),_.translate(g,b),"local"===this.textureSpace&&_.scale(e,e),this.transform=_}get styleKey(){return this.uid}destroy(){this.texture?.destroy(!0),this.texture=null,this.transform=null,this.colorStops=[],this.start=null,this.end=null,this.center=null,this.outerCenter=null}};u.defaultLinearOptions={start:{x:0,y:0},end:{x:0,y:1},colorStops:[],textureSpace:"local",type:"linear",textureSize:256,wrapMode:"clamp-to-edge"},u.defaultRadialOptions={center:{x:.5,y:.5},innerRadius:0,outerRadius:.5,colorStops:[],scale:1,textureSpace:"local",type:"radial",textureSize:256,wrapMode:"clamp-to-edge"};let p=u;function m(t,e){for(let i=0;i<e.length;i++){const r=e[i];t.addColorStop(r.offset,r.color)}}function f(t,e){const i=s.e.get().createCanvas(t,e),r=i.getContext("2d");return{canvas:i,context:r}}},9017:(t,e,i)=>{"use strict";i.d(e,{T:()=>q});var r=i(55698),s=i(98917),a=i(69325),n=i(32025),o=i(26873),l=i(80753),h=i(98610),c=i(34856),d=i(63880),u=i(95255),p=i(88096);class m{constructor(t=0,e=0,i=0){this.type="circle",this.x=t,this.y=e,this.radius=i}clone(){return new m(this.x,this.y,this.radius)}contains(t,e){if(this.radius<=0)return!1;const i=this.radius*this.radius;let r=this.x-t,s=this.y-e;return r*=r,s*=s,r+s<=i}strokeContains(t,e,i,r=.5){if(0===this.radius)return!1;const s=this.x-t,a=this.y-e,n=this.radius,o=(1-r)*i,l=Math.sqrt(s*s+a*a);return l<=n+o&&l>n-(i-o)}getBounds(t){return t||(t=new p.M),t.x=this.x-this.radius,t.y=this.y-this.radius,t.width=2*this.radius,t.height=2*this.radius,t}copyFrom(t){return this.x=t.x,this.y=t.y,this.radius=t.radius,this}copyTo(t){return t.copyFrom(this),t}toString(){return`[pixi.js/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class f{constructor(t=0,e=0,i=0,r=0){this.type="ellipse",this.x=t,this.y=e,this.halfWidth=i,this.halfHeight=r}clone(){return new f(this.x,this.y,this.halfWidth,this.halfHeight)}contains(t,e){if(this.halfWidth<=0||this.halfHeight<=0)return!1;let i=(t-this.x)/this.halfWidth,r=(e-this.y)/this.halfHeight;return i*=i,r*=r,i+r<=1}strokeContains(t,e,i,r=.5){const{halfWidth:s,halfHeight:a}=this;if(s<=0||a<=0)return!1;const n=i*(1-r),o=i-n,l=s-o,h=a-o,c=s+n,d=a+n,u=t-this.x,p=e-this.y;return u*u/(l*l)+p*p/(h*h)>1&&u*u/(c*c)+p*p/(d*d)<=1}getBounds(t){return t||(t=new p.M),t.x=this.x-this.halfWidth,t.y=this.y-this.halfHeight,t.width=2*this.halfWidth,t.height=2*this.halfHeight,t}copyFrom(t){return this.x=t.x,this.y=t.y,this.halfWidth=t.halfWidth,this.halfHeight=t.halfHeight,this}copyTo(t){return t.copyFrom(this),t}toString(){return`[pixi.js/math:Ellipse x=${this.x} y=${this.y} halfWidth=${this.halfWidth} halfHeight=${this.halfHeight}]`}}function g(t,e,i,r,s,a){const n=s-i,o=a-r,l=n*n+o*o;let h,c,d=-1;0!==l&&(d=((t-i)*n+(e-r)*o)/l),d<0?(h=i,c=r):d>1?(h=s,c=a):(h=i+d*n,c=r+d*o);const u=t-h,p=e-c;return u*u+p*p}class b{constructor(...t){this.type="polygon";let e=Array.isArray(t[0])?t[0]:t;if("number"!=typeof e[0]){const t=[];for(let i=0,r=e.length;i<r;i++)t.push(e[i].x,e[i].y);e=t}this.points=e,this.closePath=!0}isClockwise(){let t=0;const e=this.points,i=e.length;for(let r=0;r<i;r+=2){const s=e[r],a=e[r+1];t+=(e[(r+2)%i]-s)*(e[(r+3)%i]+a)}return t<0}containsPolygon(t){const e=this.getBounds(void 0),i=t.getBounds(void 0);if(!e.containsRect(i))return!1;const r=t.points;for(let t=0;t<r.length;t+=2){const e=r[t],i=r[t+1];if(!this.contains(e,i))return!1}return!0}clone(){const t=this.points.slice(),e=new b(t);return e.closePath=this.closePath,e}contains(t,e){let i=!1;const r=this.points.length/2;for(let s=0,a=r-1;s<r;a=s++){const r=this.points[2*s],n=this.points[2*s+1],o=this.points[2*a],l=this.points[2*a+1];n>e!=l>e&&t<(e-n)/(l-n)*(o-r)+r&&(i=!i)}return i}strokeContains(t,e,i,r=.5){const s=i*i,a=s*(1-r),n=s-a,{points:o}=this,l=o.length-(this.closePath?0:2);for(let i=0;i<l;i+=2){const r=o[i],s=o[i+1],l=o[(i+2)%o.length],h=o[(i+3)%o.length];if(g(t,e,r,s,l,h)<=(Math.sign((l-r)*(e-s)-(h-s)*(t-r))<0?n:a))return!0}return!1}getBounds(t){t||(t=new p.M);const e=this.points;let i=1/0,r=-1/0,s=1/0,a=-1/0;for(let t=0,n=e.length;t<n;t+=2){const n=e[t],o=e[t+1];i=n<i?n:i,r=n>r?n:r,s=o<s?o:s,a=o>a?o:a}return t.x=i,t.width=r-i,t.y=s,t.height=a-s,t}copyFrom(t){return this.points=t.points.slice(),this.closePath=t.closePath,this}copyTo(t){return t.copyFrom(this),t}toString(){return`[pixi.js/math:PolygoncloseStroke=${this.closePath}points=${this.points.reduce((t,e)=>`${t}, ${e}`,"")}]`}get lastX(){return this.points[this.points.length-2]}get lastY(){return this.points[this.points.length-1]}get x(){return(0,h.t6)("8.11.0","Polygon.lastX is deprecated, please use Polygon.lastX instead."),this.points[this.points.length-2]}get y(){return(0,h.t6)("8.11.0","Polygon.y is deprecated, please use Polygon.lastY instead."),this.points[this.points.length-1]}get startX(){return this.points[0]}get startY(){return this.points[1]}}const y=(t,e,i,r,s,a,n)=>{const o=t-i,l=e-r,h=Math.sqrt(o*o+l*l);return h>=s-a&&h<=s+n};class v{constructor(t=0,e=0,i=0,r=0,s=20){this.type="roundedRectangle",this.x=t,this.y=e,this.width=i,this.height=r,this.radius=s}getBounds(t){return t||(t=new p.M),t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t}clone(){return new v(this.x,this.y,this.width,this.height,this.radius)}copyFrom(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this}copyTo(t){return t.copyFrom(this),t}contains(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){const i=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(e>=this.y+i&&e<=this.y+this.height-i||t>=this.x+i&&t<=this.x+this.width-i)return!0;let r=t-(this.x+i),s=e-(this.y+i);const a=i*i;if(r*r+s*s<=a)return!0;if(r=t-(this.x+this.width-i),r*r+s*s<=a)return!0;if(s=e-(this.y+this.height-i),r*r+s*s<=a)return!0;if(r=t-(this.x+i),r*r+s*s<=a)return!0}return!1}strokeContains(t,e,i,r=.5){const{x:s,y:a,width:n,height:o,radius:l}=this,h=i*(1-r),c=i-h,d=s+l,u=a+l,p=s+n,m=a+o;return(t>=s-h&&t<=s+c||t>=p-c&&t<=p+h)&&e>=u&&e<=u+(o-2*l)||(e>=a-h&&e<=a+c||e>=m-c&&e<=m+h)&&t>=d&&t<=d+(n-2*l)||t<d&&e<u&&y(t,e,d,u,l,c,h)||t>p-l&&e<u&&y(t,e,p-l,u,l,c,h)||t>p-l&&e>m-l&&y(t,e,p-l,m-l,l,c,h)||t<d&&e>m-l&&y(t,e,d,m-l,l,c,h)}toString(){return`[pixi.js/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}var x=i(43578);const w=1.1920929e-7;function _(t,e,i,r,s,a,n,o,l,h){let c=(1-Math.min(.99,Math.max(0,h??x.GH.defaultOptions.bezierSmoothness)))/1;return c*=c,function(t,e,i,r,s,a,n,o,l,h){k(t,e,i,r,s,a,n,o,l,h,0),l.push(n,o)}(e,i,r,s,a,n,o,l,t,c),t}function k(t,e,i,r,s,a,n,o,l,h,c){if(c>8)return;Math.PI;const d=(t+i)/2,u=(e+r)/2,p=(i+s)/2,m=(r+a)/2,f=(s+n)/2,g=(a+o)/2,b=(d+p)/2,y=(u+m)/2,v=(p+f)/2,x=(m+g)/2,_=(b+v)/2,S=(y+x)/2;if(c>0){let c=n-t,d=o-e;const u=Math.abs((i-n)*d-(r-o)*c),p=Math.abs((s-n)*d-(a-o)*c);if(u>w&&p>w){if((u+p)*(u+p)<=h*(c*c+d*d))return void l.push(_,S)}else if(u>w){if(u*u<=h*(c*c+d*d))return void l.push(_,S)}else if(p>w){if(p*p<=h*(c*c+d*d))return void l.push(_,S)}else if(c=_-(t+n)/2,d=S-(e+o)/2,c*c+d*d<=h)return void l.push(_,S)}k(t,e,d,u,b,y,_,S,l,h,c+1),k(_,S,v,x,f,g,n,o,l,h,c+1)}function S(t,e,i,r,s,a,n,o){let l=(1-Math.min(.99,Math.max(0,o??x.GH.defaultOptions.bezierSmoothness)))/1;return l*=l,function(t,e,i,r,s,a,n,o){C(n,t,e,i,r,s,a,o,0),n.push(s,a)}(e,i,r,s,a,n,t,l),t}function C(t,e,i,r,s,a,n,o,l){if(l>8)return;Math.PI;const h=(e+r)/2,c=(i+s)/2,d=(r+a)/2,u=(s+n)/2,p=(h+d)/2,m=(c+u)/2;let f=a-e,g=n-i;const b=Math.abs((r-a)*g-(s-n)*f);if(b>1.1920929e-7){if(b*b<=o*(f*f+g*g))return void t.push(p,m)}else if(f=p-(e+a)/2,g=m-(i+n)/2,f*f+g*g<=o)return void t.push(p,m);C(t,e,i,h,c,p,m,o,l+1),C(t,p,m,d,u,a,n,o,l+1)}function A(t,e,i,r,s,a,n,o){let l=Math.abs(s-a);(!n&&s>a||n&&a>s)&&(l=2*Math.PI-l),o||(o=Math.max(6,Math.floor(6*Math.pow(r,1/3)*(l/Math.PI))));let h=l/(o=Math.max(o,3)),c=s;h*=n?-1:1;for(let s=0;s<o+1;s++){const s=e+Math.cos(c)*r,a=i+Math.sin(c)*r;t.push(s,a),c+=h}}const T=2*Math.PI,M={centerX:0,centerY:0,ang1:0,ang2:0},B=({x:t,y:e},i,r,s,a,n,o,l)=>{const h=s*(t*=i)-a*(e*=r),c=a*t+s*e;return l.x=h+n,l.y=c+o,l};function P(t,e){const i=-1.5707963267948966===e?-.551915024494:4/3*Math.tan(e/4),r=1.5707963267948966===e?.551915024494:i,s=Math.cos(t),a=Math.sin(t),n=Math.cos(t+e),o=Math.sin(t+e);return[{x:s-a*r,y:a+s*r},{x:n+o*r,y:o-n*r},{x:n,y:o}]}const O=(t,e,i,r)=>{let s=t*i+e*r;return s>1&&(s=1),s<-1&&(s=-1),(t*r-e*i<0?-1:1)*Math.acos(s)};const I=new p.M;class E{constructor(t){this.shapePrimitives=[],this._currentPoly=null,this._bounds=new c.c,this._graphicsPath2D=t,this.signed=t.checkForHoles}moveTo(t,e){return this.startPoly(t,e),this}lineTo(t,e){this._ensurePoly();const i=this._currentPoly.points,r=i[i.length-2],s=i[i.length-1];return r===t&&s===e||i.push(t,e),this}arc(t,e,i,r,s,a){return this._ensurePoly(!1),A(this._currentPoly.points,t,e,i,r,s,a),this}arcTo(t,e,i,r,s){return this._ensurePoly(),function(t,e,i,r,s,a){const n=t[t.length-2],o=t[t.length-1]-i,l=n-e,h=s-i,c=r-e,d=Math.abs(o*c-l*h);if(d<1e-8||0===a)return void(t[t.length-2]===e&&t[t.length-1]===i||t.push(e,i));const u=o*o+l*l,p=h*h+c*c,m=o*h+l*c,f=a*Math.sqrt(u)/d,g=a*Math.sqrt(p)/d,b=f*m/u,y=g*m/p,v=f*c+g*l,x=f*h+g*o,w=l*(g+b),_=o*(g+b),k=c*(f+y),S=h*(f+y);A(t,v+e,x+i,a,Math.atan2(_-x,w-v),Math.atan2(S-x,k-v),l*h>c*o)}(this._currentPoly.points,t,e,i,r,s),this}arcToSvg(t,e,i,r,s,a,n){return function(t,e,i,r,s,a,n,o=0,l=0,h=0){if(0===a||0===n)return;const c=Math.sin(o*T/360),d=Math.cos(o*T/360),u=d*(e-r)/2+c*(i-s)/2,p=-c*(e-r)/2+d*(i-s)/2;if(0===u&&0===p)return;a=Math.abs(a),n=Math.abs(n);const m=Math.pow(u,2)/Math.pow(a,2)+Math.pow(p,2)/Math.pow(n,2);m>1&&(a*=Math.sqrt(m),n*=Math.sqrt(m)),((t,e,i,r,s,a,n,o,l,h,c,d,u)=>{const p=Math.pow(s,2),m=Math.pow(a,2),f=Math.pow(c,2),g=Math.pow(d,2);let b=p*m-p*g-m*f;b<0&&(b=0),b/=p*g+m*f,b=Math.sqrt(b)*(n===o?-1:1);const y=b*s/a*d,v=b*-a/s*c,x=h*y-l*v+(t+i)/2,w=l*y+h*v+(e+r)/2,_=(c-y)/s,k=(d-v)/a,S=(-c-y)/s,C=(-d-v)/a,A=O(1,0,_,k);let M=O(_,k,S,C);0===o&&M>0&&(M-=T),1===o&&M<0&&(M+=T),u.centerX=x,u.centerY=w,u.ang1=A,u.ang2=M})(e,i,r,s,a,n,l,h,c,d,u,p,M);let{ang1:f,ang2:g}=M;const{centerX:b,centerY:y}=M;let v=Math.abs(g)/(T/4);Math.abs(1-v)<1e-7&&(v=1);const x=Math.max(Math.ceil(v),1);g/=x;let w=t[t.length-2],k=t[t.length-1];const S={x:0,y:0};for(let e=0;e<x;e++){const e=P(f,g),{x:i,y:r}=B(e[0],a,n,d,c,b,y,S),{x:s,y:o}=B(e[1],a,n,d,c,b,y,S),{x:l,y:h}=B(e[2],a,n,d,c,b,y,S);_(t,w,k,i,r,s,o,l,h),w=l,k=h,f+=g}}(this._currentPoly.points,this._currentPoly.lastX,this._currentPoly.lastY,a,n,t,e,i,r,s),this}bezierCurveTo(t,e,i,r,s,a,n){this._ensurePoly();const o=this._currentPoly;return _(this._currentPoly.points,o.lastX,o.lastY,t,e,i,r,s,a,n),this}quadraticCurveTo(t,e,i,r,s){this._ensurePoly();const a=this._currentPoly;return S(this._currentPoly.points,a.lastX,a.lastY,t,e,i,r,s),this}closePath(){return this.endPoly(!0),this}addPath(t,e){this.endPoly(),e&&!e.isIdentity()&&(t=t.clone(!0)).transform(e);const i=this.shapePrimitives,r=i.length;for(let e=0;e<t.instructions.length;e++){const i=t.instructions[e];this[i.action](...i.data)}if(t.checkForHoles&&i.length-r>1){let t=null;for(let e=r;e<i.length;e++){const r=i[e];if("polygon"===r.shape.type){const s=r.shape,a=t?.shape;a&&a.containsPolygon(s)?(t.holes||(t.holes=[]),t.holes.push(r),i.copyWithin(e,e+1),i.length--,e--):t=r}}}return this}finish(t=!1){this.endPoly(t)}rect(t,e,i,r,s){return this.drawShape(new p.M(t,e,i,r),s),this}circle(t,e,i,r){return this.drawShape(new m(t,e,i),r),this}poly(t,e,i){const r=new b(t);return r.closePath=e,this.drawShape(r,i),this}regularPoly(t,e,i,r,s=0,a){r=Math.max(0|r,3);const n=-1*Math.PI/2+s,o=2*Math.PI/r,l=[];for(let s=0;s<r;s++){const r=n-s*o;l.push(t+i*Math.cos(r),e+i*Math.sin(r))}return this.poly(l,!0,a),this}roundPoly(t,e,i,r,s,a=0,n){if(r=Math.max(0|r,3),s<=0)return this.regularPoly(t,e,i,r,a);const o=i*Math.sin(Math.PI/r)-.001;s=Math.min(s,o);const l=-1*Math.PI/2+a,h=2*Math.PI/r,c=(r-2)*Math.PI/r/2;for(let a=0;a<r;a++){const r=a*h+l,o=t+i*Math.cos(r),d=e+i*Math.sin(r),u=r+Math.PI+c,p=r-Math.PI-c,m=o+s*Math.cos(u),f=d+s*Math.sin(u),g=o+s*Math.cos(p),b=d+s*Math.sin(p);0===a?this.moveTo(m,f):this.lineTo(m,f),this.quadraticCurveTo(o,d,g,b,n)}return this.closePath()}roundShape(t,e,i=!1,r){return t.length<3?this:(i?function(t,e,i,r){const s=(t,e)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),a=(t,e,i)=>({x:t.x+(e.x-t.x)*i,y:t.y+(e.y-t.y)*i}),n=e.length;for(let o=0;o<n;o++){const l=e[(o+1)%n],h=l.radius??i;if(h<=0){0===o?t.moveTo(l.x,l.y):t.lineTo(l.x,l.y);continue}const c=e[o],d=e[(o+2)%n],u=s(c,l);let p;p=u<1e-4?l:a(l,c,Math.min(u/2,h)/u);const m=s(d,l);let f;f=m<1e-4?l:a(l,d,Math.min(m/2,h)/m),0===o?t.moveTo(p.x,p.y):t.lineTo(p.x,p.y),t.quadraticCurveTo(l.x,l.y,f.x,f.y,r)}}(this,t,e,r):function(t,e,i){const r=(t,e)=>{const i=e.x-t.x,r=e.y-t.y,s=Math.sqrt(i*i+r*r);return{len:s,nx:i/s,ny:r/s}},s=(e,i)=>{0===e?t.moveTo(i.x,i.y):t.lineTo(i.x,i.y)};let a=e[e.length-1];for(let n=0;n<e.length;n++){const o=e[n%e.length],l=o.radius??i;if(l<=0){s(n,o),a=o;continue}const h=e[(n+1)%e.length],c=r(o,a),d=r(o,h);if(c.len<1e-4||d.len<1e-4){s(n,o),a=o;continue}let u=Math.asin(c.nx*d.ny-c.ny*d.nx),p=1,m=!1;c.nx*d.nx-c.ny*-d.ny<0?u<0?u=Math.PI+u:(u=Math.PI-u,p=-1,m=!0):u>0&&(p=-1,m=!0);const f=u/2;let g,b=Math.abs(Math.cos(f)*l/Math.sin(f));b>Math.min(c.len/2,d.len/2)?(b=Math.min(c.len/2,d.len/2),g=Math.abs(b*Math.sin(f)/Math.cos(f))):g=l;const y=o.x+d.nx*b+-d.ny*g*p,v=o.y+d.ny*b+d.nx*g*p,x=Math.atan2(c.ny,c.nx)+Math.PI/2*p,w=Math.atan2(d.ny,d.nx)-Math.PI/2*p;0===n&&t.moveTo(y+Math.cos(x)*g,v+Math.sin(x)*g),t.arc(y,v,g,x,w,m),a=o}}(this,t,e),this.closePath())}filletRect(t,e,i,r,s){if(0===s)return this.rect(t,e,i,r);const a=Math.min(i,r)/2,n=Math.min(a,Math.max(-a,s)),o=t+i,l=e+r,h=n<0?-n:0,c=Math.abs(n);return this.moveTo(t,e+c).arcTo(t+h,e+h,t+c,e,c).lineTo(o-c,e).arcTo(o-h,e+h,o,e+c,c).lineTo(o,l-c).arcTo(o-h,l-h,t+i-c,l,c).lineTo(t+c,l).arcTo(t+h,l-h,t,l-c,c).closePath()}chamferRect(t,e,i,r,s,a){if(s<=0)return this.rect(t,e,i,r);const n=Math.min(s,Math.min(i,r)/2),o=t+i,l=e+r,h=[t+n,e,o-n,e,o,e+n,o,l-n,o-n,l,t+n,l,t,l-n,t,e+n];for(let t=h.length-1;t>=2;t-=2)h[t]===h[t-2]&&h[t-1]===h[t-3]&&h.splice(t-1,2);return this.poly(h,!0,a)}ellipse(t,e,i,r,s){return this.drawShape(new f(t,e,i,r),s),this}roundRect(t,e,i,r,s,a){return this.drawShape(new v(t,e,i,r,s),a),this}drawShape(t,e){return this.endPoly(),this.shapePrimitives.push({shape:t,transform:e}),this}startPoly(t,e){let i=this._currentPoly;return i&&this.endPoly(),i=new b,i.points.push(t,e),this._currentPoly=i,this}endPoly(t=!1){const e=this._currentPoly;return e&&e.points.length>2&&(e.closePath=t,this.shapePrimitives.push({shape:e})),this._currentPoly=null,this}_ensurePoly(t=!0){if(!this._currentPoly&&(this._currentPoly=new b,t)){const t=this.shapePrimitives[this.shapePrimitives.length-1];if(t){let e=t.shape.x,i=t.shape.y;if(t.transform&&!t.transform.isIdentity()){const r=t.transform,s=e;e=r.a*e+r.c*i+r.tx,i=r.b*s+r.d*i+r.ty}this._currentPoly.points.push(e,i)}else this._currentPoly.points.push(0,0)}}buildPath(){const t=this._graphicsPath2D;this.shapePrimitives.length=0,this._currentPoly=null;for(let e=0;e<t.instructions.length;e++){const i=t.instructions[e];this[i.action](...i.data)}this.finish()}get bounds(){const t=this._bounds;t.clear();const e=this.shapePrimitives;for(let i=0;i<e.length;i++){const r=e[i],s=r.shape.getBounds(I);r.transform?t.addRect(s,r.transform):t.addRect(s)}return t}}class ${constructor(t,e=!1){this.instructions=[],this.uid=(0,l.L)("graphicsPath"),this._dirty=!0,this.checkForHoles=e,"string"==typeof t?function(t,e){const i=u(t),r=[];let s=null,a=0,n=0;for(let t=0;t<i.length;t++){const o=i[t],l=o[0],h=o;switch(l){case"M":a=h[1],n=h[2],e.moveTo(a,n);break;case"m":a+=h[1],n+=h[2],e.moveTo(a,n);break;case"H":a=h[1],e.lineTo(a,n);break;case"h":a+=h[1],e.lineTo(a,n);break;case"V":n=h[1],e.lineTo(a,n);break;case"v":n+=h[1],e.lineTo(a,n);break;case"L":a=h[1],n=h[2],e.lineTo(a,n);break;case"l":a+=h[1],n+=h[2],e.lineTo(a,n);break;case"C":a=h[5],n=h[6],e.bezierCurveTo(h[1],h[2],h[3],h[4],a,n);break;case"c":e.bezierCurveTo(a+h[1],n+h[2],a+h[3],n+h[4],a+h[5],n+h[6]),a+=h[5],n+=h[6];break;case"S":a=h[3],n=h[4],e.bezierCurveToShort(h[1],h[2],a,n);break;case"s":e.bezierCurveToShort(a+h[1],n+h[2],a+h[3],n+h[4]),a+=h[3],n+=h[4];break;case"Q":a=h[3],n=h[4],e.quadraticCurveTo(h[1],h[2],a,n);break;case"q":e.quadraticCurveTo(a+h[1],n+h[2],a+h[3],n+h[4]),a+=h[3],n+=h[4];break;case"T":a=h[1],n=h[2],e.quadraticCurveToShort(a,n);break;case"t":a+=h[1],n+=h[2],e.quadraticCurveToShort(a,n);break;case"A":a=h[6],n=h[7],e.arcToSvg(h[1],h[2],h[3],h[4],h[5],a,n);break;case"a":a+=h[6],n+=h[7],e.arcToSvg(h[1],h[2],h[3],h[4],h[5],a,n);break;case"Z":case"z":e.closePath(),r.length>0&&(s=r.pop(),s?(a=s.startX,n=s.startY):(a=0,n=0)),s=null;break;default:(0,d.R)(`Unknown SVG path command: ${l}`)}"Z"!==l&&"z"!==l&&null===s&&(s={startX:a,startY:n},r.push(s))}}(t,this):this.instructions=t?.slice()??[]}get shapePath(){return this._shapePath||(this._shapePath=new E(this)),this._dirty&&(this._dirty=!1,this._shapePath.buildPath()),this._shapePath}addPath(t,e){return t=t.clone(),this.instructions.push({action:"addPath",data:[t,e]}),this._dirty=!0,this}arc(...t){return this.instructions.push({action:"arc",data:t}),this._dirty=!0,this}arcTo(...t){return this.instructions.push({action:"arcTo",data:t}),this._dirty=!0,this}arcToSvg(...t){return this.instructions.push({action:"arcToSvg",data:t}),this._dirty=!0,this}bezierCurveTo(...t){return this.instructions.push({action:"bezierCurveTo",data:t}),this._dirty=!0,this}bezierCurveToShort(t,e,i,r,s){const a=this.instructions[this.instructions.length-1],o=this.getLastPoint(n.b.shared);let l=0,h=0;if(a&&"bezierCurveTo"===a.action){l=a.data[2],h=a.data[3];const t=o.x,e=o.y;l=t+(t-l),h=e+(e-h)}else l=o.x,h=o.y;return this.instructions.push({action:"bezierCurveTo",data:[l,h,t,e,i,r,s]}),this._dirty=!0,this}closePath(){return this.instructions.push({action:"closePath",data:[]}),this._dirty=!0,this}ellipse(...t){return this.instructions.push({action:"ellipse",data:t}),this._dirty=!0,this}lineTo(...t){return this.instructions.push({action:"lineTo",data:t}),this._dirty=!0,this}moveTo(...t){return this.instructions.push({action:"moveTo",data:t}),this}quadraticCurveTo(...t){return this.instructions.push({action:"quadraticCurveTo",data:t}),this._dirty=!0,this}quadraticCurveToShort(t,e,i){const r=this.instructions[this.instructions.length-1],s=this.getLastPoint(n.b.shared);let a=0,o=0;if(r&&"quadraticCurveTo"===r.action){a=r.data[0],o=r.data[1];const t=s.x,e=s.y;a=t+(t-a),o=e+(e-o)}else a=s.x,o=s.y;return this.instructions.push({action:"quadraticCurveTo",data:[a,o,t,e,i]}),this._dirty=!0,this}rect(t,e,i,r,s){return this.instructions.push({action:"rect",data:[t,e,i,r,s]}),this._dirty=!0,this}circle(t,e,i,r){return this.instructions.push({action:"circle",data:[t,e,i,r]}),this._dirty=!0,this}roundRect(...t){return this.instructions.push({action:"roundRect",data:t}),this._dirty=!0,this}poly(...t){return this.instructions.push({action:"poly",data:t}),this._dirty=!0,this}regularPoly(...t){return this.instructions.push({action:"regularPoly",data:t}),this._dirty=!0,this}roundPoly(...t){return this.instructions.push({action:"roundPoly",data:t}),this._dirty=!0,this}roundShape(...t){return this.instructions.push({action:"roundShape",data:t}),this._dirty=!0,this}filletRect(...t){return this.instructions.push({action:"filletRect",data:t}),this._dirty=!0,this}chamferRect(...t){return this.instructions.push({action:"chamferRect",data:t}),this._dirty=!0,this}star(t,e,i,r,s,a,n){s||(s=r/2);const o=-1*Math.PI/2+a,l=2*i,h=2*Math.PI/l,c=[];for(let i=0;i<l;i++){const a=i%2?s:r,n=i*h+o;c.push(t+a*Math.cos(n),e+a*Math.sin(n))}return this.poly(c,!0,n),this}clone(t=!1){const e=new $;if(e.checkForHoles=this.checkForHoles,t)for(let t=0;t<this.instructions.length;t++){const i=this.instructions[t];e.instructions.push({action:i.action,data:i.data.slice()})}else e.instructions=this.instructions.slice();return e}clear(){return this.instructions.length=0,this._dirty=!0,this}transform(t){if(t.isIdentity())return this;const e=t.a,i=t.b,r=t.c,s=t.d,a=t.tx,n=t.ty;let o=0,l=0,h=0,c=0,u=0,p=0,m=0,f=0;for(let g=0;g<this.instructions.length;g++){const b=this.instructions[g],y=b.data;switch(b.action){case"moveTo":case"lineTo":o=y[0],l=y[1],y[0]=e*o+r*l+a,y[1]=i*o+s*l+n;break;case"bezierCurveTo":h=y[0],c=y[1],u=y[2],p=y[3],o=y[4],l=y[5],y[0]=e*h+r*c+a,y[1]=i*h+s*c+n,y[2]=e*u+r*p+a,y[3]=i*u+s*p+n,y[4]=e*o+r*l+a,y[5]=i*o+s*l+n;break;case"quadraticCurveTo":h=y[0],c=y[1],o=y[2],l=y[3],y[0]=e*h+r*c+a,y[1]=i*h+s*c+n,y[2]=e*o+r*l+a,y[3]=i*o+s*l+n;break;case"arcToSvg":o=y[5],l=y[6],m=y[0],f=y[1],y[0]=e*m+r*f,y[1]=i*m+s*f,y[5]=e*o+r*l+a,y[6]=i*o+s*l+n;break;case"circle":y[4]=R(y[3],t);break;case"rect":y[4]=R(y[4],t);break;case"ellipse":y[8]=R(y[8],t);break;case"roundRect":y[5]=R(y[5],t);break;case"addPath":y[0].transform(t);break;case"poly":y[2]=R(y[2],t);break;default:(0,d.R)("unknown transform action",b.action)}}return this._dirty=!0,this}get bounds(){return this.shapePath.bounds}getLastPoint(t){let e=this.instructions.length-1,i=this.instructions[e];if(!i)return t.x=0,t.y=0,t;for(;"closePath"===i.action;){if(e--,e<0)return t.x=0,t.y=0,t;i=this.instructions[e]}switch(i.action){case"moveTo":case"lineTo":t.x=i.data[0],t.y=i.data[1];break;case"quadraticCurveTo":t.x=i.data[2],t.y=i.data[3];break;case"bezierCurveTo":t.x=i.data[4],t.y=i.data[5];break;case"arc":case"arcToSvg":t.x=i.data[5],t.y=i.data[6];break;case"addPath":i.data[0].getLastPoint(t)}return t}}function R(t,e){return t?t.prepend(e):e.clone()}var z=i(7488);function F(t,e,i){const r=t.getAttribute(e);return r?Number(r):i}function L(t){const e=F(t,"x1",0),i=F(t,"y1",0),r=F(t,"x2",1),a=F(t,"y2",0),n=t.getAttribute("gradientUnits")||"objectBoundingBox",o=new z._(e,i,r,a,"objectBoundingBox"===n?"local":"global");for(let e=0;e<t.children.length;e++){const i=t.children[e],r=F(i,"offset",0),a=s.Q.shared.setValue(i.getAttribute("stop-color")).toNumber();o.addColorStop(r,a)}return o}function D(t){return(0,d.R)("[SVG Parser] Radial gradients are not yet supported"),new z._(0,0,1,0)}function W(t){const e=t.match(/url\s*\(\s*['"]?\s*#([^'"\s)]+)\s*['"]?\s*\)/i);return e?e[1]:""}const V={fill:{type:"paint",default:0},"fill-opacity":{type:"number",default:1},stroke:{type:"paint",default:0},"stroke-width":{type:"number",default:1},"stroke-opacity":{type:"number",default:1},"stroke-linecap":{type:"string",default:"butt"},"stroke-linejoin":{type:"string",default:"miter"},"stroke-miterlimit":{type:"number",default:10},"stroke-dasharray":{type:"string",default:"none"},"stroke-dashoffset":{type:"number",default:0},opacity:{type:"number",default:1}};function H(t,e){const i=t.getAttribute("style"),r={},s={},a={strokeStyle:r,fillStyle:s,useFill:!1,useStroke:!1};for(const i in V){const r=t.getAttribute(i);r&&N(e,a,i,r.trim())}if(i){const t=i.split(";");for(let i=0;i<t.length;i++){const r=t[i].trim(),[s,n]=r.split(":");V[s]&&N(e,a,s,n.trim())}}return{strokeStyle:a.useStroke?r:null,fillStyle:a.useFill?s:null,useFill:a.useFill,useStroke:a.useStroke}}function N(t,e,i,r){switch(i){case"stroke":if("none"!==r){if(r.startsWith("url(")){const i=W(r);e.strokeStyle.fill=t.defs[i]}else e.strokeStyle.color=s.Q.shared.setValue(r).toNumber();e.useStroke=!0}break;case"stroke-width":e.strokeStyle.width=Number(r);break;case"fill":if("none"!==r){if(r.startsWith("url(")){const i=W(r);e.fillStyle.fill=t.defs[i]}else e.fillStyle.color=s.Q.shared.setValue(r).toNumber();e.useFill=!0}break;case"fill-opacity":e.fillStyle.alpha=Number(r);break;case"stroke-opacity":e.strokeStyle.alpha=Number(r);break;case"opacity":e.fillStyle.alpha=Number(r),e.strokeStyle.alpha=Number(r)}}function Y(t,e,i,r){const s=t.children,{fillStyle:a,strokeStyle:n}=H(t,e);a&&i?i={...i,...a}:a&&(i=a),n&&r?r={...r,...n}:n&&(r=n);const o=!i&&!r;let l,h,c,u,p,m,f,g,b,y,v,x,w,_,k,S,C;switch(o&&(i={color:0}),t.nodeName.toLowerCase()){case"path":_=t.getAttribute("d"),"evenodd"===t.getAttribute("fill-rule")&&(0,d.R)("SVG Evenodd fill rule not supported, your svg may render incorrectly"),k=new $(_,!0),e.context.path(k),i&&e.context.fill(i),r&&e.context.stroke(r);break;case"circle":f=F(t,"cx",0),g=F(t,"cy",0),b=F(t,"r",0),e.context.ellipse(f,g,b,b),i&&e.context.fill(i),r&&e.context.stroke(r);break;case"rect":l=F(t,"x",0),h=F(t,"y",0),S=F(t,"width",0),C=F(t,"height",0),y=F(t,"rx",0),v=F(t,"ry",0),y||v?e.context.roundRect(l,h,S,C,y||v):e.context.rect(l,h,S,C),i&&e.context.fill(i),r&&e.context.stroke(r);break;case"ellipse":f=F(t,"cx",0),g=F(t,"cy",0),y=F(t,"rx",0),v=F(t,"ry",0),e.context.beginPath(),e.context.ellipse(f,g,y,v),i&&e.context.fill(i),r&&e.context.stroke(r);break;case"line":c=F(t,"x1",0),u=F(t,"y1",0),p=F(t,"x2",0),m=F(t,"y2",0),e.context.beginPath(),e.context.moveTo(c,u),e.context.lineTo(p,m),r&&e.context.stroke(r);break;case"polygon":w=t.getAttribute("points"),x=w.match(/\d+/g).map(t=>parseInt(t,10)),e.context.poly(x,!0),i&&e.context.fill(i),r&&e.context.stroke(r);break;case"polyline":w=t.getAttribute("points"),x=w.match(/\d+/g).map(t=>parseInt(t,10)),e.context.poly(x,!1),r&&e.context.stroke(r);break;case"g":case"svg":break;default:(0,d.R)(`[SVG parser] <${t.nodeName}> elements unsupported`)}o&&(i=null);for(let t=0;t<s.length;t++)Y(s[t],e,i,r)}var X=i(37114);const U=new n.b,G=new a.u,j=class t extends r.A{constructor(){super(...arguments),this.uid=(0,l.L)("graphicsContext"),this.dirty=!0,this.batchMode="auto",this.instructions=[],this._activePath=new $,this._transform=new a.u,this._fillStyle={...t.defaultFillStyle},this._strokeStyle={...t.defaultStrokeStyle},this._stateStack=[],this._tick=0,this._bounds=new c.c,this._boundsDirty=!0}clone(){const e=new t;return e.batchMode=this.batchMode,e.instructions=this.instructions.slice(),e._activePath=this._activePath.clone(),e._transform=this._transform.clone(),e._fillStyle={...this._fillStyle},e._strokeStyle={...this._strokeStyle},e._stateStack=this._stateStack.slice(),e._bounds=this._bounds.clone(),e._boundsDirty=!0,e}get fillStyle(){return this._fillStyle}set fillStyle(e){this._fillStyle=(0,X.w)(e,t.defaultFillStyle)}get strokeStyle(){return this._strokeStyle}set strokeStyle(e){this._strokeStyle=(0,X.T)(e,t.defaultStrokeStyle)}setFillStyle(e){return this._fillStyle=(0,X.w)(e,t.defaultFillStyle),this}setStrokeStyle(e){return this._strokeStyle=(0,X.w)(e,t.defaultStrokeStyle),this}texture(t,e,i,r,a,n){return this.instructions.push({action:"texture",data:{image:t,dx:i||0,dy:r||0,dw:a||t.frame.width,dh:n||t.frame.height,transform:this._transform.clone(),alpha:this._fillStyle.alpha,style:e?s.Q.shared.setValue(e).toNumber():16777215}}),this.onUpdate(),this}beginPath(){return this._activePath=new $,this}fill(e,i){let r;const s=this.instructions[this.instructions.length-1];return r=0===this._tick&&s&&"stroke"===s.action?s.data.path:this._activePath.clone(),r?(null!=e&&(void 0!==i&&"number"==typeof e&&((0,h.t6)(h.lj,"GraphicsContext.fill(color, alpha) is deprecated, use GraphicsContext.fill({ color, alpha }) instead"),e={color:e,alpha:i}),this._fillStyle=(0,X.w)(e,t.defaultFillStyle)),this.instructions.push({action:"fill",data:{style:this.fillStyle,path:r}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}_initNextPathLocation(){const{x:t,y:e}=this._activePath.getLastPoint(n.b.shared);this._activePath.clear(),this._activePath.moveTo(t,e)}stroke(e){let i;const r=this.instructions[this.instructions.length-1];return i=0===this._tick&&r&&"fill"===r.action?r.data.path:this._activePath.clone(),i?(null!=e&&(this._strokeStyle=(0,X.T)(e,t.defaultStrokeStyle)),this.instructions.push({action:"stroke",data:{style:this.strokeStyle,path:i}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}cut(){for(let t=0;t<2;t++){const e=this.instructions[this.instructions.length-1-t],i=this._activePath.clone();if(e&&("stroke"===e.action||"fill"===e.action)){if(!e.data.hole){e.data.hole=i;break}e.data.hole.addPath(i)}}return this._initNextPathLocation(),this}arc(t,e,i,r,s,a){this._tick++;const n=this._transform;return this._activePath.arc(n.a*t+n.c*e+n.tx,n.b*t+n.d*e+n.ty,i,r,s,a),this}arcTo(t,e,i,r,s){this._tick++;const a=this._transform;return this._activePath.arcTo(a.a*t+a.c*e+a.tx,a.b*t+a.d*e+a.ty,a.a*i+a.c*r+a.tx,a.b*i+a.d*r+a.ty,s),this}arcToSvg(t,e,i,r,s,a,n){this._tick++;const o=this._transform;return this._activePath.arcToSvg(t,e,i,r,s,o.a*a+o.c*n+o.tx,o.b*a+o.d*n+o.ty),this}bezierCurveTo(t,e,i,r,s,a,n){this._tick++;const o=this._transform;return this._activePath.bezierCurveTo(o.a*t+o.c*e+o.tx,o.b*t+o.d*e+o.ty,o.a*i+o.c*r+o.tx,o.b*i+o.d*r+o.ty,o.a*s+o.c*a+o.tx,o.b*s+o.d*a+o.ty,n),this}closePath(){return this._tick++,this._activePath?.closePath(),this}ellipse(t,e,i,r){return this._tick++,this._activePath.ellipse(t,e,i,r,this._transform.clone()),this}circle(t,e,i){return this._tick++,this._activePath.circle(t,e,i,this._transform.clone()),this}path(t){return this._tick++,this._activePath.addPath(t,this._transform.clone()),this}lineTo(t,e){this._tick++;const i=this._transform;return this._activePath.lineTo(i.a*t+i.c*e+i.tx,i.b*t+i.d*e+i.ty),this}moveTo(t,e){this._tick++;const i=this._transform,r=this._activePath.instructions,s=i.a*t+i.c*e+i.tx,a=i.b*t+i.d*e+i.ty;return 1===r.length&&"moveTo"===r[0].action?(r[0].data[0]=s,r[0].data[1]=a,this):(this._activePath.moveTo(s,a),this)}quadraticCurveTo(t,e,i,r,s){this._tick++;const a=this._transform;return this._activePath.quadraticCurveTo(a.a*t+a.c*e+a.tx,a.b*t+a.d*e+a.ty,a.a*i+a.c*r+a.tx,a.b*i+a.d*r+a.ty,s),this}rect(t,e,i,r){return this._tick++,this._activePath.rect(t,e,i,r,this._transform.clone()),this}roundRect(t,e,i,r,s){return this._tick++,this._activePath.roundRect(t,e,i,r,s,this._transform.clone()),this}poly(t,e){return this._tick++,this._activePath.poly(t,e,this._transform.clone()),this}regularPoly(t,e,i,r,s=0,a){return this._tick++,this._activePath.regularPoly(t,e,i,r,s,a),this}roundPoly(t,e,i,r,s,a){return this._tick++,this._activePath.roundPoly(t,e,i,r,s,a),this}roundShape(t,e,i,r){return this._tick++,this._activePath.roundShape(t,e,i,r),this}filletRect(t,e,i,r,s){return this._tick++,this._activePath.filletRect(t,e,i,r,s),this}chamferRect(t,e,i,r,s,a){return this._tick++,this._activePath.chamferRect(t,e,i,r,s,a),this}star(t,e,i,r,s=0,a=0){return this._tick++,this._activePath.star(t,e,i,r,s,a,this._transform.clone()),this}svg(t){return this._tick++,function(t,e){if("string"==typeof t){const e=document.createElement("div");e.innerHTML=t.trim(),t=e.querySelector("svg")}const i={context:e,defs:{},path:new $};!function(t,e){const i=t.querySelectorAll("defs");for(let t=0;t<i.length;t++){const r=i[t];for(let t=0;t<r.children.length;t++){const i=r.children[t];switch(i.nodeName.toLowerCase()){case"lineargradient":e.defs[i.id]=L(i);break;case"radialgradient":e.defs[i.id]=D()}}}}(t,i);const r=t.children,{fillStyle:s,strokeStyle:a}=H(t,i);for(let t=0;t<r.length;t++){const e=r[t];"defs"!==e.nodeName.toLowerCase()&&Y(e,i,s,a)}}(t,this),this}restore(){const t=this._stateStack.pop();return t&&(this._transform=t.transform,this._fillStyle=t.fillStyle,this._strokeStyle=t.strokeStyle),this}save(){return this._stateStack.push({transform:this._transform.clone(),fillStyle:{...this._fillStyle},strokeStyle:{...this._strokeStyle}}),this}getTransform(){return this._transform}resetTransform(){return this._transform.identity(),this}rotate(t){return this._transform.rotate(t),this}scale(t,e=t){return this._transform.scale(t,e),this}setTransform(t,e,i,r,s,n){return t instanceof a.u?(this._transform.set(t.a,t.b,t.c,t.d,t.tx,t.ty),this):(this._transform.set(t,e,i,r,s,n),this)}transform(t,e,i,r,s,n){return t instanceof a.u?(this._transform.append(t),this):(G.set(t,e,i,r,s,n),this._transform.append(G),this)}translate(t,e=t){return this._transform.translate(t,e),this}clear(){return this._activePath.clear(),this.instructions.length=0,this.resetTransform(),this.onUpdate(),this}onUpdate(){this.dirty||(this.emit("update",this,16),this.dirty=!0,this._boundsDirty=!0)}get bounds(){if(!this._boundsDirty)return this._bounds;const t=this._bounds;t.clear();for(let e=0;e<this.instructions.length;e++){const i=this.instructions[e],r=i.action;if("fill"===r){const e=i.data;t.addBounds(e.path.bounds)}else if("texture"===r){const e=i.data;t.addFrame(e.dx,e.dy,e.dx+e.dw,e.dy+e.dh,e.transform)}if("stroke"===r){const e=i.data,r=e.style.alignment,s=e.style.width*(1-r),a=e.path.bounds;t.addFrame(a.minX-s,a.minY-s,a.maxX+s,a.maxY+s)}}return t}containsPoint(t){if(!this.bounds.containsPoint(t.x,t.y))return!1;const e=this.instructions;let i=!1;for(let r=0;r<e.length;r++){const s=e[r],a=s.data,n=a.path;if(!s.action||!n)continue;const o=a.style,l=n.shapePath.shapePrimitives;for(let e=0;e<l.length;e++){const r=l[e].shape;if(!o||!r)continue;const n=l[e].transform,h=n?n.applyInverse(t,U):t;if("fill"===s.action)i=r.contains(h.x,h.y);else{const t=o;i=r.strokeContains(h.x,h.y,t.width,t.alignment)}const c=a.hole;if(c){const t=c.shapePath?.shapePrimitives;if(t)for(let e=0;e<t.length;e++)t[e].shape.contains(h.x,h.y)&&(i=!1)}if(i)return!0}}return i}destroy(t=!1){if(this._stateStack.length=0,this._transform=null,this.emit("destroy",this),this.removeAllListeners(),"boolean"==typeof t?t:t?.texture){const e="boolean"==typeof t?t:t?.textureSource;this._fillStyle.texture&&(this._fillStyle.fill&&"uid"in this._fillStyle.fill?this._fillStyle.fill.destroy():this._fillStyle.texture.destroy(e)),this._strokeStyle.texture&&(this._strokeStyle.fill&&"uid"in this._strokeStyle.fill?this._strokeStyle.fill.destroy():this._strokeStyle.texture.destroy(e))}this._fillStyle=null,this._strokeStyle=null,this.instructions=null,this._activePath=null,this._bounds=null,this._stateStack=null,this.customShader=null,this._transform=null}};j.defaultFillStyle={color:16777215,alpha:1,texture:o.g.WHITE,matrix:null,fill:null,textureSpace:"local"},j.defaultStrokeStyle={width:1,color:16777215,alpha:1,alignment:.5,miterLimit:10,cap:"butt",join:"miter",texture:o.g.WHITE,matrix:null,fill:null,textureSpace:"local",pixelLine:!1};let q=j},9633:(t,e,i)=>{"use strict";i.d(e,{K:()=>s,Q:()=>r});const r={normal:"normal-npm",add:"add-npm",screen:"screen-npm"};var s=(t=>(t[t.DISABLED=0]="DISABLED",t[t.RENDERING_MASK_ADD=1]="RENDERING_MASK_ADD",t[t.MASK_ACTIVE=2]="MASK_ACTIVE",t[t.INVERSE_MASK_ACTIVE=3]="INVERSE_MASK_ACTIVE",t[t.RENDERING_MASK_REMOVE=4]="RENDERING_MASK_REMOVE",t[t.NONE=5]="NONE",t))(s||{})},12432:(t,e,i)=>{"use strict";i.d(e,{o:()=>r});class r{constructor(t,e,i){this._x=e||0,this._y=i||0,this._observer=t}clone(t){return new r(t??this._observer,this._x,this._y)}set(t=0,e=t){return this._x===t&&this._y===e||(this._x=t,this._y=e,this._observer._onUpdate(this)),this}copyFrom(t){return this._x===t.x&&this._y===t.y||(this._x=t.x,this._y=t.y,this._observer._onUpdate(this)),this}copyTo(t){return t.set(this._x,this._y),t}equals(t){return t.x===this._x&&t.y===this._y}toString(){return`[pixi.js/math:ObservablePoint x=${this._x} y=${this._y} scope=${this._observer}]`}get x(){return this._x}set x(t){this._x!==t&&(this._x=t,this._observer._onUpdate(this))}get y(){return this._y}set y(t){this._y!==t&&(this._y=t,this._observer._onUpdate(this))}}},12817:(t,e,i)=>{"use strict";i.d(e,{z:()=>o});var r=i(88096),s=i(50619),a=i(26873);const n=class t{constructor(t,e){this.linkedSheets=[];let i=t;t?.source instanceof s.v&&(i={texture:t,data:e});const{texture:r,data:n,cachePrefix:o=""}=i;this.cachePrefix=o,this._texture=r instanceof a.g?r:null,this.textureSource=r.source,this.textures={},this.animations={},this.data=n;const l=parseFloat(n.meta.scale);l?(this.resolution=l,r.source.resolution=this.resolution):this.resolution=r.source._resolution,this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}parse(){return new Promise(e=>{this._callback=e,this._batchIndex=0,this._frameKeys.length<=t.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(e){let i=e;const s=t.BATCH_SIZE;for(;i-e<s&&i<this._frameKeys.length;){const t=this._frameKeys[i],e=this._frames[t],s=e.frame;if(s){let i=null,n=null;const o=!1!==e.trimmed&&e.sourceSize?e.sourceSize:e.frame,l=new r.M(0,0,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution);i=e.rotated?new r.M(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.h)/this.resolution,Math.floor(s.w)/this.resolution):new r.M(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution),!1!==e.trimmed&&e.spriteSourceSize&&(n=new r.M(Math.floor(e.spriteSourceSize.x)/this.resolution,Math.floor(e.spriteSourceSize.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution)),this.textures[t]=new a.g({source:this.textureSource,frame:i,orig:l,trim:n,rotate:e.rotated?2:0,defaultAnchor:e.anchor,defaultBorders:e.borders,label:t.toString()})}i++}}_processAnimations(){const t=this.data.animations||{};for(const e in t){this.animations[e]=[];for(let i=0;i<t[e].length;i++){const r=t[e][i];this.animations[e].push(this.textures[r])}}}_parseComplete(){const t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*t.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*t.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(t=!1){for(const t in this.textures)this.textures[t].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&(this._texture?.destroy(),this.textureSource.destroy()),this._texture=null,this.textureSource=null,this.linkedSheets=[]}};n.BATCH_SIZE=1e3;let o=n},13784:(t,e,i)=>{"use strict";i.d(e,{S:()=>r});var r=(t=>(t[t.MAP_READ=1]="MAP_READ",t[t.MAP_WRITE=2]="MAP_WRITE",t[t.COPY_SRC=4]="COPY_SRC",t[t.COPY_DST=8]="COPY_DST",t[t.INDEX=16]="INDEX",t[t.VERTEX=32]="VERTEX",t[t.UNIFORM=64]="UNIFORM",t[t.STORAGE=128]="STORAGE",t[t.INDIRECT=256]="INDIRECT",t[t.QUERY_RESOLVE=512]="QUERY_RESOLVE",t[t.STATIC=1024]="STATIC",t))(r||{})},13889:(t,e,i)=>{"use strict";i.d(e,{h:()=>n});var r=i(55698),s=i(80753),a=i(13784);class n extends r.A{constructor(t){let{data:e,size:i}=t;const{usage:r,label:a,shrinkToFit:n}=t;super(),this.uid=(0,s.L)("buffer"),this._resourceType="buffer",this._resourceId=(0,s.L)("resource"),this._touched=0,this._updateID=1,this._dataInt32=null,this.shrinkToFit=!0,this.destroyed=!1,e instanceof Array&&(e=new Float32Array(e)),this._data=e,i??(i=e?.byteLength);const o=!!e;this.descriptor={size:i,usage:r,mappedAtCreation:o,label:a},this.shrinkToFit=n??!0}get data(){return this._data}set data(t){this.setDataWithSize(t,t.length,!0)}get dataInt32(){return this._dataInt32||(this._dataInt32=new Int32Array(this.data.buffer)),this._dataInt32}get static(){return!!(this.descriptor.usage&a.S.STATIC)}set static(t){t?this.descriptor.usage|=a.S.STATIC:this.descriptor.usage&=~a.S.STATIC}setDataWithSize(t,e,i){if(this._updateID++,this._updateSize=e*t.BYTES_PER_ELEMENT,this._data===t)return void(i&&this.emit("update",this));const r=this._data;this._data=t,this._dataInt32=null,r&&r.length===t.length||!this.shrinkToFit&&r&&t.byteLength<r.byteLength?i&&this.emit("update",this):(this.descriptor.size=t.byteLength,this._resourceId=(0,s.L)("resource"),this.emit("change",this))}update(t){this._updateSize=t??this._updateSize,this._updateID++,this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._data=null,this.descriptor=null,this.removeAllListeners()}}},13987:(t,e,i)=>{"use strict";var r=i(72207),s=i(74393),a=i(37905),n=i(44661),o=i(26873),l=i(49307),h=i(12817);const c=["jpg","png","jpeg","avif","webp","basis","etc2","bc7","bc6h","bc5","bc4","bc3","bc2","bc1","eac","astc"];function d(t,e,i){const r={};if(t.forEach(t=>{r[t]=e}),Object.keys(e.textures).forEach(t=>{r[`${e.cachePrefix}${t}`]=e.textures[t]}),!i){const i=l.A.dirname(t[0]);e.linkedSheets.forEach((t,s)=>{const a=d([`${i}/${e.data.meta.related_multi_packs[s]}`],t,!0);Object.assign(r,a)})}return r}const u={extension:r.Ag.Asset,cache:{test:t=>t instanceof h.z,getCacheableAssets:(t,e)=>d(t,e,!1)},resolver:{extension:{type:r.Ag.ResolveParser,name:"resolveSpritesheet"},test:t=>{const e=t.split("?")[0].split("."),i=e.pop(),r=e.pop();return"json"===i&&c.includes(r)},parse:t=>{const e=t.split(".");return{resolution:parseFloat(a.x.RETINA_PREFIX.exec(t)?.[1]??"1"),format:e[e.length-2],src:t}}},loader:{name:"spritesheetLoader",id:"spritesheet",extension:{type:r.Ag.LoadParser,priority:s.T.Normal,name:"spritesheetLoader"},testParse:async(t,e)=>".json"===l.A.extname(e.src).toLowerCase()&&!!t.frames,async parse(t,e,i){const{texture:r,imageFilename:s,textureOptions:a,cachePrefix:c}=e?.data??{};let d,u=l.A.dirname(e.src);if(u&&u.lastIndexOf("/")!==u.length-1&&(u+="/"),r instanceof o.g)d=r;else{const r=(0,n.Y)(u+(s??t.meta.image),e.src);d=(await i.load([{src:r,data:a}]))[r]}const p=new h.z({texture:d.source,data:t,cachePrefix:c});await p.parse();const m=t?.meta?.related_multi_packs;if(Array.isArray(m)){const t=[];for(const r of m){if("string"!=typeof r)continue;let s=u+r;e.data?.ignoreMultiPack||(s=(0,n.Y)(s,e.src),t.push(i.load({src:s,data:{textureOptions:a,ignoreMultiPack:!0}})))}const r=await Promise.all(t);p.linkedSheets=r,r.forEach(t=>{t.linkedSheets=[p].concat(p.linkedSheets.filter(e=>e!==t))})}return p},async unload(t,e,i){await i.unload(t.textureSource._sourceOrigin),t.destroy(!1)}}};r.XO.add(u)},14321:(t,e,i)=>{"use strict";i.d(e,{w:()=>n});var r=i(24125),s=i(26873);const a={};function n(t,e,i){let n=2166136261;for(let i=0;i<e;i++)n^=t[i].uid,n=Math.imul(n,16777619),n>>>=0;return a[n]||function(t,e,i,n){const o={};let l=0;for(let i=0;i<n;i++){const r=i<e?t[i]:s.g.EMPTY.source;o[l++]=r.source,o[l++]=r.style}const h=new r.T(o);return a[i]=h,h}(t,e,n,i)}},14325:(t,e,i)=>{"use strict";i.d(e,{a:()=>r});const r=t=>!Array.isArray(t)},15380:(t,e,i)=>{"use strict";i.d(e,{A:()=>n});var r=i(98610),s=i(72877),a=i(9017);class n extends s.l{constructor(t){t instanceof a.T&&(t={context:t});const{context:e,roundPixels:i,...r}=t||{};super({label:"Graphics",...r}),this.renderPipeId="graphics",this._context=e||(this._ownedContext=new a.T),this._context.on("update",this.onViewUpdate,this),this.didViewUpdate=!0,this.allowChildren=!1,this.roundPixels=i??!1}set context(t){t!==this._context&&(this._context.off("update",this.onViewUpdate,this),this._context=t,this._context.on("update",this.onViewUpdate,this),this.onViewUpdate())}get context(){return this._context}get bounds(){return this._context.bounds}updateBounds(){}containsPoint(t){return this._context.containsPoint(t)}destroy(t){this._ownedContext&&!t?this._ownedContext.destroy(t):!0!==t&&!0!==t?.context||this._context.destroy(t),this._ownedContext=null,this._context=null,super.destroy(t)}_callContextMethod(t,e){return this.context[t](...e),this}setFillStyle(...t){return this._callContextMethod("setFillStyle",t)}setStrokeStyle(...t){return this._callContextMethod("setStrokeStyle",t)}fill(...t){return this._callContextMethod("fill",t)}stroke(...t){return this._callContextMethod("stroke",t)}texture(...t){return this._callContextMethod("texture",t)}beginPath(){return this._callContextMethod("beginPath",[])}cut(){return this._callContextMethod("cut",[])}arc(...t){return this._callContextMethod("arc",t)}arcTo(...t){return this._callContextMethod("arcTo",t)}arcToSvg(...t){return this._callContextMethod("arcToSvg",t)}bezierCurveTo(...t){return this._callContextMethod("bezierCurveTo",t)}closePath(){return this._callContextMethod("closePath",[])}ellipse(...t){return this._callContextMethod("ellipse",t)}circle(...t){return this._callContextMethod("circle",t)}path(...t){return this._callContextMethod("path",t)}lineTo(...t){return this._callContextMethod("lineTo",t)}moveTo(...t){return this._callContextMethod("moveTo",t)}quadraticCurveTo(...t){return this._callContextMethod("quadraticCurveTo",t)}rect(...t){return this._callContextMethod("rect",t)}roundRect(...t){return this._callContextMethod("roundRect",t)}poly(...t){return this._callContextMethod("poly",t)}regularPoly(...t){return this._callContextMethod("regularPoly",t)}roundPoly(...t){return this._callContextMethod("roundPoly",t)}roundShape(...t){return this._callContextMethod("roundShape",t)}filletRect(...t){return this._callContextMethod("filletRect",t)}chamferRect(...t){return this._callContextMethod("chamferRect",t)}star(...t){return this._callContextMethod("star",t)}svg(...t){return this._callContextMethod("svg",t)}restore(...t){return this._callContextMethod("restore",t)}save(){return this._callContextMethod("save",[])}getTransform(){return this.context.getTransform()}resetTransform(){return this._callContextMethod("resetTransform",[])}rotateTransform(...t){return this._callContextMethod("rotate",t)}scaleTransform(...t){return this._callContextMethod("scale",t)}setTransform(...t){return this._callContextMethod("setTransform",t)}transform(...t){return this._callContextMethod("transform",t)}translateTransform(...t){return this._callContextMethod("translate",t)}clear(){return this._callContextMethod("clear",[])}get fillStyle(){return this._context.fillStyle}set fillStyle(t){this._context.fillStyle=t}get strokeStyle(){return this._context.strokeStyle}set strokeStyle(t){this._context.strokeStyle=t}clone(t=!1){return t?new n(this._context.clone()):(this._ownedContext=null,new n(this._context))}lineStyle(t,e,i){(0,r.t6)(r.lj,"Graphics#lineStyle is no longer needed. Use Graphics#setStrokeStyle to set the stroke style.");const s={};return t&&(s.width=t),e&&(s.color=e),i&&(s.alpha=i),this.context.strokeStyle=s,this}beginFill(t,e){(0,r.t6)(r.lj,"Graphics#beginFill is no longer needed. Use Graphics#fill to fill the shape with the desired style.");const i={};return void 0!==t&&(i.color=t),void 0!==e&&(i.alpha=e),this.context.fillStyle=i,this}endFill(){(0,r.t6)(r.lj,"Graphics#endFill is no longer needed. Use Graphics#fill to fill the shape with the desired style."),this.context.fill();const t=this.context.strokeStyle;return t.width===a.T.defaultStrokeStyle.width&&t.color===a.T.defaultStrokeStyle.color&&t.alpha===a.T.defaultStrokeStyle.alpha||this.context.stroke(),this}drawCircle(...t){return(0,r.t6)(r.lj,"Graphics#drawCircle has been renamed to Graphics#circle"),this._callContextMethod("circle",t)}drawEllipse(...t){return(0,r.t6)(r.lj,"Graphics#drawEllipse has been renamed to Graphics#ellipse"),this._callContextMethod("ellipse",t)}drawPolygon(...t){return(0,r.t6)(r.lj,"Graphics#drawPolygon has been renamed to Graphics#poly"),this._callContextMethod("poly",t)}drawRect(...t){return(0,r.t6)(r.lj,"Graphics#drawRect has been renamed to Graphics#rect"),this._callContextMethod("rect",t)}drawRoundedRect(...t){return(0,r.t6)(r.lj,"Graphics#drawRoundedRect has been renamed to Graphics#roundRect"),this._callContextMethod("roundRect",t)}drawStar(...t){return(0,r.t6)(r.lj,"Graphics#drawStar has been renamed to Graphics#star"),this._callContextMethod("star",t)}}},15776:(t,e,i)=>{"use strict";i.d(e,{B:()=>h});var r=i(89228),s=i(21870);const a={f32:"float32","vec2<f32>":"float32x2","vec3<f32>":"float32x3","vec4<f32>":"float32x4",vec2f:"float32x2",vec3f:"float32x3",vec4f:"float32x4",i32:"sint32","vec2<i32>":"sint32x2","vec3<i32>":"sint32x3","vec4<i32>":"sint32x4",u32:"uint32","vec2<u32>":"uint32x2","vec3<u32>":"uint32x3","vec4<u32>":"uint32x4",bool:"uint32","vec2<bool>":"uint32x2","vec3<bool>":"uint32x3","vec4<bool>":"uint32x4"};function n(t){const e=/@group\((\d+)\)/,i=/@binding\((\d+)\)/,r=/var(<[^>]+>)? (\w+)/,s=/:\s*(\w+)/,a=/(\w+)\s*:\s*([\w\<\>]+)/g,n=/struct\s+(\w+)/,o=t.match(/(^|[^/])@(group|binding)\(\d+\)[^;]+;/g)?.map(t=>({group:parseInt(t.match(e)[1],10),binding:parseInt(t.match(i)[1],10),name:t.match(r)[2],isUniform:"<uniform>"===t.match(r)[1],type:t.match(s)[1]}));if(!o)return{groups:[],structs:[]};const l=t.match(/struct\s+(\w+)\s*{([^}]+)}/g)?.map(t=>{const e=t.match(n)[1],i=t.match(a).reduce((t,e)=>{const[i,r]=e.split(":");return t[i.trim()]=r.trim(),t},{});return i?{name:e,members:i}:null}).filter(({name:t})=>o.some(e=>e.type===t))??[];return{groups:o,structs:l}}var o=(t=>(t[t.VERTEX=1]="VERTEX",t[t.FRAGMENT=2]="FRAGMENT",t[t.COMPUTE=4]="COMPUTE",t))(o||{});const l=Object.create(null);class h{constructor(t){this._layoutKey=0,this._attributeLocationsKey=0;const{fragment:e,vertex:i,layout:r,gpuLayout:s,name:a}=t;if(this.name=a,this.fragment=e,this.vertex=i,e.source===i.source){const t=n(e.source);this.structsAndGroups=t}else{const t=n(i.source),r=n(e.source);this.structsAndGroups=function(t,e){const i=new Set,r=new Set;return{structs:[...t.structs,...e.structs].filter(t=>!i.has(t.name)&&(i.add(t.name),!0)),groups:[...t.groups,...e.groups].filter(t=>{const e=`${t.name}-${t.binding}`;return!r.has(e)&&(r.add(e),!0)})}}(t,r)}this.layout=r??function({groups:t}){const e=[];for(let i=0;i<t.length;i++){const r=t[i];e[r.group]||(e[r.group]={}),e[r.group][r.name]=r.binding}return e}(this.structsAndGroups),this.gpuLayout=s??function({groups:t}){const e=[];for(let i=0;i<t.length;i++){const r=t[i];e[r.group]||(e[r.group]=[]),r.isUniform?e[r.group].push({binding:r.binding,visibility:o.VERTEX|o.FRAGMENT,buffer:{type:"uniform"}}):"sampler"===r.type?e[r.group].push({binding:r.binding,visibility:o.FRAGMENT,sampler:{type:"filtering"}}):"texture_2d"===r.type&&e[r.group].push({binding:r.binding,visibility:o.FRAGMENT,texture:{sampleType:"float",viewDimension:"2d",multisampled:!1}})}return e}(this.structsAndGroups),this.autoAssignGlobalUniforms=!(void 0===this.layout[0]?.globalUniforms),this.autoAssignLocalUniforms=!(void 0===this.layout[1]?.localUniforms),this._generateProgramKey()}_generateProgramKey(){const{vertex:t,fragment:e}=this,i=t.source+e.source+t.entryPoint+e.entryPoint;this._layoutKey=(0,r.X)(i,"program")}get attributeData(){return this._attributeData??(this._attributeData=function({source:t,entryPoint:e}){const i={},r=t.indexOf(`fn ${e}`);if(-1!==r){const e=t.indexOf("->",r);if(-1!==e){const n=t.substring(r,e),o=/@location\((\d+)\)\s+([a-zA-Z0-9_]+)\s*:\s*([a-zA-Z0-9_<>]+)(?:,|\s|$)/g;let l;for(;null!==(l=o.exec(n));){const t=a[l[3]]??"float32";i[l[2]]={location:parseInt(l[1],10),format:t,stride:(0,s.m)(t).stride,offset:0,instance:!1,start:0}}}}return i}(this.vertex)),this._attributeData}destroy(){this.gpuLayout=null,this.layout=null,this.structsAndGroups=null,this.fragment=null,this.vertex=null}static from(t){const e=`${t.vertex.source}:${t.fragment.source}:${t.fragment.entryPoint}:${t.vertex.entryPoint}`;return l[e]||(l[e]=new h(t)),l[e]}}},17782:(t,e,i)=>{"use strict";function r(t){const e={};for(const i in t)void 0!==t[i]&&(e[i]=t[i]);return e}i.d(e,{S:()=>r})},19676:(t,e,i)=>{"use strict";var r=i(72207),s=i(23792),a=i(34856),n=i(94215);const o=new a.c;function l(t,e,i){const r=o;t.measurable=!0,(0,n.f)(t,i,r),e.addBoundsMask(r),t.measurable=!1}var h=i(68281),c=i(86484),d=i(63880);function u(t,e,i){const r=c.o.get();t.measurable=!0;const s=c.u.get().identity(),a=p(t,i,s);(0,h.n)(t,r,a),t.measurable=!1,e.addBoundsMask(r),c.u.return(s),c.o.return(r)}function p(t,e,i){return t?(t!==e&&(p(t.parent,e,i),t.updateLocalTransform(),i.append(t.localTransform)),i):((0,d.R)("Mask bounds, renderable is not inside the root container"),i)}class m{constructor(t){this.priority=0,this.inverse=!1,this.pipe="alphaMask",t?.mask&&this.init(t.mask)}init(t){this.mask=t,this.renderMaskToTexture=!(t instanceof s.k),this.mask.renderable=this.renderMaskToTexture,this.mask.includeInBuild=!this.renderMaskToTexture,this.mask.measurable=!1}reset(){this.mask.measurable=!0,this.mask=null}addBounds(t,e){this.inverse||l(this.mask,t,e)}addLocalBounds(t,e){u(this.mask,t,e)}containsPoint(t,e){return e(this.mask,t)}destroy(){this.reset()}static test(t){return t instanceof s.k}}m.extension=r.Ag.MaskEffect;class f{constructor(t){this.priority=0,this.pipe="colorMask",t?.mask&&this.init(t.mask)}init(t){this.mask=t}destroy(){}static test(t){return"number"==typeof t}}f.extension=r.Ag.MaskEffect;var g=i(5427);class b{constructor(t){this.priority=0,this.pipe="stencilMask",t?.mask&&this.init(t.mask)}init(t){this.mask=t,this.mask.includeInBuild=!1,this.mask.measurable=!1}reset(){this.mask.measurable=!0,this.mask.includeInBuild=!0,this.mask=null}addBounds(t,e){l(this.mask,t,e)}addLocalBounds(t,e){u(this.mask,t,e)}containsPoint(t,e){return e(this.mask,t)}destroy(){this.reset()}static test(t){return t instanceof g.mc}}b.extension=r.Ag.MaskEffect;var y=i(90375),v=i(91112),x=i(89241),w=i(80679);i(31057),r.XO.add(m,f,b,w.$,x.b,v.q,y.P)},19864:(t,e,i)=>{"use strict";function r(t,e){return 16777215!==t&&e?16777215!==e&&t?((t>>16&255)*(e>>16&255)/255<<16)+((t>>8&255)*(e>>8&255)/255<<8)+((255&t)*(255&e)/255|0):t:e}i.d(e,{u:()=>r})},21870:(t,e,i)=>{"use strict";i.d(e,{m:()=>s});const r={uint8x2:{size:2,stride:2,normalised:!1},uint8x4:{size:4,stride:4,normalised:!1},sint8x2:{size:2,stride:2,normalised:!1},sint8x4:{size:4,stride:4,normalised:!1},unorm8x2:{size:2,stride:2,normalised:!0},unorm8x4:{size:4,stride:4,normalised:!0},snorm8x2:{size:2,stride:2,normalised:!0},snorm8x4:{size:4,stride:4,normalised:!0},uint16x2:{size:2,stride:4,normalised:!1},uint16x4:{size:4,stride:8,normalised:!1},sint16x2:{size:2,stride:4,normalised:!1},sint16x4:{size:4,stride:8,normalised:!1},unorm16x2:{size:2,stride:4,normalised:!0},unorm16x4:{size:4,stride:8,normalised:!0},snorm16x2:{size:2,stride:4,normalised:!0},snorm16x4:{size:4,stride:8,normalised:!0},float16x2:{size:2,stride:4,normalised:!1},float16x4:{size:4,stride:8,normalised:!1},float32:{size:1,stride:4,normalised:!1},float32x2:{size:2,stride:8,normalised:!1},float32x3:{size:3,stride:12,normalised:!1},float32x4:{size:4,stride:16,normalised:!1},uint32:{size:1,stride:4,normalised:!1},uint32x2:{size:2,stride:8,normalised:!1},uint32x3:{size:3,stride:12,normalised:!1},uint32x4:{size:4,stride:16,normalised:!1},sint32:{size:1,stride:4,normalised:!1},sint32x2:{size:2,stride:8,normalised:!1},sint32x3:{size:3,stride:12,normalised:!1},sint32x4:{size:4,stride:16,normalised:!1}};function s(t){return r[t]??r.float32}},22127:(t,e,i)=>{"use strict";i.d(e,{W:()=>r});var r=(t=>(t[t.WEBGL=1]="WEBGL",t[t.WEBGPU=2]="WEBGPU",t[t.BOTH=3]="BOTH",t))(r||{})},22590:(t,e,i)=>{"use strict";i.d(e,{G:()=>n});var r=i(69325),s=i(19864);const a=new r.u;class n{constructor(){this.packAsQuad=!1,this.batcherName="default",this.topology="triangle-list",this.applyTransform=!0,this.roundPixels=0,this._batcher=null,this._batch=null}get uvs(){return this.geometryData.uvs}get positions(){return this.geometryData.vertices}get indices(){return this.geometryData.indices}get blendMode(){return this.renderable&&this.applyTransform?this.renderable.groupBlendMode:"normal"}get color(){const t=this.baseColor,e=t>>16|65280&t|(255&t)<<16,i=this.renderable;return i?(0,s.u)(e,i.groupColor)+(this.alpha*i.groupAlpha*255<<24):e+(255*this.alpha<<24)}get transform(){return this.renderable?.groupTransform||a}copyTo(t){t.indexOffset=this.indexOffset,t.indexSize=this.indexSize,t.attributeOffset=this.attributeOffset,t.attributeSize=this.attributeSize,t.baseColor=this.baseColor,t.alpha=this.alpha,t.texture=this.texture,t.geometryData=this.geometryData,t.topology=this.topology}reset(){this.applyTransform=!0,this.renderable=null,this.topology="triangle-list"}}},23143:(t,e,i)=>{"use strict";i.d(e,{M:()=>c});var r=i(55698),s=i(80753),a=i(81213),n=i(24125),o=i(15776),l=i(22127),h=i(4815);class c extends r.A{constructor(t){super(),this.uid=(0,s.L)("shader"),this._uniformBindMap=Object.create(null),this._ownedBindGroups=[];let{gpuProgram:e,glProgram:i,groups:r,resources:a,compatibleRenderers:o,groupMap:c}=t;this.gpuProgram=e,this.glProgram=i,void 0===o&&(o=0,e&&(o|=l.W.WEBGPU),i&&(o|=l.W.WEBGL)),this.compatibleRenderers=o;const d={};if(a||r||(a={}),a&&r)throw new Error("[Shader] Cannot have both resources and groups");if(!e&&r&&!c)throw new Error("[Shader] No group map or WebGPU shader provided - consider using resources instead.");if(!e&&r&&c)for(const t in c)for(const e in c[t]){const i=c[t][e];d[i]={group:t,binding:e,name:i}}else if(e&&r&&!c){const t=e.structsAndGroups.groups;c={},t.forEach(t=>{c[t.group]=c[t.group]||{},c[t.group][t.binding]=t.name,d[t.name]=t})}else if(a){r={},c={},e&&e.structsAndGroups.groups.forEach(t=>{c[t.group]=c[t.group]||{},c[t.group][t.binding]=t.name,d[t.name]=t});let t=0;for(const e in a)d[e]||(r[99]||(r[99]=new n.T,this._ownedBindGroups.push(r[99])),d[e]={group:99,binding:t,name:e},c[99]=c[99]||{},c[99][t]=e,t++);for(const t in a){const e=t;let i=a[t];i.source||i._resourceType||(i=new h.k(i));const s=d[e];s&&(r[s.group]||(r[s.group]=new n.T,this._ownedBindGroups.push(r[s.group])),r[s.group].setResource(i,s.binding))}}this.groups=r,this._uniformBindMap=c,this.resources=this._buildResourceAccessor(r,d)}addResource(t,e,i){var r,s;(r=this._uniformBindMap)[e]||(r[e]={}),(s=this._uniformBindMap[e])[i]||(s[i]=t),this.groups[e]||(this.groups[e]=new n.T,this._ownedBindGroups.push(this.groups[e]))}_buildResourceAccessor(t,e){const i={};for(const r in e){const s=e[r];Object.defineProperty(i,s.name,{get:()=>t[s.group].getResource(s.binding),set(e){t[s.group].setResource(e,s.binding)}})}return i}destroy(t=!1){this.emit("destroy",this),t&&(this.gpuProgram?.destroy(),this.glProgram?.destroy()),this.gpuProgram=null,this.glProgram=null,this.removeAllListeners(),this._uniformBindMap=null,this._ownedBindGroups.forEach(t=>{t.destroy()}),this._ownedBindGroups=null,this.resources=null,this.groups=null}static from(t){const{gpu:e,gl:i,...r}=t;let s,n;return e&&(s=o.B.from(e)),i&&(n=a.M.from(i)),new c({gpuProgram:s,glProgram:n,...r})}}},23792:(t,e,i)=>{"use strict";i.d(e,{k:()=>l});var r=i(12432),s=i(26873),a=i(95652),n=i(98610),o=i(72877);class l extends o.l{constructor(t=s.g.EMPTY){t instanceof s.g&&(t={texture:t});const{texture:e=s.g.EMPTY,anchor:i,roundPixels:a,width:n,height:o,...l}=t;super({label:"Sprite",...l}),this.renderPipeId="sprite",this.batched=!0,this._visualBounds={minX:0,maxX:1,minY:0,maxY:0},this._anchor=new r.o({_onUpdate:()=>{this.onViewUpdate()}}),i?this.anchor=i:e.defaultAnchor&&(this.anchor=e.defaultAnchor),this.texture=e,this.allowChildren=!1,this.roundPixels=a??!1,void 0!==n&&(this.width=n),void 0!==o&&(this.height=o)}static from(t,e=!1){return t instanceof s.g?new l(t):new l(s.g.from(t,e))}set texture(t){t||(t=s.g.EMPTY);const e=this._texture;e!==t&&(e&&e.dynamic&&e.off("update",this.onViewUpdate,this),t.dynamic&&t.on("update",this.onViewUpdate,this),this._texture=t,this._width&&this._setWidth(this._width,this._texture.orig.width),this._height&&this._setHeight(this._height,this._texture.orig.height),this.onViewUpdate())}get texture(){return this._texture}get visualBounds(){return(0,a.y)(this._visualBounds,this._anchor,this._texture),this._visualBounds}get sourceBounds(){return(0,n.t6)("8.6.1","Sprite.sourceBounds is deprecated, use visualBounds instead."),this.visualBounds}updateBounds(){const t=this._anchor,e=this._texture,i=this._bounds,{width:r,height:s}=e.orig;i.minX=-t._x*r,i.maxX=i.minX+r,i.minY=-t._y*s,i.maxY=i.minY+s}destroy(t=!1){if(super.destroy(t),"boolean"==typeof t?t:t?.texture){const e="boolean"==typeof t?t:t?.textureSource;this._texture.destroy(e)}this._texture=null,this._visualBounds=null,this._bounds=null,this._anchor=null,this._gpuData=null}get anchor(){return this._anchor}set anchor(t){"number"==typeof t?this._anchor.set(t):this._anchor.copyFrom(t)}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(t){this._setWidth(t,this._texture.orig.width),this._width=t}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(t){this._setHeight(t,this._texture.orig.height),this._height=t}getSize(t){return t||(t={}),t.width=Math.abs(this.scale.x)*this._texture.orig.width,t.height=Math.abs(this.scale.y)*this._texture.orig.height,t}setSize(t,e){"object"==typeof t?(e=t.height??t.width,t=t.width):e??(e=t),void 0!==t&&this._setWidth(t,this._texture.orig.width),void 0!==e&&this._setHeight(e,this._texture.orig.height)}}},24125:(t,e,i)=>{"use strict";i.d(e,{T:()=>r});class r{constructor(t){this.resources=Object.create(null),this._dirty=!0;let e=0;for(const i in t){const r=t[i];this.setResource(r,e++)}this._updateKey()}_updateKey(){if(!this._dirty)return;this._dirty=!1;const t=[];let e=0;for(const i in this.resources)t[e++]=this.resources[i]._resourceId;this._key=t.join("|")}setResource(t,e){const i=this.resources[e];t!==i&&(i&&t.off?.("change",this.onResourceChange,this),t.on?.("change",this.onResourceChange,this),this.resources[e]=t,this._dirty=!0)}getResource(t){return this.resources[t]}_touch(t){const e=this.resources;for(const i in e)e[i]._touched=t}destroy(){const t=this.resources;for(const e in t){const i=t[e];i.off?.("change",this.onResourceChange,this)}this.resources=null}onResourceChange(t){if(this._dirty=!0,t.destroyed){const e=this.resources;for(const i in e)e[i]===t&&(e[i]=null)}else this._updateKey()}}},24924:(t,e,i)=>{"use strict";i.d(e,{L:()=>s});var r=i(80753);class s{constructor(){this.uid=(0,r.L)("instructionSet"),this.instructions=[],this.instructionSize=0,this.renderables=[],this.gcTick=0}reset(){this.instructionSize=0}add(t){this.instructions[this.instructionSize++]=t}log(){this.instructions.length=this.instructionSize,console.table(this.instructions,["type","action"])}}},25593:(t,e,i)=>{"use strict";i.d(e,{W:()=>l});var r=i(52135),s=i(50619),a=i(26873),n=i(74838);let o=0;const l=new class{constructor(t){this._poolKeyHash=Object.create(null),this._texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this.textureStyle=new n.n(this.textureOptions)}createTexture(t,e,i){const r=new s.v({...this.textureOptions,width:t,height:e,resolution:1,antialias:i,autoGarbageCollect:!1});return new a.g({source:r,label:"texturePool_"+o++})}getOptimalTexture(t,e,i=1,s){let a=Math.ceil(t*i-1e-6),n=Math.ceil(e*i-1e-6);a=(0,r.U5)(a),n=(0,r.U5)(n);const o=(a<<17)+(n<<1)+(s?1:0);this._texturePool[o]||(this._texturePool[o]=[]);let l=this._texturePool[o].pop();return l||(l=this.createTexture(a,n,s)),l.source._resolution=i,l.source.width=a/i,l.source.height=n/i,l.source.pixelWidth=a,l.source.pixelHeight=n,l.frame.x=0,l.frame.y=0,l.frame.width=t,l.frame.height=e,l.updateUvs(),this._poolKeyHash[l.uid]=o,l}getSameSizeTexture(t,e=!1){const i=t.source;return this.getOptimalTexture(t.width,t.height,i._resolution,e)}returnTexture(t,e=!1){const i=this._poolKeyHash[t.uid];e&&(t.source.style=this.textureStyle),this._texturePool[i].push(t)}clear(t){if(t=!1!==t)for(const t in this._texturePool){const e=this._texturePool[t];if(e)for(let t=0;t<e.length;t++)e[t].destroy(!0)}this._texturePool={}}}},26794:(t,e,i)=>{"use strict";i.d(e,{z:()=>r});const r=(t,e,i=!1)=>(Array.isArray(t)||(t=[t]),e?t.map(t=>"string"==typeof t||i?e(t):t):t)},26873:(t,e,i)=>{"use strict";i.d(e,{g:()=>u});var r=i(55698),s=i(79171),a=i(88096),n=i(80753),o=i(98610);const l=()=>{};var h=i(90375),c=i(50619),d=i(58264);class u extends r.A{constructor({source:t,label:e,frame:i,orig:r,trim:s,defaultAnchor:o,defaultBorders:l,rotate:h,dynamic:d}={}){if(super(),this.uid=(0,n.L)("texture"),this.uvs={x0:0,y0:0,x1:0,y1:0,x2:0,y2:0,x3:0,y3:0},this.frame=new a.M,this.noFrame=!1,this.dynamic=!1,this.isTexture=!0,this.label=e,this.source=t?.source??new c.v,this.noFrame=!i,i)this.frame.copyFrom(i);else{const{width:t,height:e}=this._source;this.frame.width=t,this.frame.height=e}this.orig=r||this.frame,this.trim=s,this.rotate=h??0,this.defaultAnchor=o,this.defaultBorders=l,this.destroyed=!1,this.dynamic=d||!1,this.updateUvs()}set source(t){this._source&&this._source.off("resize",this.update,this),this._source=t,t.on("resize",this.update,this),this.emit("update",this)}get source(){return this._source}get textureMatrix(){return this._textureMatrix||(this._textureMatrix=new d.N(this)),this._textureMatrix}get width(){return this.orig.width}get height(){return this.orig.height}updateUvs(){const{uvs:t,frame:e}=this,{width:i,height:r}=this._source,a=e.x/i,n=e.y/r,o=e.width/i,l=e.height/r;let h=this.rotate;if(h){const e=o/2,i=l/2,r=a+e,c=n+i;h=s.E.add(h,s.E.NW),t.x0=r+e*s.E.uX(h),t.y0=c+i*s.E.uY(h),h=s.E.add(h,2),t.x1=r+e*s.E.uX(h),t.y1=c+i*s.E.uY(h),h=s.E.add(h,2),t.x2=r+e*s.E.uX(h),t.y2=c+i*s.E.uY(h),h=s.E.add(h,2),t.x3=r+e*s.E.uX(h),t.y3=c+i*s.E.uY(h)}else t.x0=a,t.y0=n,t.x1=a+o,t.y1=n,t.x2=a+o,t.y2=n+l,t.x3=a,t.y3=n+l}destroy(t=!1){this._source&&t&&(this._source.destroy(),this._source=null),this._textureMatrix=null,this.destroyed=!0,this.emit("destroy",this),this.removeAllListeners()}update(){this.noFrame&&(this.frame.width=this._source.width,this.frame.height=this._source.height),this.updateUvs(),this.emit("update",this)}get baseTexture(){return(0,o.t6)(o.lj,"Texture.baseTexture is now Texture.source"),this._source}}u.EMPTY=new u({label:"EMPTY",source:new c.v({label:"EMPTY"})}),u.EMPTY.destroy=l,u.WHITE=new u({source:new h.P({resource:new Uint8Array([255,255,255,255]),width:1,height:1,alphaMode:"premultiply-alpha-on-upload",label:"WHITE"}),label:"WHITE"}),u.WHITE.destroy=l},27614:(t,e,i)=>{"use strict";i.d(e,{d:()=>r});var r=(t=>(t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t))(r||{})},27932:(t,e,i)=>{"use strict";i.d(e,{u:()=>a});const r=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function s(t){let e="";for(let i=0;i<t;++i)i>0&&(e+="\nelse "),i<t-1&&(e+=`if(test == ${i}.0){}`);return e}function a(t,e){if(0===t)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const i=e.createShader(e.FRAGMENT_SHADER);try{for(;;){const a=r.replace(/%forloop%/gi,s(t));if(e.shaderSource(i,a),e.compileShader(i),e.getShaderParameter(i,e.COMPILE_STATUS))break;t=t/2|0}}finally{e.deleteShader(i)}return t}},28556:(t,e,i)=>{"use strict";i.d(e,{k:()=>f});var r=i(98917),s=i(72207);const a=[];s.XO.handleByNamedList(s.Ag.Environment,a);var n=i(5427),o=i(6989),l=i(80753),h=i(98610),c=i(4069),d=i(67981),u=i(55698);const p=["init","destroy","contextChange","resolutionChange","resetState","renderEnd","renderStart","render","update","postrender","prerender"],m=class t extends u.A{constructor(t){super(),this.uid=(0,l.L)("renderer"),this.runners=Object.create(null),this.renderPipes=Object.create(null),this._initOptions={},this._systemsHash=Object.create(null),this.type=t.type,this.name=t.name,this.config=t;const e=[...p,...this.config.runners??[]];this._addRunners(...e),this._unsafeEvalCheck()}async init(e={}){const i=!0===e.skipExtensionImports||!1===e.manageImports;await async function(t){if(!t)for(let t=0;t<a.length;t++){const e=a[t];if(e.value.test())return void await e.value.load()}}(i),this._addSystems(this.config.systems),this._addPipes(this.config.renderPipes,this.config.renderPipeAdaptors);for(const t in this._systemsHash)e={...this._systemsHash[t].constructor.defaultOptions,...e};e={...t.defaultOptions,...e},this._roundPixels=e.roundPixels?1:0;for(let t=0;t<this.runners.init.items.length;t++)await this.runners.init.items[t].init(e);this._initOptions=e}render(t,e){let i=t;if(i instanceof n.mc&&(i={container:i},e&&((0,h.t6)(h.lj,"passing a second argument is deprecated, please use render options instead"),i.target=e.renderTexture)),i.target||(i.target=this.view.renderTarget),i.target===this.view.renderTarget&&(this._lastObjectRendered=i.container,i.clearColor??(i.clearColor=this.background.colorRgba),i.clear??(i.clear=this.background.clearBeforeRender)),i.clearColor){const t=Array.isArray(i.clearColor)&&4===i.clearColor.length;i.clearColor=t?i.clearColor:r.Q.shared.setValue(i.clearColor).toArray()}i.transform||(i.container.updateLocalTransform(),i.transform=i.container.localTransform),i.container.enableRenderGroup(),this.runners.prerender.emit(i),this.runners.renderStart.emit(i),this.runners.render.emit(i),this.runners.renderEnd.emit(i),this.runners.postrender.emit(i)}resize(t,e,i){const r=this.view.resolution;this.view.resize(t,e,i),this.emit("resize",this.view.screen.width,this.view.screen.height,this.view.resolution),void 0!==i&&i!==r&&this.runners.resolutionChange.emit(i)}clear(t={}){t.target||(t.target=this.renderTarget.renderTarget),t.clearColor||(t.clearColor=this.background.colorRgba),t.clear??(t.clear=c.u.ALL);const{clear:e,clearColor:i,target:s}=t;r.Q.shared.setValue(i??this.background.colorRgba),this.renderTarget.clear(s,e,r.Q.shared.toArray())}get resolution(){return this.view.resolution}set resolution(t){this.view.resolution=t,this.runners.resolutionChange.emit(t)}get width(){return this.view.texture.frame.width}get height(){return this.view.texture.frame.height}get canvas(){return this.view.canvas}get lastObjectRendered(){return this._lastObjectRendered}get renderingToScreen(){return this.renderTarget.renderingToScreen}get screen(){return this.view.screen}_addRunners(...t){t.forEach(t=>{this.runners[t]=new d.C(t)})}_addSystems(t){let e;for(e in t){const i=t[e];this._addSystem(i.value,i.name)}}_addSystem(t,e){const i=new t(this);if(this[e])throw new Error(`Whoops! The name "${e}" is already in use`);this[e]=i,this._systemsHash[e]=i;for(const t in this.runners)this.runners[t].add(i);return this}_addPipes(t,e){const i=e.reduce((t,e)=>(t[e.name]=e.value,t),{});t.forEach(t=>{const e=t.value,r=t.name,s=i[r];this.renderPipes[r]=new e(this,s?new s:null)})}destroy(t=!1){this.runners.destroy.items.reverse(),this.runners.destroy.emit(t),Object.values(this.runners).forEach(t=>{t.destroy()}),this._systemsHash=null,this.renderPipes=null}generateTexture(t){return this.textureGenerator.generateTexture(t)}get roundPixels(){return!!this._roundPixels}_unsafeEvalCheck(){if(!(0,o.f)())throw new Error("Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support.")}resetState(){this.runners.resetState.emit()}};m.defaultOptions={resolution:1,failIfMajorPerformanceCaveat:!1,roundPixels:!1};let f=m},29387:(t,e,i)=>{"use strict";function r(t,e,i){const r=t.length;let s;if(e>=r||0===i)return;const a=r-(i=e+i>r?r-e:i);for(s=e;s<a;++s)t[s]=t[s+i];t.length=a}i.d(e,{d:()=>r})},31057:(t,e,i)=>{"use strict";var r=i(62367),s=i(72207),a=i(50619),n=i(26873);const o=[];function l(t={}){const e=t&&t.resource,i=e?t.resource:t,r=e?t:{resource:t};for(let t=0;t<o.length;t++){const e=o[t];if(e.test(i))return new e(r)}throw new Error(`Could not find a source type for resource: ${r.resource}`)}s.XO.handleByList(s.Ag.TextureSource,o),n.g.from=function(t,e=!1){return"string"==typeof t?r.l.get(t):t instanceof a.v?new n.g({source:t}):function(t={},e=!1){const i=t&&t.resource,s=i?t.resource:t,a=i?t:{resource:t};if(!e&&r.l.has(s))return r.l.get(s);const o=new n.g({source:l(a)});return o.on("destroy",()=>{r.l.has(s)&&r.l.remove(s)}),e||r.l.set(s,o),o}(t,e)},a.v.from=l},32025:(t,e,i)=>{"use strict";i.d(e,{b:()=>r});class r{constructor(t=0,e=0){this.x=0,this.y=0,this.x=t,this.y=e}clone(){return new r(this.x,this.y)}copyFrom(t){return this.set(t.x,t.y),this}copyTo(t){return t.set(this.x,this.y),t}equals(t){return t.x===this.x&&t.y===this.y}set(t=0,e=t){return this.x=t,this.y=e,this}toString(){return`[pixi.js/math:Point x=${this.x} y=${this.y}]`}static get shared(){return s.x=0,s.y=0,s}}const s=new r},33273:(t,e,i)=>{"use strict";i.d(e,{x:()=>m});var r=i(55698),s=i(98917),a=i(98610),n=i(63880),o=i(7488),l=i(4970),h=i(9017),c=i(37114);const d=["align","breakWords","cssOverrides","fontVariant","fontWeight","leading","letterSpacing","lineHeight","padding","textBaseline","trim","whiteSpace","wordWrap","wordWrapWidth","fontFamily","fontStyle","fontSize"];function u(t,e,i){return t?(e[i++]=t.color,e[i++]=t.alpha,e[i++]=t.fill?.styleKey,i):i}const p=class t extends r.A{constructor(e={}){super(),function(t){const e=t;if("boolean"==typeof e.dropShadow&&e.dropShadow){const i=m.defaultDropShadow;t.dropShadow={alpha:e.dropShadowAlpha??i.alpha,angle:e.dropShadowAngle??i.angle,blur:e.dropShadowBlur??i.blur,color:e.dropShadowColor??i.color,distance:e.dropShadowDistance??i.distance}}if(void 0!==e.strokeThickness){(0,a.t6)(a.lj,"strokeThickness is now a part of stroke");const i=e.stroke;let r={};if(s.Q.isColorLike(i))r.color=i;else if(i instanceof o._||i instanceof l.m)r.fill=i;else{if(!Object.hasOwnProperty.call(i,"color")&&!Object.hasOwnProperty.call(i,"fill"))throw new Error("Invalid stroke value.");r=i}t.stroke={...r,width:e.strokeThickness}}if(Array.isArray(e.fillGradientStops)){if((0,a.t6)(a.lj,"gradient fill is now a fill pattern: `new FillGradient(...)`"),!Array.isArray(e.fill)||0===e.fill.length)throw new Error("Invalid fill value. Expected an array of colors for gradient fill.");e.fill.length!==e.fillGradientStops.length&&(0,n.R)("The number of fill colors must match the number of fill gradient stops.");const i=new o._({start:{x:0,y:0},end:{x:0,y:1},textureSpace:"local"}),r=e.fillGradientStops.slice(),l=e.fill.map(t=>s.Q.shared.setValue(t).toNumber());r.forEach((t,e)=>{i.addColorStop(t,l[e])}),t.fill={fill:i}}}(e);const i={...t.defaultTextStyle,...e};for(const t in i)this[t]=i[t];this.update()}get align(){return this._align}set align(t){this._align=t,this.update()}get breakWords(){return this._breakWords}set breakWords(t){this._breakWords=t,this.update()}get dropShadow(){return this._dropShadow}set dropShadow(e){this._dropShadow=null!==e&&"object"==typeof e?this._createProxy({...t.defaultDropShadow,...e}):e?this._createProxy({...t.defaultDropShadow}):null,this.update()}get fontFamily(){return this._fontFamily}set fontFamily(t){this._fontFamily=t,this.update()}get fontSize(){return this._fontSize}set fontSize(t){this._fontSize="string"==typeof t?parseInt(t,10):t,this.update()}get fontStyle(){return this._fontStyle}set fontStyle(t){this._fontStyle=t.toLowerCase(),this.update()}get fontVariant(){return this._fontVariant}set fontVariant(t){this._fontVariant=t,this.update()}get fontWeight(){return this._fontWeight}set fontWeight(t){this._fontWeight=t,this.update()}get leading(){return this._leading}set leading(t){this._leading=t,this.update()}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing=t,this.update()}get lineHeight(){return this._lineHeight}set lineHeight(t){this._lineHeight=t,this.update()}get padding(){return this._padding}set padding(t){this._padding=t,this.update()}get filters(){return this._filters}set filters(t){this._filters=t,this.update()}get trim(){return this._trim}set trim(t){this._trim=t,this.update()}get textBaseline(){return this._textBaseline}set textBaseline(t){this._textBaseline=t,this.update()}get whiteSpace(){return this._whiteSpace}set whiteSpace(t){this._whiteSpace=t,this.update()}get wordWrap(){return this._wordWrap}set wordWrap(t){this._wordWrap=t,this.update()}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(t){this._wordWrapWidth=t,this.update()}get fill(){return this._originalFill}set fill(t){t!==this._originalFill&&(this._originalFill=t,this._isFillStyle(t)&&(this._originalFill=this._createProxy({...h.T.defaultFillStyle,...t},()=>{this._fill=(0,c.w)({...this._originalFill},h.T.defaultFillStyle)})),this._fill=(0,c.w)(0===t?"black":t,h.T.defaultFillStyle),this.update())}get stroke(){return this._originalStroke}set stroke(t){t!==this._originalStroke&&(this._originalStroke=t,this._isFillStyle(t)&&(this._originalStroke=this._createProxy({...h.T.defaultStrokeStyle,...t},()=>{this._stroke=(0,c.T)({...this._originalStroke},h.T.defaultStrokeStyle)})),this._stroke=(0,c.T)(t,h.T.defaultStrokeStyle),this.update())}_generateKey(){return this._styleKey=function(t){const e=[];let i=0;for(let r=0;r<d.length;r++){const s=`_${d[r]}`;e[i++]=t[s]}return i=u(t._fill,e,i),i=function(t,e,i){return t?(i=u(t,e,i),e[i++]=t.width,e[i++]=t.alignment,e[i++]=t.cap,e[i++]=t.join,e[i++]=t.miterLimit,i):i}(t._stroke,e,i),i=function(t,e,i){return t?(e[i++]=t.alpha,e[i++]=t.angle,e[i++]=t.blur,e[i++]=t.distance,e[i++]=s.Q.shared.setValue(t.color).toNumber(),i):i}(t.dropShadow,e,i),i=function(t,e,i){if(!t)return i;for(const r of t)e[i++]=r.uid;return i}(t.filters,e,i),e.join("-")}(this),this._styleKey}update(){this._styleKey=null,this.emit("update",this)}reset(){const e=t.defaultTextStyle;for(const t in e)this[t]=e[t]}get styleKey(){return this._styleKey||this._generateKey()}clone(){return new t({align:this.align,breakWords:this.breakWords,dropShadow:this._dropShadow?{...this._dropShadow}:null,fill:this._fill,fontFamily:this.fontFamily,fontSize:this.fontSize,fontStyle:this.fontStyle,fontVariant:this.fontVariant,fontWeight:this.fontWeight,leading:this.leading,letterSpacing:this.letterSpacing,lineHeight:this.lineHeight,padding:this.padding,stroke:this._stroke,textBaseline:this.textBaseline,whiteSpace:this.whiteSpace,wordWrap:this.wordWrap,wordWrapWidth:this.wordWrapWidth,filters:this._filters?[...this._filters]:void 0})}_getFinalPadding(){let t=0;if(this._filters)for(let e=0;e<this._filters.length;e++)t+=this._filters[e].padding;return Math.max(this._padding,t)}destroy(t=!1){if(this.removeAllListeners(),"boolean"==typeof t?t:t?.texture){const e="boolean"==typeof t?t:t?.textureSource;this._fill?.texture&&this._fill.texture.destroy(e),this._originalFill?.texture&&this._originalFill.texture.destroy(e),this._stroke?.texture&&this._stroke.texture.destroy(e),this._originalStroke?.texture&&this._originalStroke.texture.destroy(e)}this._fill=null,this._stroke=null,this.dropShadow=null,this._originalStroke=null,this._originalFill=null}_createProxy(t,e){return new Proxy(t,{set:(t,i,r)=>(t[i]=r,e?.(i,r),this.update(),!0)})}_isFillStyle(t){return null!==(t??null)&&!(s.Q.isColorLike(t)||t instanceof o._||t instanceof l.m)}};p.defaultDropShadow={alpha:1,angle:Math.PI/6,blur:0,color:"black",distance:5},p.defaultTextStyle={align:"left",breakWords:!1,dropShadow:null,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,padding:0,stroke:null,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let m=p},33630:(t,e,i)=>{"use strict";i.d(e,{C:()=>a});var r=i(55829);let s;async function a(){return s??(s=(async()=>{const t=r.e.get().createCanvas(1,1).getContext("webgl");if(!t)return"premultiply-alpha-on-upload";const e=await new Promise(t=>{const e=document.createElement("video");e.onloadeddata=()=>t(e),e.onerror=()=>t(null),e.autoplay=!1,e.crossOrigin="anonymous",e.preload="auto",e.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",e.load()});if(!e)return"premultiply-alpha-on-upload";const i=t.createTexture();t.bindTexture(t.TEXTURE_2D,i);const s=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,s),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,i,0),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e);const a=new Uint8Array(4);return t.readPixels(0,0,1,1,t.RGBA,t.UNSIGNED_BYTE,a),t.deleteFramebuffer(s),t.deleteTexture(i),t.getExtension("WEBGL_lose_context")?.loseContext(),a[0]<=a[3]?"premultiplied-alpha":"premultiply-alpha-on-upload"})()),s}},34856:(t,e,i)=>{"use strict";i.d(e,{c:()=>n});var r=i(69325),s=i(88096);const a=new r.u;class n{constructor(t=1/0,e=1/0,i=-1/0,r=-1/0){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=a,this.minX=t,this.minY=e,this.maxX=i,this.maxY=r}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}get rectangle(){this._rectangle||(this._rectangle=new s.M);const t=this._rectangle;return this.minX>this.maxX||this.minY>this.maxY?(t.x=0,t.y=0,t.width=0,t.height=0):t.copyFromBounds(this),t}clear(){return this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=a,this}set(t,e,i,r){this.minX=t,this.minY=e,this.maxX=i,this.maxY=r}addFrame(t,e,i,r,s){s||(s=this.matrix);const a=s.a,n=s.b,o=s.c,l=s.d,h=s.tx,c=s.ty;let d=this.minX,u=this.minY,p=this.maxX,m=this.maxY,f=a*t+o*e+h,g=n*t+l*e+c;f<d&&(d=f),g<u&&(u=g),f>p&&(p=f),g>m&&(m=g),f=a*i+o*e+h,g=n*i+l*e+c,f<d&&(d=f),g<u&&(u=g),f>p&&(p=f),g>m&&(m=g),f=a*t+o*r+h,g=n*t+l*r+c,f<d&&(d=f),g<u&&(u=g),f>p&&(p=f),g>m&&(m=g),f=a*i+o*r+h,g=n*i+l*r+c,f<d&&(d=f),g<u&&(u=g),f>p&&(p=f),g>m&&(m=g),this.minX=d,this.minY=u,this.maxX=p,this.maxY=m}addRect(t,e){this.addFrame(t.x,t.y,t.x+t.width,t.y+t.height,e)}addBounds(t,e){this.addFrame(t.minX,t.minY,t.maxX,t.maxY,e)}addBoundsMask(t){this.minX=this.minX>t.minX?this.minX:t.minX,this.minY=this.minY>t.minY?this.minY:t.minY,this.maxX=this.maxX<t.maxX?this.maxX:t.maxX,this.maxY=this.maxY<t.maxY?this.maxY:t.maxY}applyMatrix(t){const e=this.minX,i=this.minY,r=this.maxX,s=this.maxY,{a,b:n,c:o,d:l,tx:h,ty:c}=t;let d=a*e+o*i+h,u=n*e+l*i+c;this.minX=d,this.minY=u,this.maxX=d,this.maxY=u,d=a*r+o*i+h,u=n*r+l*i+c,this.minX=d<this.minX?d:this.minX,this.minY=u<this.minY?u:this.minY,this.maxX=d>this.maxX?d:this.maxX,this.maxY=u>this.maxY?u:this.maxY,d=a*e+o*s+h,u=n*e+l*s+c,this.minX=d<this.minX?d:this.minX,this.minY=u<this.minY?u:this.minY,this.maxX=d>this.maxX?d:this.maxX,this.maxY=u>this.maxY?u:this.maxY,d=a*r+o*s+h,u=n*r+l*s+c,this.minX=d<this.minX?d:this.minX,this.minY=u<this.minY?u:this.minY,this.maxX=d>this.maxX?d:this.maxX,this.maxY=u>this.maxY?u:this.maxY}fit(t){return this.minX<t.left&&(this.minX=t.left),this.maxX>t.right&&(this.maxX=t.right),this.minY<t.top&&(this.minY=t.top),this.maxY>t.bottom&&(this.maxY=t.bottom),this}fitBounds(t,e,i,r){return this.minX<t&&(this.minX=t),this.maxX>e&&(this.maxX=e),this.minY<i&&(this.minY=i),this.maxY>r&&(this.maxY=r),this}pad(t,e=t){return this.minX-=t,this.maxX+=t,this.minY-=e,this.maxY+=e,this}ceil(){return this.minX=Math.floor(this.minX),this.minY=Math.floor(this.minY),this.maxX=Math.ceil(this.maxX),this.maxY=Math.ceil(this.maxY),this}clone(){return new n(this.minX,this.minY,this.maxX,this.maxY)}scale(t,e=t){return this.minX*=t,this.minY*=e,this.maxX*=t,this.maxY*=e,this}get x(){return this.minX}set x(t){const e=this.maxX-this.minX;this.minX=t,this.maxX=t+e}get y(){return this.minY}set y(t){const e=this.maxY-this.minY;this.minY=t,this.maxY=t+e}get width(){return this.maxX-this.minX}set width(t){this.maxX=this.minX+t}get height(){return this.maxY-this.minY}set height(t){this.maxY=this.minY+t}get left(){return this.minX}get right(){return this.maxX}get top(){return this.minY}get bottom(){return this.maxY}get isPositive(){return this.maxX-this.minX>0&&this.maxY-this.minY>0}get isValid(){return this.minX+this.minY!==1/0}addVertexData(t,e,i,r){let s=this.minX,a=this.minY,n=this.maxX,o=this.maxY;r||(r=this.matrix);const l=r.a,h=r.b,c=r.c,d=r.d,u=r.tx,p=r.ty;for(let r=e;r<i;r+=2){const e=t[r],i=t[r+1],m=l*e+c*i+u,f=h*e+d*i+p;s=m<s?m:s,a=f<a?f:a,n=m>n?m:n,o=f>o?f:o}this.minX=s,this.minY=a,this.maxX=n,this.maxY=o}containsPoint(t,e){return this.minX<=t&&this.minY<=e&&this.maxX>=t&&this.maxY>=e}toString(){return`[pixi.js:Bounds minX=${this.minX} minY=${this.minY} maxX=${this.maxX} maxY=${this.maxY} width=${this.width} height=${this.height}]`}copyFrom(t){return this.minX=t.minX,this.minY=t.minY,this.maxX=t.maxX,this.maxY=t.maxY,this}}},37114:(t,e,i)=>{"use strict";i.d(e,{T:()=>u,w:()=>d});var r=i(98917),s=i(26873),a=i(7488),n=i(4970);function o(t){return t instanceof n.m}function l(t){return t instanceof a._}function h(t,e,i){return t.fill=e,t.color=16777215,t.texture=e.texture,t.matrix=e.transform,{...i,...t}}function c(t,e,i){return e.buildGradient(),t.fill=e,t.color=16777215,t.texture=e.texture,t.matrix=e.transform,t.textureSpace=e.textureSpace,{...i,...t}}function d(t,e){if(null==t)return null;const i={},a=t;return function(t){return r.Q.isColorLike(t)}(t)?function(t,e,i){const a=r.Q.shared.setValue(e??0);return t.color=a.toNumber(),t.alpha=1===a.alpha?i.alpha:a.alpha,t.texture=s.g.WHITE,{...i,...t}}(i,t,e):function(t){return t instanceof s.g}(t)?function(t,e,i){return t.texture=e,{...i,...t}}(i,t,e):o(t)?h(i,t,e):l(t)?c(i,t,e):a.fill&&o(a.fill)?h(a,a.fill,e):a.fill&&l(a.fill)?c(a,a.fill,e):function(t,e){const i={...e,...t},s=r.Q.shared.setValue(i.color);return i.alpha*=s.alpha,i.color=s.toNumber(),i}(a,e)}function u(t,e){const{width:i,alignment:r,miterLimit:s,cap:a,join:n,pixelLine:o,...l}=e,h=d(t,l);return h?{width:i,alignment:r,miterLimit:s,cap:a,join:n,pixelLine:o,...h}:null}},37632:(t,e,i)=>{"use strict";i.d(e,{W:()=>a});var r=i(55829);let s;function a(){if(!s||s?.isContextLost()){const t=r.e.get().createCanvas();s=t.getContext("webgl",{})}return s}},37905:(t,e,i)=>{"use strict";i.d(e,{x:()=>h});var r=i(63880),s=i(49307),a=i(26794);function n(t,e,i,r,s){const a=e[i];for(let o=0;o<a.length;o++){const l=a[o];i<e.length-1?n(t.replace(r[i],l),e,i+1,r,s):s.push(t.replace(r[i],l))}}function o(t){const e=t.match(/\{(.*?)\}/g),i=[];if(e){const r=[];e.forEach(t=>{const e=t.substring(1,t.length-1).split(",");r.push(e)}),n(t,r,0,e,i)}else i.push(t);return i}var l=i(14325);class h{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(t,e)=>`${t}${this._bundleIdConnector}${e}`,extractAssetIdFromBundle:(t,e)=>e.replace(`${t}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(t){if(this._bundleIdConnector=t.connector??this._bundleIdConnector,this._createBundleAssetId=t.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=t.extractAssetIdFromBundle??this._extractAssetIdFromBundle,"bar"!==this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar")))throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...t){t.forEach(t=>{this._preferredOrder.push(t),t.priority||(t.priority=Object.keys(t.params))}),this._resolverHash={}}set basePath(t){this._basePath=t}get basePath(){return this._basePath}set rootPath(t){this._rootPath=t}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(t){if("string"==typeof t)this._defaultSearchParams=t;else{const e=t;this._defaultSearchParams=Object.keys(e).map(t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`).join("&")}}getAlias(t){const{alias:e,src:i}=t;return(0,a.z)(e||i,t=>"string"==typeof t?t:Array.isArray(t)?t.map(t=>t?.src??t):t?.src?t.src:t,!0)}addManifest(t){this._manifest&&(0,r.R)("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=t,t.bundles.forEach(t=>{this.addBundle(t.name,t.assets)})}addBundle(t,e){const i=[];let r=e;Array.isArray(e)||(r=Object.entries(e).map(([t,e])=>"string"==typeof e||Array.isArray(e)?{alias:t,src:e}:{alias:t,...e})),r.forEach(e=>{const r=e.src,s=e.alias;let a;if("string"==typeof s){const e=this._createBundleAssetId(t,s);i.push(e),a=[s,e]}else{const e=s.map(e=>this._createBundleAssetId(t,e));i.push(...e),a=[...s,...e]}this.add({...e,alias:a,src:r})}),this._bundles[t]=i}add(t){const e=[];let i;Array.isArray(t)?e.push(...t):e.push(t),i=t=>{this.hasKey(t)&&(0,r.R)(`[Resolver] already has key: ${t} overwriting`)},(0,a.z)(e).forEach(t=>{const{src:e}=t;let{data:r,format:s,loadParser:n,parser:l}=t;const h=(0,a.z)(e).map(t=>"string"==typeof t?o(t):Array.isArray(t)?t:[t]),c=this.getAlias(t);Array.isArray(c)?c.forEach(i):i(c);const d=[];h.forEach(t=>{t.forEach(t=>{let e={};if("object"!=typeof t){e.src=t;for(let i=0;i<this._parsers.length;i++){const r=this._parsers[i];if(r.test(t)){e=r.parse(t);break}}}else r=t.data??r,s=t.format??s,(t.loadParser||t.parser)&&(n=t.loadParser??n,l=t.parser??l),e={...e,...t};if(!c)throw new Error(`[Resolver] alias is undefined for this asset: ${e.src}`);e=this._buildResolvedAsset(e,{aliases:c,data:r,format:s,loadParser:n,parser:l}),d.push(e)})}),c.forEach(t=>{this._assetMap[t]=d})})}resolveBundle(t){const e=(0,l.a)(t);t=(0,a.z)(t);const i={};return t.forEach(t=>{const e=this._bundles[t];if(e){const r=this.resolve(e),s={};for(const e in r){const i=r[e];s[this._extractAssetIdFromBundle(t,e)]=i}i[t]=s}}),e?i[t[0]]:i}resolveUrl(t){const e=this.resolve(t);if("string"!=typeof t){const t={};for(const i in e)t[i]=e[i].src;return t}return e.src}resolve(t){const e=(0,l.a)(t);t=(0,a.z)(t);const i={};return t.forEach(t=>{if(!this._resolverHash[t])if(this._assetMap[t]){let e=this._assetMap[t];const i=this._getPreferredOrder(e);i?.priority.forEach(t=>{i.params[t].forEach(i=>{const r=e.filter(e=>!!e[t]&&e[t]===i);r.length&&(e=r)})}),this._resolverHash[t]=e[0]}else this._resolverHash[t]=this._buildResolvedAsset({alias:[t],src:t},{});i[t]=this._resolverHash[t]}),e?i[t[0]]:i}hasKey(t){return!!this._assetMap[t]}hasBundle(t){return!!this._bundles[t]}_getPreferredOrder(t){for(let e=0;e<t.length;e++){const i=t[e],r=this._preferredOrder.find(t=>t.params.format.includes(i.format));if(r)return r}return this._preferredOrder[0]}_appendDefaultSearchParams(t){return this._defaultSearchParams?`${t}${/\?/.test(t)?"&":"?"}${this._defaultSearchParams}`:t}_buildResolvedAsset(t,e){const{aliases:i,data:r,loadParser:a,parser:n,format:o}=e;return(this._basePath||this._rootPath)&&(t.src=s.A.toAbsolute(t.src,this._basePath,this._rootPath)),t.alias=i??t.alias??[t.src],t.src=this._appendDefaultSearchParams(t.src),t.data={...r||{},...t.data},t.loadParser=a??t.loadParser,t.parser=n??t.parser,t.format=o??t.format??t.src.split(".").pop().split("?").shift().split("#").shift(),t}}h.RETINA_PREFIX=/@([0-9\.]+)x/},38420:(t,e,i)=>{"use strict";function r(t,e){const i=t.byteLength/8|0,r=new Float64Array(t,0,i);new Float64Array(e,0,i).set(r);const s=t.byteLength-8*i;if(s>0){const r=new Uint8Array(t,8*i,s);new Uint8Array(e,8*i,s).set(r)}}i.d(e,{W:()=>r})},41256:(t,e,i)=>{"use strict";i.d(e,{v:()=>b});var r=i(98917),s=i(88096),a=i(47260),n=i(55829),o=i(52135);let l=null,h=null;function c(t,e,i){for(let r=0,s=4*i*e;r<e;++r,s+=4)if(0!==t[s+3])return!1;return!0}function d(t,e,i,r,s){const a=4*e;for(let e=r,n=r*a+4*i;e<=s;++e,n+=a)if(0!==t[n+3])return!1;return!0}function u(...t){let e=t[0];e.canvas||(e={canvas:t[0],resolution:t[1]});const{canvas:i}=e,r=Math.min(e.resolution??1,1),a=e.width??i.width,u=e.height??i.height;let p=e.output;if(function(t,e){l||(l=n.e.get().createCanvas(256,128),h=l.getContext("2d",{willReadFrequently:!0}),h.globalCompositeOperation="copy",h.globalAlpha=1),(l.width<t||l.height<e)&&(l.width=(0,o.U5)(t),l.height=(0,o.U5)(e))}(a,u),!h)throw new TypeError("Failed to get canvas 2D context");h.drawImage(i,0,0,a,u,0,0,a*r,u*r);const m=h.getImageData(0,0,a,u).data;let f=0,g=0,b=a-1,y=u-1;for(;g<u&&c(m,a,g);)++g;if(g===u)return s.M.EMPTY;for(;c(m,a,y);)--y;for(;d(m,a,f,g,y);)++f;for(;d(m,a,b,g,y);)--b;return++b,++y,h.globalCompositeOperation="source-over",h.strokeRect(f,g,b-f,y-g),h.globalCompositeOperation="copy",p??(p=new s.M),p.set(f/r,g/r,(b-f)/r,(y-g)/r),p}var p=i(58196),m=i(66894),f=i(90896);const g=new s.M,b=new class{getCanvasAndContext(t){const{text:e,style:i,resolution:r=1}=t,s=i._getFinalPadding(),n=p.P.measureText(e||" ",i),o=Math.ceil(Math.ceil(Math.max(1,n.width)+2*s)*r),l=Math.ceil(Math.ceil(Math.max(1,n.height)+2*s)*r),h=a.N.getOptimalCanvasAndContext(o,l);return this._renderTextToCanvas(e,i,s,r,h),{canvasAndContext:h,frame:i.trim?u({canvas:h.canvas,width:o,height:l,resolution:1,output:g}):g.set(0,0,o,l)}}returnCanvasAndContext(t){a.N.returnCanvasAndContext(t)}_renderTextToCanvas(t,e,i,s,a){const{canvas:n,context:o}=a,l=(0,m.Z)(e),h=p.P.measureText(t||" ",e),c=h.lines,d=h.lineHeight,u=h.lineWidths,g=h.maxLineWidth,b=h.fontProperties,y=n.height;if(o.resetTransform(),o.scale(s,s),o.textBaseline=e.textBaseline,e._stroke?.width){const t=e._stroke;o.lineWidth=t.width,o.miterLimit=t.miterLimit,o.lineJoin=t.join,o.lineCap=t.cap}let v,x;o.font=l;const w=e.dropShadow?2:1;for(let t=0;t<w;++t){const n=e.dropShadow&&0===t,l=n?Math.ceil(Math.max(1,y)+2*i):0,p=l*s;if(n){o.fillStyle="black",o.strokeStyle="black";const t=e.dropShadow,i=t.color,a=t.alpha;o.shadowColor=r.Q.shared.setValue(i).setAlpha(a).toRgbaString();const n=t.blur*s,l=t.distance*s;o.shadowBlur=n,o.shadowOffsetX=Math.cos(t.angle)*l,o.shadowOffsetY=Math.sin(t.angle)*l+p}else{if(o.fillStyle=e._fill?(0,f.r)(e._fill,o,h,2*i):null,e._stroke?.width){const t=.5*e._stroke.width+2*i;o.strokeStyle=(0,f.r)(e._stroke,o,h,t)}o.shadowColor="black"}let m=(d-b.fontSize)/2;d-b.fontSize<0&&(m=0);const w=e._stroke?.width??0;for(let t=0;t<c.length;t++)v=w/2,x=w/2+t*d+b.ascent+m,"right"===e.align?v+=g-u[t]:"center"===e.align&&(v+=(g-u[t])/2),e._stroke?.width&&this._drawLetterSpacing(c[t],e,a,v+i,x+i-l,!0),void 0!==e._fill&&this._drawLetterSpacing(c[t],e,a,v+i,x+i-l)}}_drawLetterSpacing(t,e,i,r,s,a=!1){const{context:n}=i,o=e.letterSpacing;let l=!1;if(p.P.experimentalLetterSpacingSupported&&(p.P.experimentalLetterSpacing?(n.letterSpacing=`${o}px`,n.textLetterSpacing=`${o}px`,l=!0):(n.letterSpacing="0px",n.textLetterSpacing="0px")),0===o||l)return void(a?n.strokeText(t,r,s):n.fillText(t,r,s));let h=r;const c=p.P.graphemeSegmenter(t);let d=n.measureText(t).width,u=0;for(let t=0;t<c.length;++t){const e=c[t];a?n.strokeText(e,h,s):n.fillText(e,h,s);let i="";for(let e=t+1;e<c.length;++e)i+=c[e];u=n.measureText(i).width,h+=d-u+o,d=u}}}},43578:(t,e,i)=>{"use strict";i.d(e,{GH:()=>ct});var r=i(72207),s=i(14321),a=i(84018),n=i(24924),o=i(98610),l=i(68542),h=i(69325),c=i(88096);function d(t,e,i,r,s){const a=e.a,n=e.b,o=e.c,l=e.d,h=e.tx,c=e.ty;i||(i=0),r||(r=2),s||(s=t.length/r-i);let d=i*r;for(let e=0;e<s;e++){const e=t[d],i=t[d+1];t[d]=a*e+o*i+h,t[d+1]=n*e+l*i+c,d+=r}}var u=i(26873),p=i(22590);const m={extension:{type:r.Ag.ShapeBuilder,name:"circle"},build(t,e){let i,r,s,a,n,o;if("circle"===t.type){const e=t;if(n=o=e.radius,n<=0)return!1;i=e.x,r=e.y,s=a=0}else if("ellipse"===t.type){const e=t;if(n=e.halfWidth,o=e.halfHeight,n<=0||o<=0)return!1;i=e.x,r=e.y,s=a=0}else{const e=t,l=e.width/2,h=e.height/2;i=e.x+l,r=e.y+h,n=o=Math.max(0,Math.min(e.radius,Math.min(l,h))),s=l-n,a=h-o}if(s<0||a<0)return!1;const l=Math.ceil(2.3*Math.sqrt(n+o)),h=8*l+(s?4:0)+(a?4:0);if(0===h)return!1;if(0===l)return e[0]=e[6]=i+s,e[1]=e[3]=r+a,e[2]=e[4]=i-s,e[5]=e[7]=r-a,!0;let c=0,d=4*l+(s?2:0)+2,u=d,p=h,m=s+n,f=a,g=i+m,b=i-m,y=r+f;if(e[c++]=g,e[c++]=y,e[--d]=y,e[--d]=b,a){const t=r-f;e[u++]=b,e[u++]=t,e[--p]=t,e[--p]=g}for(let t=1;t<l;t++){const h=Math.PI/2*(t/l),m=s+Math.cos(h)*n,f=a+Math.sin(h)*o,g=i+m,b=i-m,y=r+f,v=r-f;e[c++]=g,e[c++]=y,e[--d]=y,e[--d]=b,e[u++]=b,e[u++]=v,e[--p]=v,e[--p]=g}m=s,f=a+o,g=i+m,b=i-m,y=r+f;const v=r-f;return e[c++]=g,e[c++]=y,e[--p]=v,e[--p]=g,s&&(e[c++]=b,e[c++]=y,e[--p]=v,e[--p]=b),!0},triangulate(t,e,i,r,s,a){if(0===t.length)return;let n=0,o=0;for(let e=0;e<t.length;e+=2)n+=t[e],o+=t[e+1];n/=t.length/2,o/=t.length/2;let l=r;e[l*i]=n,e[l*i+1]=o;const h=l++;for(let r=0;r<t.length;r+=2)e[l*i]=t[r],e[l*i+1]=t[r+1],r>0&&(s[a++]=l,s[a++]=h,s[a++]=l-1),l++;s[a++]=h+1,s[a++]=h,s[a++]=l-1}},f={...m,extension:{...m.extension,name:"ellipse"}},g={...m,extension:{...m.extension,name:"roundedRectangle"}};var b=i(32025);const y=1e-4;function v(t,e,i,r,s,a,n,o){let l,h;n?(l=r,h=-i):(l=-r,h=i);const c=t-i*s+l,d=e-r*s+h,u=t+i*a+l,p=e+r*a+h;return o.push(c,d),o.push(u,p),2}function x(t,e,i,r,s,a,n,o){const l=i-t,h=r-e;let c=Math.atan2(l,h),d=Math.atan2(s-t,a-e);o&&c<d?c+=2*Math.PI:!o&&c>d&&(d+=2*Math.PI);let u=c;const p=d-c,m=Math.abs(p),f=Math.sqrt(l*l+h*h),g=1+(15*m*Math.sqrt(f)/Math.PI|0),b=p/g;if(u+=b,o){n.push(t,e),n.push(i,r);for(let i=1,r=u;i<g;i++,r+=b)n.push(t,e),n.push(t+Math.sin(r)*f,e+Math.cos(r)*f);n.push(t,e),n.push(s,a)}else{n.push(i,r),n.push(t,e);for(let i=1,r=u;i<g;i++,r+=b)n.push(t+Math.sin(r)*f,e+Math.cos(r)*f),n.push(t,e);n.push(s,a),n.push(t,e)}return 2*g}function w(t,e,i=2){const r=e&&e.length,s=r?e[0]*i:t.length;let a=_(t,0,s,i,!0);const n=[];if(!a||a.next===a.prev)return n;let o,l,h;if(r&&(a=function(t,e,i,r){const s=[];for(let i=0,a=e.length;i<a;i++){const n=_(t,e[i]*r,i<a-1?e[i+1]*r:t.length,r,!1);n===n.next&&(n.steiner=!0),s.push(E(n))}s.sort(B);for(let t=0;t<s.length;t++)i=P(s[t],i);return i}(t,e,a,i)),t.length>80*i){o=t[0],l=t[1];let e=o,r=l;for(let a=i;a<s;a+=i){const i=t[a],s=t[a+1];i<o&&(o=i),s<l&&(l=s),i>e&&(e=i),s>r&&(r=s)}h=Math.max(e-o,r-l),h=0!==h?32767/h:0}return S(a,n,i,o,l,h,0),n}function _(t,e,i,r,s){let a;if(s===function(t,e,i,r){let s=0;for(let a=e,n=i-r;a<i;a+=r)s+=(t[n]-t[a])*(t[a+1]+t[n+1]),n=a;return s}(t,e,i,r)>0)for(let s=e;s<i;s+=r)a=Y(s/r|0,t[s],t[s+1],a);else for(let s=i-r;s>=e;s-=r)a=Y(s/r|0,t[s],t[s+1],a);return a&&L(a,a.next)&&(X(a),a=a.next),a}function k(t,e){if(!t)return t;e||(e=t);let i,r=t;do{if(i=!1,r.steiner||!L(r,r.next)&&0!==F(r.prev,r,r.next))r=r.next;else{if(X(r),r=e=r.prev,r===r.next)break;i=!0}}while(i||r!==e);return e}function S(t,e,i,r,s,a,n){if(!t)return;!n&&a&&function(t,e,i,r){let s=t;do{0===s.z&&(s.z=I(s.x,s.y,e,i,r)),s.prevZ=s.prev,s.nextZ=s.next,s=s.next}while(s!==t);s.prevZ.nextZ=null,s.prevZ=null,function(t){let e,i=1;do{let r,s=t;t=null;let a=null;for(e=0;s;){e++;let n=s,o=0;for(let t=0;t<i&&(o++,n=n.nextZ,n);t++);let l=i;for(;o>0||l>0&&n;)0!==o&&(0===l||!n||s.z<=n.z)?(r=s,s=s.nextZ,o--):(r=n,n=n.nextZ,l--),a?a.nextZ=r:t=r,r.prevZ=a,a=r;s=n}a.nextZ=null,i*=2}while(e>1)}(s)}(t,r,s,a);let o=t;for(;t.prev!==t.next;){const l=t.prev,h=t.next;if(a?A(t,r,s,a):C(t))e.push(l.i,t.i,h.i),X(t),t=h.next,o=h.next;else if((t=h)===o){n?1===n?S(t=T(k(t),e),e,i,r,s,a,2):2===n&&M(t,e,i,r,s,a):S(k(t),e,i,r,s,a,1);break}}}function C(t){const e=t.prev,i=t,r=t.next;if(F(e,i,r)>=0)return!1;const s=e.x,a=i.x,n=r.x,o=e.y,l=i.y,h=r.y,c=Math.min(s,a,n),d=Math.min(o,l,h),u=Math.max(s,a,n),p=Math.max(o,l,h);let m=r.next;for(;m!==e;){if(m.x>=c&&m.x<=u&&m.y>=d&&m.y<=p&&R(s,o,a,l,n,h,m.x,m.y)&&F(m.prev,m,m.next)>=0)return!1;m=m.next}return!0}function A(t,e,i,r){const s=t.prev,a=t,n=t.next;if(F(s,a,n)>=0)return!1;const o=s.x,l=a.x,h=n.x,c=s.y,d=a.y,u=n.y,p=Math.min(o,l,h),m=Math.min(c,d,u),f=Math.max(o,l,h),g=Math.max(c,d,u),b=I(p,m,e,i,r),y=I(f,g,e,i,r);let v=t.prevZ,x=t.nextZ;for(;v&&v.z>=b&&x&&x.z<=y;){if(v.x>=p&&v.x<=f&&v.y>=m&&v.y<=g&&v!==s&&v!==n&&R(o,c,l,d,h,u,v.x,v.y)&&F(v.prev,v,v.next)>=0)return!1;if(v=v.prevZ,x.x>=p&&x.x<=f&&x.y>=m&&x.y<=g&&x!==s&&x!==n&&R(o,c,l,d,h,u,x.x,x.y)&&F(x.prev,x,x.next)>=0)return!1;x=x.nextZ}for(;v&&v.z>=b;){if(v.x>=p&&v.x<=f&&v.y>=m&&v.y<=g&&v!==s&&v!==n&&R(o,c,l,d,h,u,v.x,v.y)&&F(v.prev,v,v.next)>=0)return!1;v=v.prevZ}for(;x&&x.z<=y;){if(x.x>=p&&x.x<=f&&x.y>=m&&x.y<=g&&x!==s&&x!==n&&R(o,c,l,d,h,u,x.x,x.y)&&F(x.prev,x,x.next)>=0)return!1;x=x.nextZ}return!0}function T(t,e){let i=t;do{const r=i.prev,s=i.next.next;!L(r,s)&&D(r,i,i.next,s)&&H(r,s)&&H(s,r)&&(e.push(r.i,i.i,s.i),X(i),X(i.next),i=t=s),i=i.next}while(i!==t);return k(i)}function M(t,e,i,r,s,a){let n=t;do{let t=n.next.next;for(;t!==n.prev;){if(n.i!==t.i&&z(n,t)){let o=N(n,t);return n=k(n,n.next),o=k(o,o.next),S(n,e,i,r,s,a,0),void S(o,e,i,r,s,a,0)}t=t.next}n=n.next}while(n!==t)}function B(t,e){let i=t.x-e.x;return 0===i&&(i=t.y-e.y,0===i)&&(i=(t.next.y-t.y)/(t.next.x-t.x)-(e.next.y-e.y)/(e.next.x-e.x)),i}function P(t,e){const i=function(t,e){let i=e;const r=t.x,s=t.y;let a,n=-1/0;if(L(t,i))return i;do{if(L(t,i.next))return i.next;if(s<=i.y&&s>=i.next.y&&i.next.y!==i.y){const t=i.x+(s-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(t<=r&&t>n&&(n=t,a=i.x<i.next.x?i:i.next,t===r))return a}i=i.next}while(i!==e);if(!a)return null;const o=a,l=a.x,h=a.y;let c=1/0;i=a;do{if(r>=i.x&&i.x>=l&&r!==i.x&&$(s<h?r:n,s,l,h,s<h?n:r,s,i.x,i.y)){const e=Math.abs(s-i.y)/(r-i.x);H(i,t)&&(e<c||e===c&&(i.x>a.x||i.x===a.x&&O(a,i)))&&(a=i,c=e)}i=i.next}while(i!==o);return a}(t,e);if(!i)return e;const r=N(i,t);return k(r,r.next),k(i,i.next)}function O(t,e){return F(t.prev,t,e.prev)<0&&F(e.next,t,t.next)<0}function I(t,e,i,r,s){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-i)*s|0)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-r)*s|0)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function E(t){let e=t,i=t;do{(e.x<i.x||e.x===i.x&&e.y<i.y)&&(i=e),e=e.next}while(e!==t);return i}function $(t,e,i,r,s,a,n,o){return(s-n)*(e-o)>=(t-n)*(a-o)&&(t-n)*(r-o)>=(i-n)*(e-o)&&(i-n)*(a-o)>=(s-n)*(r-o)}function R(t,e,i,r,s,a,n,o){return!(t===n&&e===o)&&$(t,e,i,r,s,a,n,o)}function z(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){let i=t;do{if(i.i!==t.i&&i.next.i!==t.i&&i.i!==e.i&&i.next.i!==e.i&&D(i,i.next,t,e))return!0;i=i.next}while(i!==t);return!1}(t,e)&&(H(t,e)&&H(e,t)&&function(t,e){let i=t,r=!1;const s=(t.x+e.x)/2,a=(t.y+e.y)/2;do{i.y>a!=i.next.y>a&&i.next.y!==i.y&&s<(i.next.x-i.x)*(a-i.y)/(i.next.y-i.y)+i.x&&(r=!r),i=i.next}while(i!==t);return r}(t,e)&&(F(t.prev,t,e.prev)||F(t,e.prev,e))||L(t,e)&&F(t.prev,t,t.next)>0&&F(e.prev,e,e.next)>0)}function F(t,e,i){return(e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y)}function L(t,e){return t.x===e.x&&t.y===e.y}function D(t,e,i,r){const s=V(F(t,e,i)),a=V(F(t,e,r)),n=V(F(i,r,t)),o=V(F(i,r,e));return s!==a&&n!==o||!(0!==s||!W(t,i,e))||!(0!==a||!W(t,r,e))||!(0!==n||!W(i,t,r))||!(0!==o||!W(i,e,r))}function W(t,e,i){return e.x<=Math.max(t.x,i.x)&&e.x>=Math.min(t.x,i.x)&&e.y<=Math.max(t.y,i.y)&&e.y>=Math.min(t.y,i.y)}function V(t){return t>0?1:t<0?-1:0}function H(t,e){return F(t.prev,t,t.next)<0?F(t,e,t.next)>=0&&F(t,t.prev,e)>=0:F(t,e,t.prev)<0||F(t,t.next,e)<0}function N(t,e){const i=U(t.i,t.x,t.y),r=U(e.i,e.x,e.y),s=t.next,a=e.prev;return t.next=e,e.prev=t,i.next=s,s.prev=i,r.next=i,i.prev=r,a.next=r,r.prev=a,r}function Y(t,e,i,r){const s=U(t,e,i);return r?(s.next=r.next,s.prev=r,r.next.prev=s,r.next=s):(s.prev=s,s.next=s),s}function X(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function U(t,e,i){return{i:t,x:e,y:i,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}i(55698);const G=w.default||w;function j(t,e,i,r,s,a,n){const o=G(t,e,2);if(!o)return;for(let t=0;t<o.length;t+=3)a[n++]=o[t]+s,a[n++]=o[t+1]+s,a[n++]=o[t+2]+s;let l=s*r;for(let e=0;e<t.length;e+=2)i[l]=t[e],i[l+1]=t[e+1],l+=r}const q=[],K={extension:{type:r.Ag.ShapeBuilder,name:"polygon"},build(t,e){for(let i=0;i<t.points.length;i++)e[i]=t.points[i];return!0},triangulate(t,e,i,r,s,a){j(t,q,e,i,r,s,a)}},Z={extension:{type:r.Ag.ShapeBuilder,name:"rectangle"},build(t,e){const i=t,r=i.x,s=i.y,a=i.width,n=i.height;return a>0&&n>0&&(e[0]=r,e[1]=s,e[2]=r+a,e[3]=s,e[4]=r+a,e[5]=s+n,e[6]=r,e[7]=s+n,!0)},triangulate(t,e,i,r,s,a){let n=0;e[(r*=i)+n]=t[0],e[r+n+1]=t[1],n+=i,e[r+n]=t[2],e[r+n+1]=t[3],n+=i,e[r+n]=t[6],e[r+n+1]=t[7],n+=i,e[r+n]=t[4],e[r+n+1]=t[5],n+=i;const o=r/i;s[a++]=o,s[a++]=o+1,s[a++]=o+2,s[a++]=o+1,s[a++]=o+3,s[a++]=o+2}},Q={extension:{type:r.Ag.ShapeBuilder,name:"triangle"},build:(t,e)=>(e[0]=t.x,e[1]=t.y,e[2]=t.x2,e[3]=t.y2,e[4]=t.x3,e[5]=t.y3,!0),triangulate(t,e,i,r,s,a){let n=0;e[(r*=i)+n]=t[0],e[r+n+1]=t[1],n+=i,e[r+n]=t[2],e[r+n+1]=t[3],n+=i,e[r+n]=t[4],e[r+n+1]=t[5];const o=r/i;s[a++]=o,s[a++]=o+1,s[a++]=o+2}};var J=i(7488);const tt=new h.u,et=new c.M,it={};r.XO.handleByMap(r.Ag.ShapeBuilder,it),r.XO.add(Z,K,Q,m,f,g);const rt=new c.M,st=new h.u;function at(t,e,i){const r=[],s=it.rectangle,a=rt;a.x=t.dx,a.y=t.dy,a.width=t.dw,a.height=t.dh;const n=t.transform;if(!s.build(a,r))return;const{vertices:o,uvs:h,indices:c}=i,u=c.length,m=o.length/2;n&&d(r,n),s.triangulate(r,o,2,m,c,u);const f=t.image,g=f.uvs;h.push(g.x0,g.y0,g.x1,g.y1,g.x3,g.y3,g.x2,g.y2);const b=l.Z.get(p.G);b.indexOffset=u,b.indexSize=c.length-u,b.attributeOffset=m,b.attributeSize=o.length/2-m,b.baseColor=t.style,b.alpha=t.alpha,b.texture=f,b.geometryData=i,e.push(b)}function nt(t,e,i,r,s){const{vertices:a,uvs:n,indices:o}=s;t.shapePrimitives.forEach(({shape:t,transform:h,holes:c})=>{const m=[],f=it[t.type];if(!f.build(t,m))return;const g=o.length,w=a.length/2;let _="triangle-list";if(h&&d(m,h),i){const i=t.closePath??!0,r=e;r.pixelLine?(function(t,e,i,r){const s=y;if(0===t.length)return;const a=t[0],n=t[1],o=t[t.length-2],l=t[t.length-1],h=e||Math.abs(a-o)<s&&Math.abs(n-l)<s,c=i,d=t.length/2,u=c.length/2;for(let e=0;e<d;e++)c.push(t[2*e]),c.push(t[2*e+1]);for(let t=0;t<d-1;t++)r.push(u+t,u+t+1);h&&r.push(u+d-1,u)}(m,i,a,o),_="line-list"):function(t,e,i,r,s,a){const n=y;if(0===t.length)return;const o=e;let l=o.alignment;if(.5!==e.alignment){let e=function(t){const e=t.length;if(e<6)return 1;let i=0;for(let r=0,s=t[e-2],a=t[e-1];r<e;r+=2){const e=t[r],n=t[r+1];i+=(e-s)*(n+a),s=e,a=n}return i<0?-1:1}(t);l=(l-.5)*e+.5}const h=new b.b(t[0],t[1]),c=new b.b(t[t.length-2],t[t.length-1]),d=r,u=Math.abs(h.x-c.x)<n&&Math.abs(h.y-c.y)<n;if(d){t=t.slice(),u&&(t.pop(),t.pop(),c.set(t[t.length-2],t[t.length-1]));const e=.5*(h.x+c.x),i=.5*(c.y+h.y);t.unshift(e,i),t.push(e,i)}const p=s,m=t.length/2;let f=t.length;const g=p.length/2,w=o.width/2,_=w*w,k=o.miterLimit*o.miterLimit;let S=t[0],C=t[1],A=t[2],T=t[3],M=0,B=0,P=-(C-T),O=S-A,I=0,E=0,$=Math.sqrt(P*P+O*O);P/=$,O/=$,P*=w,O*=w;const R=2*(1-l),z=2*l;d||("round"===o.cap?f+=x(S-P*(R-z)*.5,C-O*(R-z)*.5,S-P*R,C-O*R,S+P*z,C+O*z,p,!0)+2:"square"===o.cap&&(f+=v(S,C,P,O,R,z,!0,p))),p.push(S-P*R,C-O*R),p.push(S+P*z,C+O*z);for(let e=1;e<m-1;++e){S=t[2*(e-1)],C=t[2*(e-1)+1],A=t[2*e],T=t[2*e+1],M=t[2*(e+1)],B=t[2*(e+1)+1],P=-(C-T),O=S-A,$=Math.sqrt(P*P+O*O),P/=$,O/=$,P*=w,O*=w,I=-(T-B),E=A-M,$=Math.sqrt(I*I+E*E),I/=$,E/=$,I*=w,E*=w;const i=A-S,r=C-T,s=A-M,a=B-T,n=i*s+r*a,l=r*s-a*i,h=l<0;if(Math.abs(l)<.001*Math.abs(n)){p.push(A-P*R,T-O*R),p.push(A+P*z,T+O*z),n>=0&&("round"===o.join?f+=x(A,T,A-P*R,T-O*R,A-I*R,T-E*R,p,!1)+4:f+=2,p.push(A-I*z,T-E*z),p.push(A+I*R,T+E*R));continue}const c=(-P+S)*(-O+T)-(-P+A)*(-O+C),d=(-I+M)*(-E+T)-(-I+A)*(-E+B),u=(i*d-s*c)/l,m=(a*c-r*d)/l,g=(u-A)*(u-A)+(m-T)*(m-T),b=A+(u-A)*R,y=T+(m-T)*R,v=A-(u-A)*z,F=T-(m-T)*z,L=h?R:z;g<=Math.min(i*i+r*r,s*s+a*a)+L*L*_?"bevel"===o.join||g/_>k?(h?(p.push(b,y),p.push(A+P*z,T+O*z),p.push(b,y),p.push(A+I*z,T+E*z)):(p.push(A-P*R,T-O*R),p.push(v,F),p.push(A-I*R,T-E*R),p.push(v,F)),f+=2):"round"===o.join?h?(p.push(b,y),p.push(A+P*z,T+O*z),f+=x(A,T,A+P*z,T+O*z,A+I*z,T+E*z,p,!0)+4,p.push(b,y),p.push(A+I*z,T+E*z)):(p.push(A-P*R,T-O*R),p.push(v,F),f+=x(A,T,A-P*R,T-O*R,A-I*R,T-E*R,p,!1)+4,p.push(A-I*R,T-E*R),p.push(v,F)):(p.push(b,y),p.push(v,F)):(p.push(A-P*R,T-O*R),p.push(A+P*z,T+O*z),"round"===o.join?f+=h?x(A,T,A+P*z,T+O*z,A+I*z,T+E*z,p,!0)+2:x(A,T,A-P*R,T-O*R,A-I*R,T-E*R,p,!1)+2:"miter"===o.join&&g/_<=k&&(h?(p.push(v,F),p.push(v,F)):(p.push(b,y),p.push(b,y)),f+=2),p.push(A-I*R,T-E*R),p.push(A+I*z,T+E*z),f+=2)}S=t[2*(m-2)],C=t[2*(m-2)+1],A=t[2*(m-1)],T=t[2*(m-1)+1],P=-(C-T),O=S-A,$=Math.sqrt(P*P+O*O),P/=$,O/=$,P*=w,O*=w,p.push(A-P*R,T-O*R),p.push(A+P*z,T+O*z),d||("round"===o.cap?f+=x(A-P*(R-z)*.5,T-O*(R-z)*.5,A-P*R,T-O*R,A+P*z,T+O*z,p,!1)+2:"square"===o.cap&&(f+=v(A,T,P,O,R,z,!1,p)));for(let t=g;t<f+g-2;++t)S=p[2*t],C=p[2*t+1],A=p[2*(t+1)],T=p[2*(t+1)+1],M=p[2*(t+2)],B=p[2*(t+2)+1],Math.abs(S*(T-B)+A*(B-C)+M*(C-T))<1e-8||a.push(t,t+1,t+2)}(m,r,0,i,a,o)}else if(c){const t=[],e=m.slice();(function(t){const e=[];for(let i=0;i<t.length;i++){const r=t[i].shape,s=[];it[r.type].build(r,s)&&e.push(s)}return e})(c).forEach(i=>{t.push(e.length/2),e.push(...i)}),j(e,t,a,2,w,o,g)}else f.triangulate(m,a,2,w,o,g);const k=n.length/2,S=e.texture;if(S!==u.g.WHITE){const i=function(t,e,i,r){const s=e.matrix?t.copyFrom(e.matrix).invert():t.identity();if("local"===e.textureSpace){const t=i.getBounds(et);e.width&&t.pad(e.width);const{x:r,y:a}=t,n=1/t.width,o=1/t.height,l=-r*n,h=-a*o,c=s.a,d=s.b,u=s.c,p=s.d;s.a*=n,s.b*=n,s.c*=o,s.d*=o,s.tx=l*c+h*u+s.tx,s.ty=l*d+h*p+s.ty}else s.translate(e.texture.frame.x,e.texture.frame.y),s.scale(1/e.texture.source.width,1/e.texture.source.height);const a=e.texture.source.style;return e.fill instanceof J._||"clamp-to-edge"!==a.addressMode||(a.addressMode="repeat",a.update()),r&&s.append(tt.copyFrom(r).invert()),s}(st,e,t,h);!function(t,e,i,r,s,a,n,o=null){let l=0;i*=e,s*=a;const h=o.a,c=o.b,d=o.c,u=o.d,p=o.tx,m=o.ty;for(;l<n;){const n=t[i],o=t[i+1];r[s]=h*n+d*o+p,r[s+1]=c*n+u*o+m,s+=a,i+=e,l++}}(a,2,w,n,k,2,a.length/2-w,i)}else!function(t,e,i,r){let s=0;for(e*=2;s<r;)t[e]=0,t[e+1]=0,e+=2,s++}(n,k,0,a.length/2-w);const C=l.Z.get(p.G);C.indexOffset=g,C.indexSize=o.length-g,C.attributeOffset=w,C.attributeSize=a.length/2-w,C.baseColor=e.color,C.alpha=e.alpha,C.texture=S,C.geometryData=s,C.topology=_,r.push(C)})}class ot{constructor(){this.batches=[],this.geometryData={vertices:[],uvs:[],indices:[]}}}class lt{constructor(){this.instructions=new n.L}init(t){this.batcher=new a.J({maxTextures:t}),this.instructions.reset()}get geometry(){return(0,o.t6)(o.Ek,"GraphicsContextRenderData#geometry is deprecated, please use batcher.geometry instead."),this.batcher.geometry}}const ht=class t{constructor(t){this._gpuContextHash={},this._graphicsDataContextHash=Object.create(null),this._renderer=t,t.renderableGC.addManagedHash(this,"_gpuContextHash"),t.renderableGC.addManagedHash(this,"_graphicsDataContextHash")}init(e){t.defaultOptions.bezierSmoothness=e?.bezierSmoothness??t.defaultOptions.bezierSmoothness}getContextRenderData(t){return this._graphicsDataContextHash[t.uid]||this._initContextRenderData(t)}updateGpuContext(t){let e=this._gpuContextHash[t.uid]||this._initContext(t);if(t.dirty){e?this._cleanGraphicsContextData(t):e=this._initContext(t),function(t,e){const{geometryData:i,batches:r}=e;r.length=0,i.indices.length=0,i.vertices.length=0,i.uvs.length=0;for(let e=0;e<t.instructions.length;e++){const s=t.instructions[e];if("texture"===s.action)at(s.data,r,i);else if("fill"===s.action||"stroke"===s.action){const t="stroke"===s.action,e=s.data.path.shapePath,a=s.data.style,n=s.data.hole;t&&n&&nt(n.shapePath,a,!0,r,i),n&&(e.shapePrimitives[e.shapePrimitives.length-1].holes=n.shapePath.shapePrimitives),nt(e,a,t,r,i)}}}(t,e);const i=t.batchMode;t.customShader||"no-batch"===i?e.isBatchable=!1:e.isBatchable="auto"!==i||e.geometryData.vertices.length<400,t.dirty=!1}return e}getGpuContext(t){return this._gpuContextHash[t.uid]||this._initContext(t)}_initContextRenderData(t){const e=l.Z.get(lt,{maxTextures:this._renderer.limits.maxBatchableTextures}),{batches:i,geometryData:r}=this._gpuContextHash[t.uid],a=r.vertices.length,n=r.indices.length;for(let t=0;t<i.length;t++)i[t].applyTransform=!1;const o=e.batcher;o.ensureAttributeBuffer(a),o.ensureIndexBuffer(n),o.begin();for(let t=0;t<i.length;t++){const e=i[t];o.add(e)}o.finish(e.instructions);const h=o.geometry;h.indexBuffer.setDataWithSize(o.indexBuffer,o.indexSize,!0),h.buffers[0].setDataWithSize(o.attributeBuffer.float32View,o.attributeSize,!0);const c=o.batches;for(let t=0;t<c.length;t++){const e=c[t];e.bindGroup=(0,s.w)(e.textures.textures,e.textures.count,this._renderer.limits.maxBatchableTextures)}return this._graphicsDataContextHash[t.uid]=e,e}_initContext(t){const e=new ot;return e.context=t,this._gpuContextHash[t.uid]=e,t.on("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[t.uid]}onGraphicsContextDestroy(t){this._cleanGraphicsContextData(t),t.off("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[t.uid]=null}_cleanGraphicsContextData(t){const e=this._gpuContextHash[t.uid];e.isBatchable||this._graphicsDataContextHash[t.uid]&&(l.Z.return(this.getContextRenderData(t)),this._graphicsDataContextHash[t.uid]=null),e.batches&&e.batches.forEach(t=>{l.Z.return(t)})}destroy(){for(const t in this._gpuContextHash)this._gpuContextHash[t]&&this.onGraphicsContextDestroy(this._gpuContextHash[t].context)}};ht.extension={type:[r.Ag.WebGLSystem,r.Ag.WebGPUSystem,r.Ag.CanvasSystem],name:"graphicsContext"},ht.defaultOptions={bezierSmoothness:.5};let ct=ht},44661:(t,e,i)=>{"use strict";i.d(e,{Y:()=>r});const r=(t,e)=>{const i=e.split("?")[1];return i&&(t+=`?${i}`),t}},45881:(t,e,i)=>{"use strict";i.d(e,{R:()=>n});var r=i(27614);class s{constructor(t,e=null,i=0,r=!1){this.next=null,this.previous=null,this._destroyed=!1,this._fn=t,this._context=e,this.priority=i,this._once=r}match(t,e=null){return this._fn===t&&this._context===e}emit(t){this._fn&&(this._context?this._fn.call(this._context,t):this._fn(t));const e=this.next;return this._once&&this.destroy(!0),this._destroyed&&(this.next=null),e}connect(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this}destroy(t=!1){this._destroyed=!0,this._fn=null,this._context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const e=this.next;return this.next=t?null:e,this.previous=null,e}}const a=class t{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new s(null,null,1/0),this.deltaMS=1/t.targetFPMS,this.elapsedMS=1/t.targetFPMS,this._tick=t=>{this._requestId=null,this.started&&(this.update(t),this.started&&null===this._requestId&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(t,e,i=r.d.NORMAL){return this._addListener(new s(t,e,i))}addOnce(t,e,i=r.d.NORMAL){return this._addListener(new s(t,e,i,!0))}_addListener(t){let e=this._head.next,i=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(i);break}i=e,e=e.next}t.previous||t.connect(i)}else t.connect(i);return this._startIfPossible(),this}remove(t,e){let i=this._head.next;for(;i;)i=i.match(t,e)?i.destroy():i.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let t=0,e=this._head;for(;e=e.next;)t++;return t}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let t=this._head.next;for(;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}}update(e=performance.now()){let i;if(e>this.lastTime){if(i=this.elapsedMS=e-this.lastTime,i>this._maxElapsedMS&&(i=this._maxElapsedMS),i*=this.speed,this._minElapsedMS){const t=e-this._lastFrame|0;if(t<this._minElapsedMS)return;this._lastFrame=e-t%this._minElapsedMS}this.deltaMS=i,this.deltaTime=this.deltaMS*t.targetFPMS;const r=this._head;let s=r.next;for(;s;)s=s.emit(this);r.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(e){const i=Math.min(this.maxFPS,e),r=Math.min(Math.max(0,i)/1e3,t.targetFPMS);this._maxElapsedMS=1/r}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(t){if(0===t)this._minElapsedMS=0;else{const e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}}static get shared(){if(!t._shared){const e=t._shared=new t;e.autoStart=!0,e._protected=!0}return t._shared}static get system(){if(!t._system){const e=t._system=new t;e.autoStart=!0,e._protected=!0}return t._system}};a.targetFPMS=.06;let n=a},47260:(t,e,i)=>{"use strict";i.d(e,{N:()=>a});var r=i(55829),s=i(52135);const a=new class{constructor(t){this._canvasPool=Object.create(null),this.canvasOptions=t||{},this.enableFullScreen=!1}_createCanvasAndContext(t,e){const i=r.e.get().createCanvas();i.width=t,i.height=e;const s=i.getContext("2d");return{canvas:i,context:s}}getOptimalCanvasAndContext(t,e,i=1){t=Math.ceil(t*i-1e-6),e=Math.ceil(e*i-1e-6);const r=((t=(0,s.U5)(t))<<17)+((e=(0,s.U5)(e))<<1);this._canvasPool[r]||(this._canvasPool[r]=[]);let a=this._canvasPool[r].pop();return a||(a=this._createCanvasAndContext(t,e)),a}returnCanvasAndContext(t){const e=t.canvas,{width:i,height:r}=e,s=(i<<17)+(r<<1);t.context.resetTransform(),t.context.clearRect(0,0,i,r),this._canvasPool[s].push(t)}clear(){this._canvasPool={}}}},49307:(t,e,i)=>{"use strict";i.d(e,{A:()=>n});var r=i(55829);function s(t){if("string"!=typeof t)throw new TypeError(`Path must be a string. Received ${JSON.stringify(t)}`)}function a(t){return t.split("?")[0].split("#")[0]}const n={toPosix:t=>t.replace(new RegExp("\\".replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"),"/"),isUrl(t){return/^https?:/.test(this.toPosix(t))},isDataUrl:t=>/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t),isBlobUrl:t=>t.startsWith("blob:"),hasProtocol(t){return/^[^/:]+:/.test(this.toPosix(t))},getProtocol(t){s(t),t=this.toPosix(t);const e=/^file:\/\/\//.exec(t);if(e)return e[0];const i=/^[^/:]+:\/{0,2}/.exec(t);return i?i[0]:""},toAbsolute(t,e,i){if(s(t),this.isDataUrl(t)||this.isBlobUrl(t))return t;const o=a(this.toPosix(e??r.e.get().getBaseUrl())),l=a(this.toPosix(i??this.rootname(o)));return(t=this.toPosix(t)).startsWith("/")?n.join(l,t.slice(1)):this.isAbsolute(t)?t:this.join(o,t)},normalize(t){if(s(t),0===t.length)return".";if(this.isDataUrl(t)||this.isBlobUrl(t))return t;let e="";const i=(t=this.toPosix(t)).startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));const r=t.endsWith("/");return(t=function(t){let e="",i=0,r=-1,s=0,a=-1;for(let n=0;n<=t.length;++n){if(n<t.length)a=t.charCodeAt(n);else{if(47===a)break;a=47}if(47===a){if(r===n-1||1===s);else if(r!==n-1&&2===s){if(e.length<2||2!==i||46!==e.charCodeAt(e.length-1)||46!==e.charCodeAt(e.length-2))if(e.length>2){const t=e.lastIndexOf("/");if(t!==e.length-1){-1===t?(e="",i=0):(e=e.slice(0,t),i=e.length-1-e.lastIndexOf("/")),r=n,s=0;continue}}else if(2===e.length||1===e.length){e="",i=0,r=n,s=0;continue}}else e.length>0?e+=`/${t.slice(r+1,n)}`:e=t.slice(r+1,n),i=n-r-1;r=n,s=0}else 46===a&&-1!==s?++s:s=-1}return e}(t)).length>0&&r&&(t+="/"),i?`/${t}`:e+t},isAbsolute(t){return s(t),t=this.toPosix(t),!!this.hasProtocol(t)||t.startsWith("/")},join(...t){if(0===t.length)return".";let e;for(let i=0;i<t.length;++i){const r=t[i];if(s(r),r.length>0)if(void 0===e)e=r;else{const s=t[i-1]??"";this.joinExtensions.includes(this.extname(s).toLowerCase())?e+=`/../${r}`:e+=`/${r}`}}return void 0===e?".":this.normalize(e)},dirname(t){if(s(t),0===t.length)return".";let e=(t=this.toPosix(t)).charCodeAt(0);const i=47===e;let r=-1,a=!0;const n=this.getProtocol(t),o=t;for(let i=(t=t.slice(n.length)).length-1;i>=1;--i)if(e=t.charCodeAt(i),47===e){if(!a){r=i;break}}else a=!1;return-1===r?i?"/":this.isUrl(o)?n+t:n:i&&1===r?"//":n+t.slice(0,r)},rootname(t){s(t);let e="";if(e=(t=this.toPosix(t)).startsWith("/")?"/":this.getProtocol(t),this.isUrl(t)){const i=t.indexOf("/",e.length);e=-1!==i?t.slice(0,i):t,e.endsWith("/")||(e+="/")}return e},basename(t,e){s(t),e&&s(e),t=a(this.toPosix(t));let i,r=0,n=-1,o=!0;if(void 0!==e&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";let s=e.length-1,a=-1;for(i=t.length-1;i>=0;--i){const l=t.charCodeAt(i);if(47===l){if(!o){r=i+1;break}}else-1===a&&(o=!1,a=i+1),s>=0&&(l===e.charCodeAt(s)?-1===--s&&(n=i):(s=-1,n=a))}return r===n?n=a:-1===n&&(n=t.length),t.slice(r,n)}for(i=t.length-1;i>=0;--i)if(47===t.charCodeAt(i)){if(!o){r=i+1;break}}else-1===n&&(o=!1,n=i+1);return-1===n?"":t.slice(r,n)},extname(t){s(t);let e=-1,i=0,r=-1,n=!0,o=0;for(let s=(t=a(this.toPosix(t))).length-1;s>=0;--s){const a=t.charCodeAt(s);if(47!==a)-1===r&&(n=!1,r=s+1),46===a?-1===e?e=s:1!==o&&(o=1):-1!==e&&(o=-1);else if(!n){i=s+1;break}}return-1===e||-1===r||0===o||1===o&&e===r-1&&e===i+1?"":t.slice(e,r)},parse(t){s(t);const e={root:"",dir:"",base:"",ext:"",name:""};if(0===t.length)return e;let i=(t=a(this.toPosix(t))).charCodeAt(0);const r=this.isAbsolute(t);let n;e.root=this.rootname(t),n=r||this.hasProtocol(t)?1:0;let o=-1,l=0,h=-1,c=!0,d=t.length-1,u=0;for(;d>=n;--d)if(i=t.charCodeAt(d),47!==i)-1===h&&(c=!1,h=d+1),46===i?-1===o?o=d:1!==u&&(u=1):-1!==o&&(u=-1);else if(!c){l=d+1;break}return-1===o||-1===h||0===u||1===u&&o===h-1&&o===l+1?-1!==h&&(e.base=e.name=0===l&&r?t.slice(1,h):t.slice(l,h)):(0===l&&r?(e.name=t.slice(1,o),e.base=t.slice(1,h)):(e.name=t.slice(l,o),e.base=t.slice(l,h)),e.ext=t.slice(o,h)),e.dir=this.dirname(t),e},sep:"/",delimiter:":",joinExtensions:[".html"]}},50619:(t,e,i)=>{"use strict";i.d(e,{v:()=>h});var r=i(55698),s=i(52135),a=i(17782),n=i(80753),o=i(74838);const l=class t extends r.A{constructor(e={}){super(),this.options=e,this.uid=(0,n.L)("textureSource"),this._resourceType="textureSource",this._resourceId=(0,n.L)("resource"),this.uploadMethodId="unknown",this._resolution=1,this.pixelWidth=1,this.pixelHeight=1,this.width=1,this.height=1,this.sampleCount=1,this.mipLevelCount=1,this.autoGenerateMipmaps=!1,this.format="rgba8unorm",this.dimension="2d",this.antialias=!1,this._touched=0,this._batchTick=-1,this._textureBindLocation=-1,e={...t.defaultOptions,...e},this.label=e.label??"",this.resource=e.resource,this.autoGarbageCollect=e.autoGarbageCollect,this._resolution=e.resolution,e.width?this.pixelWidth=e.width*this._resolution:this.pixelWidth=this.resource?this.resourceWidth??1:1,e.height?this.pixelHeight=e.height*this._resolution:this.pixelHeight=this.resource?this.resourceHeight??1:1,this.width=this.pixelWidth/this._resolution,this.height=this.pixelHeight/this._resolution,this.format=e.format,this.dimension=e.dimensions,this.mipLevelCount=e.mipLevelCount,this.autoGenerateMipmaps=e.autoGenerateMipmaps,this.sampleCount=e.sampleCount,this.antialias=e.antialias,this.alphaMode=e.alphaMode,this.style=new o.n((0,a.S)(e)),this.destroyed=!1,this._refreshPOT()}get source(){return this}get style(){return this._style}set style(t){this.style!==t&&(this._style?.off("change",this._onStyleChange,this),this._style=t,this._style?.on("change",this._onStyleChange,this),this._onStyleChange())}set maxAnisotropy(t){this._style.maxAnisotropy=t}get maxAnisotropy(){return this._style.maxAnisotropy}get addressMode(){return this._style.addressMode}set addressMode(t){this._style.addressMode=t}get repeatMode(){return this._style.addressMode}set repeatMode(t){this._style.addressMode=t}get magFilter(){return this._style.magFilter}set magFilter(t){this._style.magFilter=t}get minFilter(){return this._style.minFilter}set minFilter(t){this._style.minFilter=t}get mipmapFilter(){return this._style.mipmapFilter}set mipmapFilter(t){this._style.mipmapFilter=t}get lodMinClamp(){return this._style.lodMinClamp}set lodMinClamp(t){this._style.lodMinClamp=t}get lodMaxClamp(){return this._style.lodMaxClamp}set lodMaxClamp(t){this._style.lodMaxClamp=t}_onStyleChange(){this.emit("styleChange",this)}update(){if(this.resource){const t=this._resolution;if(this.resize(this.resourceWidth/t,this.resourceHeight/t))return}this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._style&&(this._style.destroy(),this._style=null),this.uploadMethodId=null,this.resource=null,this.removeAllListeners()}unload(){this._resourceId=(0,n.L)("resource"),this.emit("change",this),this.emit("unload",this)}get resourceWidth(){const{resource:t}=this;return t.naturalWidth||t.videoWidth||t.displayWidth||t.width}get resourceHeight(){const{resource:t}=this;return t.naturalHeight||t.videoHeight||t.displayHeight||t.height}get resolution(){return this._resolution}set resolution(t){this._resolution!==t&&(this._resolution=t,this.width=this.pixelWidth/t,this.height=this.pixelHeight/t)}resize(t,e,i){i||(i=this._resolution),t||(t=this.width),e||(e=this.height);const r=Math.round(t*i),s=Math.round(e*i);return this.width=r/i,this.height=s/i,this._resolution=i,(this.pixelWidth!==r||this.pixelHeight!==s)&&(this._refreshPOT(),this.pixelWidth=r,this.pixelHeight=s,this.emit("resize",this),this._resourceId=(0,n.L)("resource"),this.emit("change",this),!0)}updateMipmaps(){this.autoGenerateMipmaps&&this.mipLevelCount>1&&this.emit("updateMipmaps",this)}set wrapMode(t){this._style.wrapMode=t}get wrapMode(){return this._style.wrapMode}set scaleMode(t){this._style.scaleMode=t}get scaleMode(){return this._style.scaleMode}_refreshPOT(){this.isPowerOfTwo=(0,s.f3)(this.pixelWidth)&&(0,s.f3)(this.pixelHeight)}static test(t){throw new Error("Unimplemented")}};l.defaultOptions={resolution:1,format:"bgra8unorm",alphaMode:"premultiply-alpha-on-upload",dimensions:"2d",mipLevelCount:1,autoGenerateMipmaps:!1,sampleCount:1,antialias:!1,autoGarbageCollect:!1};let h=l},51270:t=>{"use strict";var e=Object.prototype.hasOwnProperty,i="~";function r(){}function s(t,e,i){this.fn=t,this.context=e,this.once=i||!1}function a(t,e,r,a,n){if("function"!=typeof r)throw new TypeError("The listener must be a function");var o=new s(r,a||t,n),l=i?i+e:e;return t._events[l]?t._events[l].fn?t._events[l]=[t._events[l],o]:t._events[l].push(o):(t._events[l]=o,t._eventsCount++),t}function n(t,e){0===--t._eventsCount?t._events=new r:delete t._events[e]}function o(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(i=!1)),o.prototype.eventNames=function(){var t,r,s=[];if(0===this._eventsCount)return s;for(r in t=this._events)e.call(t,r)&&s.push(i?r.slice(1):r);return Object.getOwnPropertySymbols?s.concat(Object.getOwnPropertySymbols(t)):s},o.prototype.listeners=function(t){var e=i?i+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var s=0,a=r.length,n=new Array(a);s<a;s++)n[s]=r[s].fn;return n},o.prototype.listenerCount=function(t){var e=i?i+t:t,r=this._events[e];return r?r.fn?1:r.length:0},o.prototype.emit=function(t,e,r,s,a,n){var o=i?i+t:t;if(!this._events[o])return!1;var l,h,c=this._events[o],d=arguments.length;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),d){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,r),!0;case 4:return c.fn.call(c.context,e,r,s),!0;case 5:return c.fn.call(c.context,e,r,s,a),!0;case 6:return c.fn.call(c.context,e,r,s,a,n),!0}for(h=1,l=new Array(d-1);h<d;h++)l[h-1]=arguments[h];c.fn.apply(c.context,l)}else{var u,p=c.length;for(h=0;h<p;h++)switch(c[h].once&&this.removeListener(t,c[h].fn,void 0,!0),d){case 1:c[h].fn.call(c[h].context);break;case 2:c[h].fn.call(c[h].context,e);break;case 3:c[h].fn.call(c[h].context,e,r);break;case 4:c[h].fn.call(c[h].context,e,r,s);break;default:if(!l)for(u=1,l=new Array(d-1);u<d;u++)l[u-1]=arguments[u];c[h].fn.apply(c[h].context,l)}}return!0},o.prototype.on=function(t,e,i){return a(this,t,e,i,!1)},o.prototype.once=function(t,e,i){return a(this,t,e,i,!0)},o.prototype.removeListener=function(t,e,r,s){var a=i?i+t:t;if(!this._events[a])return this;if(!e)return n(this,a),this;var o=this._events[a];if(o.fn)o.fn!==e||s&&!o.once||r&&o.context!==r||n(this,a);else{for(var l=0,h=[],c=o.length;l<c;l++)(o[l].fn!==e||s&&!o[l].once||r&&o[l].context!==r)&&h.push(o[l]);h.length?this._events[a]=1===h.length?h[0]:h:n(this,a)}return this},o.prototype.removeAllListeners=function(t){var e;return t?(e=i?i+t:t,this._events[e]&&n(this,e)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=i,o.EventEmitter=o,t.exports=o},51687:(t,e,i)=>{"use strict";i.d(e,{F:()=>r,a:()=>s});const r={name:"color-bit",vertex:{header:"\n            @in aColor: vec4<f32>;\n        ",main:"\n            vColor *= vec4<f32>(aColor.rgb * aColor.a, aColor.a);\n        "}},s={name:"color-bit",vertex:{header:"\n            in vec4 aColor;\n        ",main:"\n            vColor *= vec4(aColor.rgb * aColor.a, aColor.a);\n        "}}},52135:(t,e,i)=>{"use strict";function r(t){return t+=0===t?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,1+(t|=t>>>16)}function s(t){return!(t&t-1||!t)}i.d(e,{U5:()=>r,f3:()=>s})},55698:(t,e,i)=>{"use strict";i.d(e,{A:()=>r});const r=i(51270)},55829:(t,e,i)=>{"use strict";i.d(e,{e:()=>s});let r={createCanvas:(t,e)=>{const i=document.createElement("canvas");return i.width=t,i.height=e,i},createImage:()=>new Image,getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>(new DOMParser).parseFromString(t,"text/xml")};const s={get:()=>r,set(t){r=t}}},56167:(t,e,i)=>{"use strict";i.d(e,{V:()=>h});var r=i(55698),s=i(34856),a=i(80753),n=i(13889),o=i(13784);function l(t,e){if(!(t instanceof n.h)){let i=e?o.S.INDEX:o.S.VERTEX;t instanceof Array&&(e?(t=new Uint32Array(t),i=o.S.INDEX|o.S.COPY_DST):(t=new Float32Array(t),i=o.S.VERTEX|o.S.COPY_DST)),t=new n.h({data:t,label:e?"index-mesh-buffer":"vertex-mesh-buffer",usage:i})}return t}class h extends r.A{constructor(t={}){super(),this.uid=(0,a.L)("geometry"),this._layoutKey=0,this.instanceCount=1,this._bounds=new s.c,this._boundsDirty=!0;const{attributes:e,indexBuffer:i,topology:r}=t;if(this.buffers=[],this.attributes={},e)for(const t in e)this.addAttribute(t,e[t]);this.instanceCount=t.instanceCount??1,i&&this.addIndex(i),this.topology=r||"triangle-list"}onBufferUpdate(){this._boundsDirty=!0,this.emit("update",this)}getAttribute(t){return this.attributes[t]}getIndex(){return this.indexBuffer}getBuffer(t){return this.getAttribute(t).buffer}getSize(){for(const t in this.attributes){const e=this.attributes[t];return e.buffer.data.length/(e.stride/4||e.size)}return 0}addAttribute(t,e){const i=function(t){return(t instanceof n.h||Array.isArray(t)||t.BYTES_PER_ELEMENT)&&(t={buffer:t}),t.buffer=l(t.buffer,!1),t}(e);-1===this.buffers.indexOf(i.buffer)&&(this.buffers.push(i.buffer),i.buffer.on("update",this.onBufferUpdate,this),i.buffer.on("change",this.onBufferUpdate,this)),this.attributes[t]=i}addIndex(t){this.indexBuffer=l(t,!0),this.buffers.push(this.indexBuffer)}get bounds(){return this._boundsDirty?(this._boundsDirty=!1,function(t,e,i){const r=t.getAttribute("aPosition");if(!r)return i.minX=0,i.minY=0,i.maxX=0,i.maxY=0,i;const s=r.buffer.data;let a=1/0,n=1/0,o=-1/0,l=-1/0;const h=s.BYTES_PER_ELEMENT,c=(r.offset||0)/h,d=(r.stride||8)/h;for(let t=c;t<s.length;t+=d){const e=s[t],i=s[t+1];e>o&&(o=e),i>l&&(l=i),e<a&&(a=e),i<n&&(n=i)}return i.minX=a,i.minY=n,i.maxX=o,i.maxY=l,i}(this,0,this._bounds)):this._bounds}destroy(t=!1){this.emit("destroy",this),this.removeAllListeners(),t&&this.buffers.forEach(t=>t.destroy()),this.attributes=null,this.buffers=null,this.indexBuffer=null,this._bounds=null}}},56613:(t,e,i)=>{"use strict";i.d(e,{v:()=>a});var r=i(55698),s=i(98610);class a extends r.A{constructor(){super(...arguments),this.chars=Object.create(null),this.lineHeight=0,this.fontFamily="",this.fontMetrics={fontSize:0,ascent:0,descent:0},this.baseLineOffset=0,this.distanceField={type:"none",range:0},this.pages=[],this.applyFillAsTint=!0,this.baseMeasurementFontSize=100,this.baseRenderedFontSize=100}get font(){return(0,s.t6)(s.lj,"BitmapFont.font is deprecated, please use BitmapFont.fontFamily instead."),this.fontFamily}get pageTextures(){return(0,s.t6)(s.lj,"BitmapFont.pageTextures is deprecated, please use BitmapFont.pages instead."),this.pages}get size(){return(0,s.t6)(s.lj,"BitmapFont.size is deprecated, please use BitmapFont.fontMetrics.fontSize instead."),this.fontMetrics.fontSize}get distanceFieldRange(){return(0,s.t6)(s.lj,"BitmapFont.distanceFieldRange is deprecated, please use BitmapFont.distanceField.range instead."),this.distanceField.range}get distanceFieldType(){return(0,s.t6)(s.lj,"BitmapFont.distanceFieldType is deprecated, please use BitmapFont.distanceField.type instead."),this.distanceField.type}destroy(t=!1){this.emit("destroy",this),this.removeAllListeners();for(const t in this.chars)this.chars[t].texture?.destroy();this.chars=null,t&&(this.pages.forEach(t=>t.texture.destroy(!0)),this.pages=null)}}},58196:(t,e,i)=>{"use strict";i.d(e,{P:()=>o});var r=i(55829),s=i(66894);const a={willReadFrequently:!0},n=class t{static get experimentalLetterSpacingSupported(){let e=t._experimentalLetterSpacingSupported;if(void 0===e){const i=r.e.get().getCanvasRenderingContext2D().prototype;e=t._experimentalLetterSpacingSupported="letterSpacing"in i||"textLetterSpacing"in i}return e}constructor(t,e,i,r,s,a,n,o,l){this.text=t,this.style=e,this.width=i,this.height=r,this.lines=s,this.lineWidths=a,this.lineHeight=n,this.maxLineWidth=o,this.fontProperties=l}static measureText(e=" ",i,r=t._canvas,a=i.wordWrap){const n=(0,s.Z)(i),o=t.measureFont(n);0===o.fontSize&&(o.fontSize=i.fontSize,o.ascent=i.fontSize);const l=t.__context;l.font=n;const h=(a?t._wordWrap(e,i,r):e).split(/(?:\r\n|\r|\n)/),c=new Array(h.length);let d=0;for(let e=0;e<h.length;e++){const r=t._measureText(h[e],i.letterSpacing,l);c[e]=r,d=Math.max(d,r)}const u=i._stroke?.width||0;let p=d+u;i.dropShadow&&(p+=i.dropShadow.distance);const m=i.lineHeight||o.fontSize;let f=Math.max(m,o.fontSize+u)+(h.length-1)*(m+i.leading);return i.dropShadow&&(f+=i.dropShadow.distance),new t(e,i,p,f,h,c,m+i.leading,d,o)}static _measureText(e,i,r){let s=!1;t.experimentalLetterSpacingSupported&&(t.experimentalLetterSpacing?(r.letterSpacing=`${i}px`,r.textLetterSpacing=`${i}px`,s=!0):(r.letterSpacing="0px",r.textLetterSpacing="0px"));const a=r.measureText(e);let n=a.width;const o=-a.actualBoundingBoxLeft;let l=a.actualBoundingBoxRight-o;if(n>0)if(s)n-=i,l-=i;else{const r=(t.graphemeSegmenter(e).length-1)*i;n+=r,l+=r}return Math.max(n,l)}static _wordWrap(e,i,r=t._canvas){const s=r.getContext("2d",a);let n=0,o="",l="";const h=Object.create(null),{letterSpacing:c,whiteSpace:d}=i,u=t._collapseSpaces(d),p=t._collapseNewlines(d);let m=!u;const f=i.wordWrapWidth+c,g=t._tokenize(e);for(let e=0;e<g.length;e++){let r=g[e];if(t._isNewline(r)){if(!p){l+=t._addLine(o),m=!u,o="",n=0;continue}r=" "}if(u){const e=t.isBreakingSpace(r),i=t.isBreakingSpace(o[o.length-1]);if(e&&i)continue}const a=t._getFromCache(r,c,h,s);if(a>f)if(""!==o&&(l+=t._addLine(o),o="",n=0),t.canBreakWords(r,i.breakWords)){const e=t.wordWrapSplit(r);for(let a=0;a<e.length;a++){let d=e[a],u=d,p=1;for(;e[a+p];){const s=e[a+p];if(t.canBreakChars(u,s,r,a,i.breakWords))break;d+=s,u=s,p++}a+=p-1;const g=t._getFromCache(d,c,h,s);g+n>f&&(l+=t._addLine(o),m=!1,o="",n=0),o+=d,n+=g}}else{o.length>0&&(l+=t._addLine(o),o="",n=0);const i=e===g.length-1;l+=t._addLine(r,!i),m=!1,o="",n=0}else a+n>f&&(m=!1,l+=t._addLine(o),o="",n=0),(o.length>0||!t.isBreakingSpace(r)||m)&&(o+=r,n+=a)}return l+=t._addLine(o,!1),l}static _addLine(e,i=!0){return e=t._trimRight(e),i?`${e}\n`:e}static _getFromCache(e,i,r,s){let a=r[e];return"number"!=typeof a&&(a=t._measureText(e,i,s)+i,r[e]=a),a}static _collapseSpaces(t){return"normal"===t||"pre-line"===t}static _collapseNewlines(t){return"normal"===t}static _trimRight(e){if("string"!=typeof e)return"";for(let i=e.length-1;i>=0;i--){const r=e[i];if(!t.isBreakingSpace(r))break;e=e.slice(0,-1)}return e}static _isNewline(e){return"string"==typeof e&&t._newlines.includes(e.charCodeAt(0))}static isBreakingSpace(e,i){return"string"==typeof e&&t._breakingSpaces.includes(e.charCodeAt(0))}static _tokenize(e){const i=[];let r="";if("string"!=typeof e)return i;for(let s=0;s<e.length;s++){const a=e[s],n=e[s+1];t.isBreakingSpace(a,n)||t._isNewline(a)?(""!==r&&(i.push(r),r=""),"\r"===a&&"\n"===n?(i.push("\r\n"),s++):i.push(a)):r+=a}return""!==r&&i.push(r),i}static canBreakWords(t,e){return e}static canBreakChars(t,e,i,r,s){return!0}static wordWrapSplit(e){return t.graphemeSegmenter(e)}static measureFont(e){if(t._fonts[e])return t._fonts[e];const i=t._context;i.font=e;const r=i.measureText(t.METRICS_STRING+t.BASELINE_SYMBOL),s={ascent:r.actualBoundingBoxAscent,descent:r.actualBoundingBoxDescent,fontSize:r.actualBoundingBoxAscent+r.actualBoundingBoxDescent};return t._fonts[e]=s,s}static clearMetrics(e=""){e?delete t._fonts[e]:t._fonts={}}static get _canvas(){if(!t.__canvas){let e;try{const i=new OffscreenCanvas(0,0),s=i.getContext("2d",a);if(s?.measureText)return t.__canvas=i,i;e=r.e.get().createCanvas()}catch(t){e=r.e.get().createCanvas()}e.width=e.height=10,t.__canvas=e}return t.__canvas}static get _context(){return t.__context||(t.__context=t._canvas.getContext("2d",a)),t.__context}};n.METRICS_STRING="|ÉqÅ",n.BASELINE_SYMBOL="M",n.BASELINE_MULTIPLIER=1.4,n.HEIGHT_MULTIPLIER=2,n.graphemeSegmenter=(()=>{if("function"==typeof Intl?.Segmenter){const t=new Intl.Segmenter;return e=>{const i=t.segment(e),r=[];let s=0;for(const t of i)r[s++]=t.segment;return r}}return t=>[...t]})(),n.experimentalLetterSpacing=!1,n._fonts={},n._newlines=[10,13],n._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];let o=n},58264:(t,e,i)=>{"use strict";i.d(e,{N:()=>a});var r=i(69325);const s=new r.u;class a{constructor(t,e){this.mapCoord=new r.u,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=void 0===e?t.width<10?0:.5:e,this.isSimple=!1,this.texture=t}get texture(){return this._texture}set texture(t){this.texture!==t&&(this._texture?.removeListener("update",this.update,this),this._texture=t,this._texture.addListener("update",this.update,this),this.update())}multiplyUvs(t,e){void 0===e&&(e=t);const i=this.mapCoord;for(let r=0;r<t.length;r+=2){const s=t[r],a=t[r+1];e[r]=s*i.a+a*i.c+i.tx,e[r+1]=s*i.b+a*i.d+i.ty}return e}update(){const t=this._texture;this._updateID++;const e=t.uvs;this.mapCoord.set(e.x1-e.x0,e.y1-e.y0,e.x3-e.x0,e.y3-e.y0,e.x0,e.y0);const i=t.orig,r=t.trim;r&&(s.set(i.width/r.width,0,0,i.height/r.height,-r.x/r.width,-r.y/r.height),this.mapCoord.append(s));const a=t.source,n=this.uClampFrame,o=this.clampMargin/a._resolution,l=this.clampOffset/a._resolution;return n[0]=(t.frame.x+o+l)/a.width,n[1]=(t.frame.y+o+l)/a.height,n[2]=(t.frame.x+t.frame.width-o+l)/a.width,n[3]=(t.frame.y+t.frame.height-o+l)/a.height,this.uClampOffset[0]=this.clampOffset/a.pixelWidth,this.uClampOffset[1]=this.clampOffset/a.pixelHeight,this.isSimple=t.frame.width===a.width&&t.frame.height===a.height&&0===t.rotate,!0}}},61667:(t,e,i)=>{"use strict";i.d(e,{i:()=>s});var r=i(9633);function s(t,e){return"no-premultiply-alpha"===e.alphaMode&&r.Q[t]||t}},61967:(t,e,i)=>{"use strict";function r(t,e,i,r){const s={width:0,height:0,offsetY:0,scale:e.fontSize/i.baseMeasurementFontSize,lines:[{width:0,charPositions:[],spaceWidth:0,spacesIndex:[],chars:[]}]};s.offsetY=i.baseLineOffset;let a=s.lines[0],n=null,o=!0;const l={spaceWord:!1,width:0,start:0,index:0,positions:[],chars:[]},h=i.baseMeasurementFontSize/e.fontSize,c=e.letterSpacing*h,d=e.wordWrapWidth*h,u=e.lineHeight?e.lineHeight*h:i.lineHeight,p=e.wordWrap&&e.breakWords,m=t=>{const e=a.width;for(let i=0;i<l.index;i++){const r=t.positions[i];a.chars.push(t.chars[i]),a.charPositions.push(r+e)}a.width+=t.width,o=!1,l.width=0,l.index=0,l.chars.length=0},f=()=>{let t=a.chars.length-1;if(r){let e=a.chars[t];for(;" "===e;)a.width-=i.chars[e].xAdvance,e=a.chars[--t]}s.width=Math.max(s.width,a.width),a={width:0,charPositions:[],chars:[],spaceWidth:0,spacesIndex:[]},o=!0,s.lines.push(a),s.height+=u},g=t=>t-c>d;for(let r=0;r<t.length+1;r++){let s;const h=r===t.length;h||(s=t[r]);const d=i.chars[s]||i.chars[" "];if(/(?:\s)/.test(s)||"\r"===s||"\n"===s||h){if(!o&&e.wordWrap&&g(a.width+l.width)?(f(),m(l),h||a.charPositions.push(0)):(l.start=a.width,m(l),h||a.charPositions.push(0)),"\r"===s||"\n"===s)0!==a.width&&f();else if(!h){const t=d.xAdvance+(d.kerning[n]||0)+c;a.width+=t,a.spaceWidth=t,a.spacesIndex.push(a.charPositions.length),a.chars.push(s)}}else{const t=d.kerning[n]||0,e=d.xAdvance+t+c;p&&g(a.width+l.width+e)&&(m(l),f()),l.positions[l.index++]=l.width+t,l.chars.push(s),l.width+=e}n=s}return f(),"center"===e.align?function(t){for(let e=0;e<t.lines.length;e++){const i=t.lines[e],r=t.width/2-i.width/2;for(let t=0;t<i.charPositions.length;t++)i.charPositions[t]+=r}}(s):"right"===e.align?function(t){for(let e=0;e<t.lines.length;e++){const i=t.lines[e],r=t.width-i.width;for(let t=0;t<i.charPositions.length;t++)i.charPositions[t]+=r}}(s):"justify"===e.align&&function(t){const e=t.width;for(let i=0;i<t.lines.length;i++){const r=t.lines[i];let s=0,a=r.spacesIndex[s++],n=0;const o=r.spacesIndex.length,l=(e-r.width)/o;for(let t=0;t<r.charPositions.length;t++)t===a&&(a=r.spacesIndex[s++],n+=l),r.charPositions[t]+=n}}(s),s}i.d(e,{Z:()=>r})},62169:function(t){var e;t.exports=((e=function(){function t(t){return s.appendChild(t.dom),t}function i(t){for(var e=0;e<s.children.length;e++)s.children[e].style.display=e===t?"block":"none";r=t}var r=0,s=document.createElement("div");s.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",s.addEventListener("click",function(t){t.preventDefault(),i(++r%s.children.length)},!1);var a=(performance||Date).now(),n=a,o=0,l=t(new e.Panel("FPS","#0ff","#002")),h=t(new e.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var c=t(new e.Panel("MB","#f08","#201"));return i(0),{REVISION:16,dom:s,addPanel:t,showPanel:i,begin:function(){a=(performance||Date).now()},end:function(){o++;var t=(performance||Date).now();if(h.update(t-a,200),t>n+1e3&&(l.update(1e3*o/(t-n),100),n=t,o=0,c)){var e=performance.memory;c.update(e.usedJSHeapSize/1048576,e.jsHeapSizeLimit/1048576)}return t},update:function(){a=this.end()},domElement:s,setMode:i}}).Panel=function(t,e,i){var r=1/0,s=0,a=Math.round,n=a(window.devicePixelRatio||1),o=80*n,l=48*n,h=3*n,c=2*n,d=3*n,u=15*n,p=74*n,m=30*n,f=document.createElement("canvas");f.width=o,f.height=l,f.style.cssText="width:80px;height:48px";var g=f.getContext("2d");return g.font="bold "+9*n+"px Helvetica,Arial,sans-serif",g.textBaseline="top",g.fillStyle=i,g.fillRect(0,0,o,l),g.fillStyle=e,g.fillText(t,h,c),g.fillRect(d,u,p,m),g.fillStyle=i,g.globalAlpha=.9,g.fillRect(d,u,p,m),{dom:f,update:function(l,b){r=Math.min(r,l),s=Math.max(s,l),g.fillStyle=i,g.globalAlpha=1,g.fillRect(0,0,o,u),g.fillStyle=e,g.fillText(a(l)+" "+t+" ("+a(r)+"-"+a(s)+")",h,c),g.drawImage(f,d+n,u,p-n,m,d,u,p-n,m),g.fillRect(d+p-n,u,n,m),g.fillStyle=i,g.globalAlpha=.9,g.fillRect(d+p-n,u,n,a((1-l/b)*m))}}},e)},62367:(t,e,i)=>{"use strict";i.d(e,{l:()=>a});var r=i(63880),s=i(26794);const a=new class{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(t){return this._cache.has(t)}get(t){const e=this._cache.get(t);return e||(0,r.R)(`[Assets] Asset id ${t} was not found in the Cache`),e}set(t,e){const i=(0,s.z)(t);let a;for(let t=0;t<this.parsers.length;t++){const r=this.parsers[t];if(r.test(e)){a=r.getCacheableAssets(i,e);break}}const n=new Map(Object.entries(a||{}));a||i.forEach(t=>{n.set(t,e)});const o=[...n.keys()],l={cacheKeys:o,keys:i};i.forEach(t=>{this._cacheMap.set(t,l)}),o.forEach(t=>{const i=a?a[t]:e;this._cache.has(t)&&this._cache.get(t)!==i&&(0,r.R)("[Cache] already has key:",t),this._cache.set(t,n.get(t))})}remove(t){if(!this._cacheMap.has(t))return void(0,r.R)(`[Assets] Asset id ${t} was not found in the Cache`);const e=this._cacheMap.get(t);e.cacheKeys.forEach(t=>{this._cache.delete(t)}),e.keys.forEach(t=>{this._cacheMap.delete(t)})}get parsers(){return this._parsers}}},63356:(t,e,i)=>{"use strict";i.d(e,{P:()=>h,_:()=>n});const r={};function s(t){const e=[];if(1===t)e.push("@group(1) @binding(0) var textureSource1: texture_2d<f32>;"),e.push("@group(1) @binding(1) var textureSampler1: sampler;");else{let i=0;for(let r=0;r<t;r++)e.push(`@group(1) @binding(${i++}) var textureSource${r+1}: texture_2d<f32>;`),e.push(`@group(1) @binding(${i++}) var textureSampler${r+1}: sampler;`)}return e.join("\n")}function a(t){const e=[];if(1===t)e.push("outColor = textureSampleGrad(textureSource1, textureSampler1, vUV, uvDx, uvDy);");else{e.push("switch vTextureId {");for(let i=0;i<t;i++)i===t-1?e.push("  default:{"):e.push(`  case ${i}:{`),e.push(`      outColor = textureSampleGrad(textureSource${i+1}, textureSampler${i+1}, vUV, uvDx, uvDy);`),e.push("      break;}");e.push("}")}return e.join("\n")}function n(t){return r[t]||(r[t]={name:"texture-batch-bit",vertex:{header:"\n                @in aTextureIdAndRound: vec2<u32>;\n                @out @interpolate(flat) vTextureId : u32;\n            ",main:"\n                vTextureId = aTextureIdAndRound.y;\n            ",end:"\n                if(aTextureIdAndRound.x == 1)\n                {\n                    vPosition = vec4<f32>(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);\n                }\n            "},fragment:{header:`\n                @in @interpolate(flat) vTextureId: u32;\n\n                ${s(t)}\n            `,main:`\n                var uvDx = dpdx(vUV);\n                var uvDy = dpdy(vUV);\n\n                ${a(t)}\n            `}}),r[t]}const o={};function l(t){const e=[];for(let i=0;i<t;i++)i>0&&e.push("else"),i<t-1&&e.push(`if(vTextureId < ${i}.5)`),e.push("{"),e.push(`\toutColor = texture(uTextures[${i}], vUV);`),e.push("}");return e.join("\n")}function h(t){return o[t]||(o[t]={name:"texture-batch-bit",vertex:{header:"\n                in vec2 aTextureIdAndRound;\n                out float vTextureId;\n\n            ",main:"\n                vTextureId = aTextureIdAndRound.y;\n            ",end:"\n                if(aTextureIdAndRound.x == 1.)\n                {\n                    gl_Position.xy = roundPixels(gl_Position.xy, uResolution);\n                }\n            "},fragment:{header:`\n                in float vTextureId;\n\n                uniform sampler2D uTextures[${t}];\n\n            `,main:`\n\n                ${l(t)}\n            `}}),o[t]}},63880:(t,e,i)=>{"use strict";i.d(e,{R:()=>a});let r=0;const s=500;function a(...t){r!==s&&(r++,r===s?console.warn("PixiJS Warning: too many warnings, no more warnings will be reported to the console by PixiJS."):console.warn("PixiJS Warning: ",...t))}},66894:(t,e,i)=>{"use strict";i.d(e,{Z:()=>s});const r=["serif","sans-serif","monospace","cursive","fantasy","system-ui"];function s(t){const e="number"==typeof t.fontSize?`${t.fontSize}px`:t.fontSize;let i=t.fontFamily;Array.isArray(t.fontFamily)||(i=t.fontFamily.split(","));for(let t=i.length-1;t>=0;t--){let e=i[t].trim();/([\"\'])[^\'\"]+\1/.test(e)||r.includes(e)||(e=`"${e}"`),i[t]=e}return`${t.fontStyle} ${t.fontVariant} ${t.fontWeight} ${e} ${i.join(",")}`}},67981:(t,e,i)=>{"use strict";i.d(e,{C:()=>r});class r{constructor(t){this.items=[],this._name=t}emit(t,e,i,r,s,a,n,o){const{name:l,items:h}=this;for(let c=0,d=h.length;c<d;c++)h[c][l](t,e,i,r,s,a,n,o);return this}add(t){return t[this._name]&&(this.remove(t),this.items.push(t)),this}remove(t){const e=this.items.indexOf(t);return-1!==e&&this.items.splice(e,1),this}contains(t){return-1!==this.items.indexOf(t)}removeAll(){return this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return 0===this.items.length}get name(){return this._name}}},68281:(t,e,i)=>{"use strict";i.d(e,{n:()=>a});var r=i(69325),s=i(86484);function a(t,e,i){return e.clear(),i||(i=r.u.IDENTITY),n(t,e,i,t,!0),e.isValid||e.set(0,0,0,0),e}function n(t,e,i,a,o){let l;if(o)l=s.u.get(),l=i.copyTo(l);else{if(!t.visible||!t.measurable)return;t.updateLocalTransform();const e=t.localTransform;l=s.u.get(),l.appendFrom(e,i)}const h=e,c=!!t.effects.length;if(c&&(e=s.o.get().clear()),t.boundsArea)e.addRect(t.boundsArea,l);else{t.renderPipeId&&(e.matrix=l,e.addBounds(t.bounds));const i=t.children;for(let t=0;t<i.length;t++)n(i[t],e,l,a,!1)}if(c){for(let i=0;i<t.effects.length;i++)t.effects[i].addLocalBounds?.(e,a);h.addBounds(e,r.u.IDENTITY),s.o.return(e)}s.u.return(l)}},68542:(t,e,i)=>{"use strict";i.d(e,{Z:()=>s});var r=i(78221);const s=new class{constructor(){this._poolsByClass=new Map}prepopulate(t,e){this.getPool(t).prepopulate(e)}get(t,e){return this.getPool(t).get(e)}return(t){this.getPool(t.constructor).return(t)}getPool(t){return this._poolsByClass.has(t)||this._poolsByClass.set(t,new r.b(t)),this._poolsByClass.get(t)}stats(){const t={};return this._poolsByClass.forEach(e=>{const i=t[e._classType.name]?e._classType.name+e._classType.ID:e._classType.name;t[i]={free:e.totalFree,used:e.totalUsed,size:e.totalSize}}),t}}},68965:(t,e,i)=>{"use strict";i.d(e,{j:()=>a});var r=i(19864);const s=16777215;function a(t,e){return t===s?e:e===s?t:(0,r.u)(t,e)}},69325:(t,e,i)=>{"use strict";i.d(e,{u:()=>a});var r=i(89880),s=i(32025);class a{constructor(t=1,e=0,i=0,r=1,s=0,a=0){this.array=null,this.a=t,this.b=e,this.c=i,this.d=r,this.tx=s,this.ty=a}fromArray(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]}set(t,e,i,r,s,a){return this.a=t,this.b=e,this.c=i,this.d=r,this.tx=s,this.ty=a,this}toArray(t,e){this.array||(this.array=new Float32Array(9));const i=e||this.array;return t?(i[0]=this.a,i[1]=this.b,i[2]=0,i[3]=this.c,i[4]=this.d,i[5]=0,i[6]=this.tx,i[7]=this.ty,i[8]=1):(i[0]=this.a,i[1]=this.c,i[2]=this.tx,i[3]=this.b,i[4]=this.d,i[5]=this.ty,i[6]=0,i[7]=0,i[8]=1),i}apply(t,e){e=e||new s.b;const i=t.x,r=t.y;return e.x=this.a*i+this.c*r+this.tx,e.y=this.b*i+this.d*r+this.ty,e}applyInverse(t,e){e=e||new s.b;const i=this.a,r=this.b,a=this.c,n=this.d,o=this.tx,l=this.ty,h=1/(i*n+a*-r),c=t.x,d=t.y;return e.x=n*h*c+-a*h*d+(l*a-o*n)*h,e.y=i*h*d+-r*h*c+(-l*i+o*r)*h,e}translate(t,e){return this.tx+=t,this.ty+=e,this}scale(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this}rotate(t){const e=Math.cos(t),i=Math.sin(t),r=this.a,s=this.c,a=this.tx;return this.a=r*e-this.b*i,this.b=r*i+this.b*e,this.c=s*e-this.d*i,this.d=s*i+this.d*e,this.tx=a*e-this.ty*i,this.ty=a*i+this.ty*e,this}append(t){const e=this.a,i=this.b,r=this.c,s=this.d;return this.a=t.a*e+t.b*r,this.b=t.a*i+t.b*s,this.c=t.c*e+t.d*r,this.d=t.c*i+t.d*s,this.tx=t.tx*e+t.ty*r+this.tx,this.ty=t.tx*i+t.ty*s+this.ty,this}appendFrom(t,e){const i=t.a,r=t.b,s=t.c,a=t.d,n=t.tx,o=t.ty,l=e.a,h=e.b,c=e.c,d=e.d;return this.a=i*l+r*c,this.b=i*h+r*d,this.c=s*l+a*c,this.d=s*h+a*d,this.tx=n*l+o*c+e.tx,this.ty=n*h+o*d+e.ty,this}setTransform(t,e,i,r,s,a,n,o,l){return this.a=Math.cos(n+l)*s,this.b=Math.sin(n+l)*s,this.c=-Math.sin(n-o)*a,this.d=Math.cos(n-o)*a,this.tx=t-(i*this.a+r*this.c),this.ty=e-(i*this.b+r*this.d),this}prepend(t){const e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){const e=this.a,i=this.c;this.a=e*t.a+this.b*t.c,this.b=e*t.b+this.b*t.d,this.c=i*t.a+this.d*t.c,this.d=i*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this}decompose(t){const e=this.a,i=this.b,s=this.c,a=this.d,n=t.pivot,o=-Math.atan2(-s,a),l=Math.atan2(i,e),h=Math.abs(o+l);return h<1e-5||Math.abs(r.TO-h)<1e-5?(t.rotation=l,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=o,t.skew.y=l),t.scale.x=Math.sqrt(e*e+i*i),t.scale.y=Math.sqrt(s*s+a*a),t.position.x=this.tx+(n.x*e+n.y*s),t.position.y=this.ty+(n.x*i+n.y*a),t}invert(){const t=this.a,e=this.b,i=this.c,r=this.d,s=this.tx,a=t*r-e*i;return this.a=r/a,this.b=-e/a,this.c=-i/a,this.d=t/a,this.tx=(i*this.ty-r*s)/a,this.ty=-(t*this.ty-e*s)/a,this}isIdentity(){return 1===this.a&&0===this.b&&0===this.c&&1===this.d&&0===this.tx&&0===this.ty}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const t=new a;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyTo(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyFrom(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this}equals(t){return t.a===this.a&&t.b===this.b&&t.c===this.c&&t.d===this.d&&t.tx===this.tx&&t.ty===this.ty}toString(){return`[pixi.js:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return o.identity()}static get shared(){return n.identity()}}const n=new a,o=new a},71005:(t,e,i)=>{"use strict";i.d(e,{b:()=>r,m:()=>s});const r={name:"round-pixels-bit",vertex:{header:"\n            fn roundPixels(position: vec2<f32>, targetSize: vec2<f32>) -> vec2<f32>\n            {\n                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;\n            }\n        "}},s={name:"round-pixels-bit",vertex:{header:"\n            vec2 roundPixels(vec2 position, vec2 targetSize)\n            {\n                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;\n            }\n        "}}},72207:(t,e,i)=>{"use strict";i.d(e,{Ag:()=>r,XO:()=>n});var r=(t=>(t.Application="application",t.WebGLPipes="webgl-pipes",t.WebGLPipesAdaptor="webgl-pipes-adaptor",t.WebGLSystem="webgl-system",t.WebGPUPipes="webgpu-pipes",t.WebGPUPipesAdaptor="webgpu-pipes-adaptor",t.WebGPUSystem="webgpu-system",t.CanvasSystem="canvas-system",t.CanvasPipesAdaptor="canvas-pipes-adaptor",t.CanvasPipes="canvas-pipes",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t.MaskEffect="mask-effect",t.BlendMode="blend-mode",t.TextureSource="texture-source",t.Environment="environment",t.ShapeBuilder="shape-builder",t.Batcher="batcher",t))(r||{});const s=t=>{if("function"==typeof t||"object"==typeof t&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");t={..."object"!=typeof t.extension?{type:t.extension}:t.extension,ref:t}}if("object"!=typeof t)throw new Error("Invalid extension type");return"string"==typeof(t={...t}).type&&(t.type=[t.type]),t},a=(t,e)=>s(t).priority??e,n={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...t){return t.map(s).forEach(t=>{t.type.forEach(e=>this._removeHandlers[e]?.(t))}),this},add(...t){return t.map(s).forEach(t=>{t.type.forEach(e=>{const i=this._addHandlers,r=this._queue;i[e]?i[e]?.(t):(r[e]=r[e]||[],r[e]?.push(t))})}),this},handle(t,e,i){const r=this._addHandlers,s=this._removeHandlers;if(r[t]||s[t])throw new Error(`Extension type ${t} already has a handler`);r[t]=e,s[t]=i;const a=this._queue;return a[t]&&(a[t]?.forEach(t=>e(t)),delete a[t]),this},handleByMap(t,e){return this.handle(t,t=>{t.name&&(e[t.name]=t.ref)},t=>{t.name&&delete e[t.name]})},handleByNamedList(t,e,i=-1){return this.handle(t,t=>{e.findIndex(e=>e.name===t.name)>=0||(e.push({name:t.name,value:t.ref}),e.sort((t,e)=>a(e.value,i)-a(t.value,i)))},t=>{const i=e.findIndex(e=>e.name===t.name);-1!==i&&e.splice(i,1)})},handleByList(t,e,i=-1){return this.handle(t,t=>{e.includes(t.ref)||(e.push(t.ref),e.sort((t,e)=>a(e,i)-a(t,i)))},t=>{const i=e.indexOf(t.ref);-1!==i&&e.splice(i,1)})},mixin(t,...e){for(const i of e)Object.defineProperties(t.prototype,Object.getOwnPropertyDescriptors(i))}}},72877:(t,e,i)=>{"use strict";i.d(e,{l:()=>a});var r=i(34856),s=i(5427);class a extends s.mc{constructor(t){super(t),this.canBundle=!0,this.allowChildren=!1,this._roundPixels=0,this._lastUsed=-1,this._gpuData=Object.create(null),this._bounds=new r.c(0,1,0,0),this._boundsDirty=!0}get bounds(){return this._boundsDirty?(this.updateBounds(),this._boundsDirty=!1,this._bounds):this._bounds}get roundPixels(){return!!this._roundPixels}set roundPixels(t){this._roundPixels=t?1:0}containsPoint(t){const e=this.bounds,{x:i,y:r}=t;return i>=e.minX&&i<=e.maxX&&r>=e.minY&&r<=e.maxY}onViewUpdate(){if(this._didViewChangeTick++,this._boundsDirty=!0,this.didViewUpdate)return;this.didViewUpdate=!0;const t=this.renderGroup||this.parentRenderGroup;t&&t.onChildViewUpdate(this)}destroy(t){super.destroy(t),this._bounds=null;for(const t in this._gpuData)this._gpuData[t].destroy?.();this._gpuData=null}collectRenderablesSimple(t,e,i){const{renderPipes:r}=e;r.blendMode.setBlendMode(this,this.groupBlendMode,t),r[this.renderPipeId].addRenderable(this,t),this.didViewUpdate=!1;const s=this.children,a=s.length;for(let r=0;r<a;r++)s[r].collectRenderables(t,e,i)}}},73260:(t,e,i)=>{"use strict";i.d(e,{n:()=>a});var r=i(4815);const s={};function a(t){let e=s[t];if(e)return e;const i=new Int32Array(t);for(let e=0;e<t;e++)i[e]=e;return e=s[t]=new r.k({uTextures:{value:i,type:"i32",size:t}},{isStatic:!0}),e}},74393:(t,e,i)=>{"use strict";i.d(e,{T:()=>r});var r=(t=>(t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High",t))(r||{})},74838:(t,e,i)=>{"use strict";i.d(e,{n:()=>l});var r=i(55698),s=i(80753),a=i(98610);const n=Object.create(null),o=class t extends r.A{constructor(e={}){super(),this._resourceType="textureSampler",this._touched=0,this._maxAnisotropy=1,this.destroyed=!1,e={...t.defaultOptions,...e},this.addressMode=e.addressMode,this.addressModeU=e.addressModeU??this.addressModeU,this.addressModeV=e.addressModeV??this.addressModeV,this.addressModeW=e.addressModeW??this.addressModeW,this.scaleMode=e.scaleMode,this.magFilter=e.magFilter??this.magFilter,this.minFilter=e.minFilter??this.minFilter,this.mipmapFilter=e.mipmapFilter??this.mipmapFilter,this.lodMinClamp=e.lodMinClamp,this.lodMaxClamp=e.lodMaxClamp,this.compare=e.compare,this.maxAnisotropy=e.maxAnisotropy??1}set addressMode(t){this.addressModeU=t,this.addressModeV=t,this.addressModeW=t}get addressMode(){return this.addressModeU}set wrapMode(t){(0,a.t6)(a.lj,"TextureStyle.wrapMode is now TextureStyle.addressMode"),this.addressMode=t}get wrapMode(){return this.addressMode}set scaleMode(t){this.magFilter=t,this.minFilter=t,this.mipmapFilter=t}get scaleMode(){return this.magFilter}set maxAnisotropy(t){this._maxAnisotropy=Math.min(t,16),this._maxAnisotropy>1&&(this.scaleMode="linear")}get maxAnisotropy(){return this._maxAnisotropy}get _resourceId(){return this._sharedResourceId||this._generateResourceId()}update(){this.emit("change",this),this._sharedResourceId=null}_generateResourceId(){const t=`${this.addressModeU}-${this.addressModeV}-${this.addressModeW}-${this.magFilter}-${this.minFilter}-${this.mipmapFilter}-${this.lodMinClamp}-${this.lodMaxClamp}-${this.compare}-${this._maxAnisotropy}`;return this._sharedResourceId=function(t){const e=n[t];return void 0===e&&(n[t]=(0,s.L)("resource")),e}(t),this._resourceId}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this.removeAllListeners()}};o.defaultOptions={addressMode:"clamp-to-edge",scaleMode:"linear"};let l=o},78221:(t,e,i)=>{"use strict";i.d(e,{b:()=>r});class r{constructor(t,e){this._pool=[],this._count=0,this._index=0,this._classType=t,e&&this.prepopulate(e)}prepopulate(t){for(let e=0;e<t;e++)this._pool[this._index++]=new this._classType;this._count+=t}get(t){let e;return e=this._index>0?this._pool[--this._index]:new this._classType,e.init?.(t),e}return(t){t.reset?.(),this._pool[this._index++]=t}get totalSize(){return this._count}get totalFree(){return this._index}get totalUsed(){return this._count-this._index}clear(){this._pool.length=0,this._index=0}}},79171:(t,e,i)=>{"use strict";i.d(e,{E:()=>d});var r=i(69325);const s=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],a=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],n=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],o=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],l=[],h=[],c=Math.sign;!function(){for(let t=0;t<16;t++){const e=[];l.push(e);for(let i=0;i<16;i++){const r=c(s[t]*s[i]+n[t]*a[i]),l=c(a[t]*s[i]+o[t]*a[i]),h=c(s[t]*n[i]+n[t]*o[i]),d=c(a[t]*n[i]+o[t]*o[i]);for(let t=0;t<16;t++)if(s[t]===r&&a[t]===l&&n[t]===h&&o[t]===d){e.push(t);break}}}for(let t=0;t<16;t++){const e=new r.u;e.set(s[t],a[t],n[t],o[t],0,0),h.push(e)}}();const d={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:t=>s[t],uY:t=>a[t],vX:t=>n[t],vY:t=>o[t],inv:t=>8&t?15&t:7&-t,add:(t,e)=>l[t][e],sub:(t,e)=>l[t][d.inv(e)],rotate180:t=>4^t,isVertical:t=>2==(3&t),byDirection:(t,e)=>2*Math.abs(t)<=Math.abs(e)?e>=0?d.S:d.N:2*Math.abs(e)<=Math.abs(t)?t>0?d.E:d.W:e>0?t>0?d.SE:d.SW:t>0?d.NE:d.NW,matrixAppendRotationInv:(t,e,i=0,r=0)=>{const s=h[d.inv(e)];s.tx=i,s.ty=r,t.append(s)},transformRectCoords:(t,e,i,r)=>{const{x:s,y:a,width:n,height:o}=t,{x:l,y:h,width:c,height:u}=e;return i===d.E?(r.set(s+l,a+h,n,o),r):i===d.S?r.set(c-a-o+l,s+h,o,n):i===d.W?r.set(c-s-n+l,u-a-o+h,n,o):i===d.N?r.set(a+l,u-s-n+h,o,n):r.set(s+l,a+h,n,o)}}},80679:(t,e,i)=>{"use strict";i.d(e,{$:()=>l});var r=i(72207),s=i(45881),a=i(33630),n=i(50619);const o=class t extends n.v{constructor(e){super(e),this.isReady=!1,this.uploadMethodId="video",e={...t.defaultOptions,...e},this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=e.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=!1!==e.autoPlay,this.alphaMode=e.alphaMode??"premultiply-alpha-on-upload",this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onCanPlayThrough=this._onCanPlayThrough.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),!1!==e.autoLoad&&this.load()}updateFrame(){if(!this.destroyed){if(this._updateFPS){const t=s.R.shared.elapsedMS*this.resource.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-t)}(!this._updateFPS||this._msToNextUpdate<=0)&&(this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0),this.isValid&&this.update()}}_videoFrameRequestCallback(){this.updateFrame(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback)}get isValid(){return!!this.resource.videoWidth&&!!this.resource.videoHeight}async load(){if(this._load)return this._load;const t=this.resource,e=this.options;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart),t.addEventListener("pause",this._onPlayStop),t.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._mediaReady():(e.preload||t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlayThrough),t.addEventListener("error",this._onError,!0)),this.alphaMode=await(0,a.C)(),this._load=new Promise((i,r)=>{this.isValid?i(this):(this._resolve=i,this._reject=r,void 0!==e.preloadTimeoutMs&&(this._preloadTimeout=setTimeout(()=>{this._onError(new ErrorEvent(`Preload exceeded timeout of ${e.preloadTimeoutMs}ms`))})),t.load())}),this._load}_onError(t){this.resource.removeEventListener("error",this._onError,!0),this.emit("error",t),this._reject&&(this._reject(t),this._reject=null,this._resolve=null)}_isSourcePlaying(){const t=this.resource;return!t.paused&&!t.ended}_isSourceReady(){return this.resource.readyState>2}_onPlayStart(){this.isValid||this._mediaReady(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0)}_onCanPlay(){this.resource.removeEventListener("canplay",this._onCanPlay),this._mediaReady()}_onCanPlayThrough(){this.resource.removeEventListener("canplaythrough",this._onCanPlay),this._preloadTimeout&&(clearTimeout(this._preloadTimeout),this._preloadTimeout=void 0),this._mediaReady()}_mediaReady(){const t=this.resource;this.isValid&&(this.isReady=!0,this.resize(t.videoWidth,t.videoHeight)),this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0,this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.resource.play()}destroy(){this._configureAutoUpdate();const t=this.resource;t&&(t.removeEventListener("play",this._onPlayStart),t.removeEventListener("pause",this._onPlayStop),t.removeEventListener("seeked",this._onSeeked),t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlayThrough),t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),super.destroy()}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(t){t!==this._updateFPS&&(this._updateFPS=t,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.resource.requestVideoFrameCallback?(this._isConnectedToTicker&&(s.R.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),null===this._videoFrameRequestCallbackHandle&&(this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback))):(null!==this._videoFrameRequestCallbackHandle&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(s.R.shared.add(this.updateFrame,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(null!==this._videoFrameRequestCallbackHandle&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(s.R.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(t){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement}};o.extension=r.Ag.TextureSource,o.defaultOptions={...n.v.defaultOptions,autoLoad:!0,autoPlay:!0,updateFPS:0,crossorigin:!0,loop:!1,muted:!0,playsinline:!0,preload:!1},o.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let l=o},80753:(t,e,i)=>{"use strict";i.d(e,{L:()=>s});const r={default:-1};function s(t="default"){return void 0===r[t]&&(r[t]=-1),++r[t]}},81213:(t,e,i)=>{"use strict";i.d(e,{M:()=>u});var r=i(89228),s=i(37632);let a;function n(){if(!a){a="mediump";const t=(0,s.W)();if(t&&t.getShaderPrecisionFormat){const e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);a=e.precision?"highp":"mediump"}}return a}const o={},l={},h={stripVersion:function(t,e){return e?t.replace("#version 300 es",""):t},ensurePrecision:function(t,e,i){const r=i?e.maxSupportedFragmentPrecision:e.maxSupportedVertexPrecision;if("precision"!==t.substring(0,9)){let s=i?e.requestedFragmentPrecision:e.requestedVertexPrecision;return"highp"===s&&"highp"!==r&&(s="mediump"),`precision ${s} float;\n${t}`}return"highp"!==r&&"precision highp"===t.substring(0,15)?t.replace("precision highp","precision mediump"):t},addProgramDefines:function(t,e,i){return e?t:i?`\n\n        #ifdef GL_ES // This checks if it is WebGL1\n        #define in varying\n        #define finalColor gl_FragColor\n        #define texture texture2D\n        #endif\n        ${t=t.replace("out vec4 finalColor;","")}\n        `:`\n\n        #ifdef GL_ES // This checks if it is WebGL1\n        #define in attribute\n        #define out varying\n        #endif\n        ${t}\n        `},setProgramName:function(t,{name:e="pixi-program"},i=!0){e=e.replace(/\s+/g,"-");const r=i?o:l;return r[e+=i?"-fragment":"-vertex"]?(r[e]++,e+=`-${r[e]}`):r[e]=1,-1!==t.indexOf("#define SHADER_NAME")?t:`#define SHADER_NAME ${e}\n${t}`},insertVersion:function(t,e){return e?`#version 300 es\n${t}`:t}},c=Object.create(null),d=class t{constructor(e){const i=-1!==(e={...t.defaultOptions,...e}).fragment.indexOf("#version 300 es"),s={stripVersion:i,ensurePrecision:{requestedFragmentPrecision:e.preferredFragmentPrecision,requestedVertexPrecision:e.preferredVertexPrecision,maxSupportedVertexPrecision:"highp",maxSupportedFragmentPrecision:n()},setProgramName:{name:e.name},addProgramDefines:i,insertVersion:i};let a=e.fragment,o=e.vertex;Object.keys(h).forEach(t=>{const e=s[t];a=h[t](a,e,!0),o=h[t](o,e,!1)}),this.fragment=a,this.vertex=o,this.transformFeedbackVaryings=e.transformFeedbackVaryings,this._key=(0,r.X)(`${this.vertex}:${this.fragment}`,"gl-program")}destroy(){this.fragment=null,this.vertex=null,this._attributeData=null,this._uniformData=null,this._uniformBlockData=null,this.transformFeedbackVaryings=null}static from(e){const i=`${e.vertex}:${e.fragment}`;return c[i]||(c[i]=new t(e)),c[i]}};d.defaultOptions={preferredVertexPrecision:"highp",preferredFragmentPrecision:"mediump"};let u=d},84018:(t,e,i)=>{"use strict";i.d(e,{J:()=>x});var r=i(72207),s=i(88270),a=i(13889),n=i(13784),o=i(56167);const l=new Float32Array(1),h=new Uint32Array(1);class c extends o.V{constructor(){const t=new a.h({data:l,label:"attribute-batch-buffer",usage:n.S.VERTEX|n.S.COPY_DST,shrinkToFit:!1});super({attributes:{aPosition:{buffer:t,format:"float32x2",stride:24,offset:0},aUV:{buffer:t,format:"float32x2",stride:24,offset:8},aColor:{buffer:t,format:"unorm8x4",stride:24,offset:16},aTextureIdAndRound:{buffer:t,format:"uint16x2",stride:24,offset:20}},indexBuffer:new a.h({data:h,label:"index-batch-buffer",usage:n.S.INDEX|n.S.COPY_DST,shrinkToFit:!1})})}}var d=i(431),u=i(51687),p=i(63356),m=i(71005),f=i(73260),g=i(23143);class b extends g.M{constructor(t){super({glProgram:(0,d.I)({name:"batch",bits:[u.a,(0,p.P)(t),m.m]}),gpuProgram:(0,d.v)({name:"batch",bits:[u.F,(0,p._)(t),m.b]}),resources:{batchSamplers:(0,f.n)(t)}})}}let y=null;const v=class t extends s.i{constructor(e){super(e),this.geometry=new c,this.name=t.extension.name,this.vertexSize=6,y??(y=new b(e.maxTextures)),this.shader=y}packAttributes(t,e,i,r,s){const a=s<<16|65535&t.roundPixels,n=t.transform,o=n.a,l=n.b,h=n.c,c=n.d,d=n.tx,u=n.ty,{positions:p,uvs:m}=t,f=t.color,g=t.attributeOffset,b=g+t.attributeSize;for(let t=g;t<b;t++){const s=2*t,n=p[s],g=p[s+1];e[r++]=o*n+h*g+d,e[r++]=c*g+l*n+u,e[r++]=m[s],e[r++]=m[s+1],i[r++]=f,i[r++]=a}}packQuadAttributes(t,e,i,r,s){const a=t.texture,n=t.transform,o=n.a,l=n.b,h=n.c,c=n.d,d=n.tx,u=n.ty,p=t.bounds,m=p.maxX,f=p.minX,g=p.maxY,b=p.minY,y=a.uvs,v=t.color,x=s<<16|65535&t.roundPixels;e[r+0]=o*f+h*b+d,e[r+1]=c*b+l*f+u,e[r+2]=y.x0,e[r+3]=y.y0,i[r+4]=v,i[r+5]=x,e[r+6]=o*m+h*b+d,e[r+7]=c*b+l*m+u,e[r+8]=y.x1,e[r+9]=y.y1,i[r+10]=v,i[r+11]=x,e[r+12]=o*m+h*g+d,e[r+13]=c*g+l*m+u,e[r+14]=y.x2,e[r+15]=y.y2,i[r+16]=v,i[r+17]=x,e[r+18]=o*f+h*g+d,e[r+19]=c*g+l*f+u,e[r+20]=y.x3,e[r+21]=y.y3,i[r+22]=v,i[r+23]=x}};v.extension={type:[r.Ag.Batcher],name:"default"};let x=v},86484:(t,e,i)=>{"use strict";i.d(e,{o:()=>o,u:()=>n});var r=i(69325),s=i(78221),a=i(34856);const n=new s.b(r.u),o=new s.b(a.c)},87576:function(t,e,i){var r;r=function(){return function(t){var e={};function i(r){if(e[r])return e[r].exports;var s=e[r]={i:r,l:!1,exports:{}};return t[r].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=t,i.c=e,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(r,s,function(e){return t[e]}.bind(null,s));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=20)}([function(t,e){var r={};t.exports=r,function(){r._baseDelta=1e3/60,r._nextId=0,r._seed=0,r._nowStartTime=+new Date,r._warnedOnce={},r._decomp=null,r.extend=function(t,e){var i,s;"boolean"==typeof e?(i=2,s=e):(i=1,s=!0);for(var a=i;a<arguments.length;a++){var n=arguments[a];if(n)for(var o in n)s&&n[o]&&n[o].constructor===Object?t[o]&&t[o].constructor!==Object?t[o]=n[o]:(t[o]=t[o]||{},r.extend(t[o],s,n[o])):t[o]=n[o]}return t},r.clone=function(t,e){return r.extend({},e,t)},r.keys=function(t){if(Object.keys)return Object.keys(t);var e=[];for(var i in t)e.push(i);return e},r.values=function(t){var e=[];if(Object.keys){for(var i=Object.keys(t),r=0;r<i.length;r++)e.push(t[i[r]]);return e}for(var s in t)e.push(t[s]);return e},r.get=function(t,e,i,r){e=e.split(".").slice(i,r);for(var s=0;s<e.length;s+=1)t=t[e[s]];return t},r.set=function(t,e,i,s,a){var n=e.split(".").slice(s,a);return r.get(t,e,0,-1)[n[n.length-1]]=i,i},r.shuffle=function(t){for(var e=t.length-1;e>0;e--){var i=Math.floor(r.random()*(e+1)),s=t[e];t[e]=t[i],t[i]=s}return t},r.choose=function(t){return t[Math.floor(r.random()*t.length)]},r.isElement=function(t){return"undefined"!=typeof HTMLElement?t instanceof HTMLElement:!!(t&&t.nodeType&&t.nodeName)},r.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)},r.isFunction=function(t){return"function"==typeof t},r.isPlainObject=function(t){return"object"==typeof t&&t.constructor===Object},r.isString=function(t){return"[object String]"===toString.call(t)},r.clamp=function(t,e,i){return t<e?e:t>i?i:t},r.sign=function(t){return t<0?-1:1},r.now=function(){if("undefined"!=typeof window&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-r._nowStartTime},r.random=function(e,i){return i=void 0!==i?i:1,(e=void 0!==e?e:0)+t()*(i-e)};var t=function(){return r._seed=(9301*r._seed+49297)%233280,r._seed/233280};r.colorToNumber=function(t){return 3==(t=t.replace("#","")).length&&(t=t.charAt(0)+t.charAt(0)+t.charAt(1)+t.charAt(1)+t.charAt(2)+t.charAt(2)),parseInt(t,16)},r.logLevel=1,r.log=function(){console&&r.logLevel>0&&r.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},r.info=function(){console&&r.logLevel>0&&r.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},r.warn=function(){console&&r.logLevel>0&&r.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},r.warnOnce=function(){var t=Array.prototype.slice.call(arguments).join(" ");r._warnedOnce[t]||(r.warn(t),r._warnedOnce[t]=!0)},r.deprecated=function(t,e,i){t[e]=r.chain(function(){r.warnOnce("🔅 deprecated 🔅",i)},t[e])},r.nextId=function(){return r._nextId++},r.indexOf=function(t,e){if(t.indexOf)return t.indexOf(e);for(var i=0;i<t.length;i++)if(t[i]===e)return i;return-1},r.map=function(t,e){if(t.map)return t.map(e);for(var i=[],r=0;r<t.length;r+=1)i.push(e(t[r]));return i},r.topologicalSort=function(t){var e=[],i=[],s=[];for(var a in t)i[a]||s[a]||r._topologicalSort(a,i,s,t,e);return e},r._topologicalSort=function(t,e,i,s,a){var n=s[t]||[];i[t]=!0;for(var o=0;o<n.length;o+=1){var l=n[o];i[l]||e[l]||r._topologicalSort(l,e,i,s,a)}i[t]=!1,e[t]=!0,a.push(t)},r.chain=function(){for(var t=[],e=0;e<arguments.length;e+=1){var i=arguments[e];i._chained?t.push.apply(t,i._chained):t.push(i)}var r=function(){for(var e,i=new Array(arguments.length),r=0,s=arguments.length;r<s;r++)i[r]=arguments[r];for(r=0;r<t.length;r+=1){var a=t[r].apply(e,i);void 0!==a&&(e=a)}return e};return r._chained=t,r},r.chainPathBefore=function(t,e,i){return r.set(t,e,r.chain(i,r.get(t,e)))},r.chainPathAfter=function(t,e,i){return r.set(t,e,r.chain(r.get(t,e),i))},r.setDecomp=function(t){r._decomp=t},r.getDecomp=function(){var t=r._decomp;try{t||"undefined"==typeof window||(t=window.decomp),t||void 0===i.g||(t=i.g.decomp)}catch(e){t=null}return t}}()},function(t,e){var i={};t.exports=i,i.create=function(t){var e={min:{x:0,y:0},max:{x:0,y:0}};return t&&i.update(e,t),e},i.update=function(t,e,i){t.min.x=1/0,t.max.x=-1/0,t.min.y=1/0,t.max.y=-1/0;for(var r=0;r<e.length;r++){var s=e[r];s.x>t.max.x&&(t.max.x=s.x),s.x<t.min.x&&(t.min.x=s.x),s.y>t.max.y&&(t.max.y=s.y),s.y<t.min.y&&(t.min.y=s.y)}i&&(i.x>0?t.max.x+=i.x:t.min.x+=i.x,i.y>0?t.max.y+=i.y:t.min.y+=i.y)},i.contains=function(t,e){return e.x>=t.min.x&&e.x<=t.max.x&&e.y>=t.min.y&&e.y<=t.max.y},i.overlaps=function(t,e){return t.min.x<=e.max.x&&t.max.x>=e.min.x&&t.max.y>=e.min.y&&t.min.y<=e.max.y},i.translate=function(t,e){t.min.x+=e.x,t.max.x+=e.x,t.min.y+=e.y,t.max.y+=e.y},i.shift=function(t,e){var i=t.max.x-t.min.x,r=t.max.y-t.min.y;t.min.x=e.x,t.max.x=e.x+i,t.min.y=e.y,t.max.y=e.y+r}},function(t,e){var i={};t.exports=i,i.create=function(t,e){return{x:t||0,y:e||0}},i.clone=function(t){return{x:t.x,y:t.y}},i.magnitude=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},i.magnitudeSquared=function(t){return t.x*t.x+t.y*t.y},i.rotate=function(t,e,i){var r=Math.cos(e),s=Math.sin(e);i||(i={});var a=t.x*r-t.y*s;return i.y=t.x*s+t.y*r,i.x=a,i},i.rotateAbout=function(t,e,i,r){var s=Math.cos(e),a=Math.sin(e);r||(r={});var n=i.x+((t.x-i.x)*s-(t.y-i.y)*a);return r.y=i.y+((t.x-i.x)*a+(t.y-i.y)*s),r.x=n,r},i.normalise=function(t){var e=i.magnitude(t);return 0===e?{x:0,y:0}:{x:t.x/e,y:t.y/e}},i.dot=function(t,e){return t.x*e.x+t.y*e.y},i.cross=function(t,e){return t.x*e.y-t.y*e.x},i.cross3=function(t,e,i){return(e.x-t.x)*(i.y-t.y)-(e.y-t.y)*(i.x-t.x)},i.add=function(t,e,i){return i||(i={}),i.x=t.x+e.x,i.y=t.y+e.y,i},i.sub=function(t,e,i){return i||(i={}),i.x=t.x-e.x,i.y=t.y-e.y,i},i.mult=function(t,e){return{x:t.x*e,y:t.y*e}},i.div=function(t,e){return{x:t.x/e,y:t.y/e}},i.perp=function(t,e){return{x:(e=!0===e?-1:1)*-t.y,y:e*t.x}},i.neg=function(t){return{x:-t.x,y:-t.y}},i.angle=function(t,e){return Math.atan2(e.y-t.y,e.x-t.x)},i._temp=[i.create(),i.create(),i.create(),i.create(),i.create(),i.create()]},function(t,e,i){var r={};t.exports=r;var s=i(2),a=i(0);r.create=function(t,e){for(var i=[],r=0;r<t.length;r++){var s=t[r],a={x:s.x,y:s.y,index:r,body:e,isInternal:!1};i.push(a)}return i},r.fromPath=function(t,e){var i=[];return t.replace(/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/gi,function(t,e,r){i.push({x:parseFloat(e),y:parseFloat(r)})}),r.create(i,e)},r.centre=function(t){for(var e,i,a,n=r.area(t,!0),o={x:0,y:0},l=0;l<t.length;l++)a=(l+1)%t.length,e=s.cross(t[l],t[a]),i=s.mult(s.add(t[l],t[a]),e),o=s.add(o,i);return s.div(o,6*n)},r.mean=function(t){for(var e={x:0,y:0},i=0;i<t.length;i++)e.x+=t[i].x,e.y+=t[i].y;return s.div(e,t.length)},r.area=function(t,e){for(var i=0,r=t.length-1,s=0;s<t.length;s++)i+=(t[r].x-t[s].x)*(t[r].y+t[s].y),r=s;return e?i/2:Math.abs(i)/2},r.inertia=function(t,e){for(var i,r,a=0,n=0,o=t,l=0;l<o.length;l++)r=(l+1)%o.length,a+=(i=Math.abs(s.cross(o[r],o[l])))*(s.dot(o[r],o[r])+s.dot(o[r],o[l])+s.dot(o[l],o[l])),n+=i;return e/6*(a/n)},r.translate=function(t,e,i){i=void 0!==i?i:1;var r,s=t.length,a=e.x*i,n=e.y*i;for(r=0;r<s;r++)t[r].x+=a,t[r].y+=n;return t},r.rotate=function(t,e,i){if(0!==e){var r,s,a,n,o=Math.cos(e),l=Math.sin(e),h=i.x,c=i.y,d=t.length;for(n=0;n<d;n++)s=(r=t[n]).x-h,a=r.y-c,r.x=h+(s*o-a*l),r.y=c+(s*l+a*o);return t}},r.contains=function(t,e){for(var i,r=e.x,s=e.y,a=t.length,n=t[a-1],o=0;o<a;o++){if(i=t[o],(r-n.x)*(i.y-n.y)+(s-n.y)*(n.x-i.x)>0)return!1;n=i}return!0},r.scale=function(t,e,i,a){if(1===e&&1===i)return t;var n,o;a=a||r.centre(t);for(var l=0;l<t.length;l++)n=t[l],o=s.sub(n,a),t[l].x=a.x+o.x*e,t[l].y=a.y+o.y*i;return t},r.chamfer=function(t,e,i,r,n){e="number"==typeof e?[e]:e||[8],i=void 0!==i?i:-1,r=r||2,n=n||14;for(var o=[],l=0;l<t.length;l++){var h=t[l-1>=0?l-1:t.length-1],c=t[l],d=t[(l+1)%t.length],u=e[l<e.length?l:e.length-1];if(0!==u){var p=s.normalise({x:c.y-h.y,y:h.x-c.x}),m=s.normalise({x:d.y-c.y,y:c.x-d.x}),f=Math.sqrt(2*Math.pow(u,2)),g=s.mult(a.clone(p),u),b=s.normalise(s.mult(s.add(p,m),.5)),y=s.sub(c,s.mult(b,f)),v=i;-1===i&&(v=1.75*Math.pow(u,.32)),(v=a.clamp(v,r,n))%2==1&&(v+=1);for(var x=Math.acos(s.dot(p,m))/v,w=0;w<v;w++)o.push(s.add(s.rotate(g,x*w),y))}else o.push(c)}return o},r.clockwiseSort=function(t){var e=r.mean(t);return t.sort(function(t,i){return s.angle(e,t)-s.angle(e,i)}),t},r.isConvex=function(t){var e,i,r,s,a=0,n=t.length;if(n<3)return null;for(e=0;e<n;e++)if(r=(e+2)%n,s=(t[i=(e+1)%n].x-t[e].x)*(t[r].y-t[i].y),(s-=(t[i].y-t[e].y)*(t[r].x-t[i].x))<0?a|=1:s>0&&(a|=2),3===a)return!1;return 0!==a||null},r.hull=function(t){var e,i,r=[],a=[];for((t=t.slice(0)).sort(function(t,e){var i=t.x-e.x;return 0!==i?i:t.y-e.y}),i=0;i<t.length;i+=1){for(e=t[i];a.length>=2&&s.cross3(a[a.length-2],a[a.length-1],e)<=0;)a.pop();a.push(e)}for(i=t.length-1;i>=0;i-=1){for(e=t[i];r.length>=2&&s.cross3(r[r.length-2],r[r.length-1],e)<=0;)r.pop();r.push(e)}return r.pop(),a.pop(),r.concat(a)}},function(t,e,i){var r={};t.exports=r;var s=i(3),a=i(2),n=i(7),o=i(0),l=i(1),h=i(11);!function(){r._timeCorrection=!0,r._inertiaScale=4,r._nextCollidingGroupId=1,r._nextNonCollidingGroupId=-1,r._nextCategory=1,r._baseDelta=1e3/60,r.create=function(e){var i={id:o.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:s.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,strokeStyle:null,fillStyle:null,lineWidth:null,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0}},events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inertia:0,deltaTime:1e3/60,_original:null},r=o.extend(i,e);return t(r,e),r},r.nextGroup=function(t){return t?r._nextNonCollidingGroupId--:r._nextCollidingGroupId++},r.nextCategory=function(){return r._nextCategory=r._nextCategory<<1,r._nextCategory};var t=function(t,e){e=e||{},r.set(t,{bounds:t.bounds||l.create(t.vertices),positionPrev:t.positionPrev||a.clone(t.position),anglePrev:t.anglePrev||t.angle,vertices:t.vertices,parts:t.parts||[t],isStatic:t.isStatic,isSleeping:t.isSleeping,parent:t.parent||t}),s.rotate(t.vertices,t.angle,t.position),h.rotate(t.axes,t.angle),l.update(t.bounds,t.vertices,t.velocity),r.set(t,{axes:e.axes||t.axes,area:e.area||t.area,mass:e.mass||t.mass,inertia:e.inertia||t.inertia});var i=t.isStatic?"#14151f":o.choose(["#f19648","#f5d259","#f55a3c","#063e7b","#ececd1"]),n=t.isStatic?"#555":"#ccc",c=t.isStatic&&null===t.render.fillStyle?1:0;t.render.fillStyle=t.render.fillStyle||i,t.render.strokeStyle=t.render.strokeStyle||n,t.render.lineWidth=t.render.lineWidth||c,t.render.sprite.xOffset+=-(t.bounds.min.x-t.position.x)/(t.bounds.max.x-t.bounds.min.x),t.render.sprite.yOffset+=-(t.bounds.min.y-t.position.y)/(t.bounds.max.y-t.bounds.min.y)};r.set=function(t,e,i){var s;for(s in"string"==typeof e&&(s=e,(e={})[s]=i),e)if(Object.prototype.hasOwnProperty.call(e,s))switch(i=e[s],s){case"isStatic":r.setStatic(t,i);break;case"isSleeping":n.set(t,i);break;case"mass":r.setMass(t,i);break;case"density":r.setDensity(t,i);break;case"inertia":r.setInertia(t,i);break;case"vertices":r.setVertices(t,i);break;case"position":r.setPosition(t,i);break;case"angle":r.setAngle(t,i);break;case"velocity":r.setVelocity(t,i);break;case"angularVelocity":r.setAngularVelocity(t,i);break;case"speed":r.setSpeed(t,i);break;case"angularSpeed":r.setAngularSpeed(t,i);break;case"parts":r.setParts(t,i);break;case"centre":r.setCentre(t,i);break;default:t[s]=i}},r.setStatic=function(t,e){for(var i=0;i<t.parts.length;i++){var r=t.parts[i];e?(r.isStatic||(r._original={restitution:r.restitution,friction:r.friction,mass:r.mass,inertia:r.inertia,density:r.density,inverseMass:r.inverseMass,inverseInertia:r.inverseInertia}),r.restitution=0,r.friction=1,r.mass=r.inertia=r.density=1/0,r.inverseMass=r.inverseInertia=0,r.positionPrev.x=r.position.x,r.positionPrev.y=r.position.y,r.anglePrev=r.angle,r.angularVelocity=0,r.speed=0,r.angularSpeed=0,r.motion=0):r._original&&(r.restitution=r._original.restitution,r.friction=r._original.friction,r.mass=r._original.mass,r.inertia=r._original.inertia,r.density=r._original.density,r.inverseMass=r._original.inverseMass,r.inverseInertia=r._original.inverseInertia,r._original=null),r.isStatic=e}},r.setMass=function(t,e){var i=t.inertia/(t.mass/6);t.inertia=i*(e/6),t.inverseInertia=1/t.inertia,t.mass=e,t.inverseMass=1/t.mass,t.density=t.mass/t.area},r.setDensity=function(t,e){r.setMass(t,e*t.area),t.density=e},r.setInertia=function(t,e){t.inertia=e,t.inverseInertia=1/t.inertia},r.setVertices=function(t,e){e[0].body===t?t.vertices=e:t.vertices=s.create(e,t),t.axes=h.fromVertices(t.vertices),t.area=s.area(t.vertices),r.setMass(t,t.density*t.area);var i=s.centre(t.vertices);s.translate(t.vertices,i,-1),r.setInertia(t,r._inertiaScale*s.inertia(t.vertices,t.mass)),s.translate(t.vertices,t.position),l.update(t.bounds,t.vertices,t.velocity)},r.setParts=function(t,e,i){var a;for(e=e.slice(0),t.parts.length=0,t.parts.push(t),t.parent=t,a=0;a<e.length;a++){var n=e[a];n!==t&&(n.parent=t,t.parts.push(n))}if(1!==t.parts.length){if(i=void 0===i||i){var o=[];for(a=0;a<e.length;a++)o=o.concat(e[a].vertices);s.clockwiseSort(o);var l=s.hull(o),h=s.centre(l);r.setVertices(t,l),s.translate(t.vertices,h)}var c=r._totalProperties(t);t.area=c.area,t.parent=t,t.position.x=c.centre.x,t.position.y=c.centre.y,t.positionPrev.x=c.centre.x,t.positionPrev.y=c.centre.y,r.setMass(t,c.mass),r.setInertia(t,c.inertia),r.setPosition(t,c.centre)}},r.setCentre=function(t,e,i){i?(t.positionPrev.x+=e.x,t.positionPrev.y+=e.y,t.position.x+=e.x,t.position.y+=e.y):(t.positionPrev.x=e.x-(t.position.x-t.positionPrev.x),t.positionPrev.y=e.y-(t.position.y-t.positionPrev.y),t.position.x=e.x,t.position.y=e.y)},r.setPosition=function(t,e,i){var r=a.sub(e,t.position);i?(t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.velocity.x=r.x,t.velocity.y=r.y,t.speed=a.magnitude(r)):(t.positionPrev.x+=r.x,t.positionPrev.y+=r.y);for(var n=0;n<t.parts.length;n++){var o=t.parts[n];o.position.x+=r.x,o.position.y+=r.y,s.translate(o.vertices,r),l.update(o.bounds,o.vertices,t.velocity)}},r.setAngle=function(t,e,i){var r=e-t.angle;i?(t.anglePrev=t.angle,t.angularVelocity=r,t.angularSpeed=Math.abs(r)):t.anglePrev+=r;for(var n=0;n<t.parts.length;n++){var o=t.parts[n];o.angle+=r,s.rotate(o.vertices,r,t.position),h.rotate(o.axes,r),l.update(o.bounds,o.vertices,t.velocity),n>0&&a.rotateAbout(o.position,r,t.position,o.position)}},r.setVelocity=function(t,e){var i=t.deltaTime/r._baseDelta;t.positionPrev.x=t.position.x-e.x*i,t.positionPrev.y=t.position.y-e.y*i,t.velocity.x=(t.position.x-t.positionPrev.x)/i,t.velocity.y=(t.position.y-t.positionPrev.y)/i,t.speed=a.magnitude(t.velocity)},r.getVelocity=function(t){var e=r._baseDelta/t.deltaTime;return{x:(t.position.x-t.positionPrev.x)*e,y:(t.position.y-t.positionPrev.y)*e}},r.getSpeed=function(t){return a.magnitude(r.getVelocity(t))},r.setSpeed=function(t,e){r.setVelocity(t,a.mult(a.normalise(r.getVelocity(t)),e))},r.setAngularVelocity=function(t,e){var i=t.deltaTime/r._baseDelta;t.anglePrev=t.angle-e*i,t.angularVelocity=(t.angle-t.anglePrev)/i,t.angularSpeed=Math.abs(t.angularVelocity)},r.getAngularVelocity=function(t){return(t.angle-t.anglePrev)*r._baseDelta/t.deltaTime},r.getAngularSpeed=function(t){return Math.abs(r.getAngularVelocity(t))},r.setAngularSpeed=function(t,e){r.setAngularVelocity(t,o.sign(r.getAngularVelocity(t))*e)},r.translate=function(t,e,i){r.setPosition(t,a.add(t.position,e),i)},r.rotate=function(t,e,i,s){if(i){var a=Math.cos(e),n=Math.sin(e),o=t.position.x-i.x,l=t.position.y-i.y;r.setPosition(t,{x:i.x+(o*a-l*n),y:i.y+(o*n+l*a)},s),r.setAngle(t,t.angle+e,s)}else r.setAngle(t,t.angle+e,s)},r.scale=function(t,e,i,a){var n=0,o=0;a=a||t.position;for(var c=0;c<t.parts.length;c++){var d=t.parts[c];s.scale(d.vertices,e,i,a),d.axes=h.fromVertices(d.vertices),d.area=s.area(d.vertices),r.setMass(d,t.density*d.area),s.translate(d.vertices,{x:-d.position.x,y:-d.position.y}),r.setInertia(d,r._inertiaScale*s.inertia(d.vertices,d.mass)),s.translate(d.vertices,{x:d.position.x,y:d.position.y}),c>0&&(n+=d.area,o+=d.inertia),d.position.x=a.x+(d.position.x-a.x)*e,d.position.y=a.y+(d.position.y-a.y)*i,l.update(d.bounds,d.vertices,t.velocity)}t.parts.length>1&&(t.area=n,t.isStatic||(r.setMass(t,t.density*n),r.setInertia(t,o))),t.circleRadius&&(e===i?t.circleRadius*=e:t.circleRadius=null)},r.update=function(t,e){var i=(e=(void 0!==e?e:1e3/60)*t.timeScale)*e,n=r._timeCorrection?e/(t.deltaTime||e):1,c=1-t.frictionAir*(e/o._baseDelta),d=(t.position.x-t.positionPrev.x)*n,u=(t.position.y-t.positionPrev.y)*n;t.velocity.x=d*c+t.force.x/t.mass*i,t.velocity.y=u*c+t.force.y/t.mass*i,t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.position.x+=t.velocity.x,t.position.y+=t.velocity.y,t.deltaTime=e,t.angularVelocity=(t.angle-t.anglePrev)*c*n+t.torque/t.inertia*i,t.anglePrev=t.angle,t.angle+=t.angularVelocity;for(var p=0;p<t.parts.length;p++){var m=t.parts[p];s.translate(m.vertices,t.velocity),p>0&&(m.position.x+=t.velocity.x,m.position.y+=t.velocity.y),0!==t.angularVelocity&&(s.rotate(m.vertices,t.angularVelocity,t.position),h.rotate(m.axes,t.angularVelocity),p>0&&a.rotateAbout(m.position,t.angularVelocity,t.position,m.position)),l.update(m.bounds,m.vertices,t.velocity)}},r.updateVelocities=function(t){var e=r._baseDelta/t.deltaTime,i=t.velocity;i.x=(t.position.x-t.positionPrev.x)*e,i.y=(t.position.y-t.positionPrev.y)*e,t.speed=Math.sqrt(i.x*i.x+i.y*i.y),t.angularVelocity=(t.angle-t.anglePrev)*e,t.angularSpeed=Math.abs(t.angularVelocity)},r.applyForce=function(t,e,i){var r=e.x-t.position.x,s=e.y-t.position.y;t.force.x+=i.x,t.force.y+=i.y,t.torque+=r*i.y-s*i.x},r._totalProperties=function(t){for(var e={mass:0,area:0,inertia:0,centre:{x:0,y:0}},i=1===t.parts.length?0:1;i<t.parts.length;i++){var r=t.parts[i],s=r.mass!==1/0?r.mass:1;e.mass+=s,e.area+=r.area,e.inertia+=r.inertia,e.centre=a.add(e.centre,a.mult(r.position,s))}return e.centre=a.div(e.centre,e.mass),e}}()},function(t,e,i){var r={};t.exports=r;var s=i(0);r.on=function(t,e,i){for(var r,s=e.split(" "),a=0;a<s.length;a++)r=s[a],t.events=t.events||{},t.events[r]=t.events[r]||[],t.events[r].push(i);return i},r.off=function(t,e,i){if(e){"function"==typeof e&&(i=e,e=s.keys(t.events).join(" "));for(var r=e.split(" "),a=0;a<r.length;a++){var n=t.events[r[a]],o=[];if(i&&n)for(var l=0;l<n.length;l++)n[l]!==i&&o.push(n[l]);t.events[r[a]]=o}}else t.events={}},r.trigger=function(t,e,i){var r,a,n,o,l=t.events;if(l&&s.keys(l).length>0){i||(i={}),r=e.split(" ");for(var h=0;h<r.length;h++)if(n=l[a=r[h]]){(o=s.clone(i,!1)).name=a,o.source=t;for(var c=0;c<n.length;c++)n[c].apply(t,[o])}}}},function(t,e,i){var r={};t.exports=r;var s=i(5),a=i(0),n=i(1),o=i(4);r.create=function(t){return a.extend({id:a.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},t)},r.setModified=function(t,e,i,s){if(t.isModified=e,e&&t.cache&&(t.cache.allBodies=null,t.cache.allConstraints=null,t.cache.allComposites=null),i&&t.parent&&r.setModified(t.parent,e,i,s),s)for(var a=0;a<t.composites.length;a++){var n=t.composites[a];r.setModified(n,e,i,s)}},r.add=function(t,e){var i=[].concat(e);s.trigger(t,"beforeAdd",{object:e});for(var n=0;n<i.length;n++){var o=i[n];switch(o.type){case"body":if(o.parent!==o){a.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}r.addBody(t,o);break;case"constraint":r.addConstraint(t,o);break;case"composite":r.addComposite(t,o);break;case"mouseConstraint":r.addConstraint(t,o.constraint)}}return s.trigger(t,"afterAdd",{object:e}),t},r.remove=function(t,e,i){var a=[].concat(e);s.trigger(t,"beforeRemove",{object:e});for(var n=0;n<a.length;n++){var o=a[n];switch(o.type){case"body":r.removeBody(t,o,i);break;case"constraint":r.removeConstraint(t,o,i);break;case"composite":r.removeComposite(t,o,i);break;case"mouseConstraint":r.removeConstraint(t,o.constraint)}}return s.trigger(t,"afterRemove",{object:e}),t},r.addComposite=function(t,e){return t.composites.push(e),e.parent=t,r.setModified(t,!0,!0,!1),t},r.removeComposite=function(t,e,i){var s=a.indexOf(t.composites,e);if(-1!==s){var n=r.allBodies(e);r.removeCompositeAt(t,s);for(var o=0;o<n.length;o++)n[o].sleepCounter=0}if(i)for(o=0;o<t.composites.length;o++)r.removeComposite(t.composites[o],e,!0);return t},r.removeCompositeAt=function(t,e){return t.composites.splice(e,1),r.setModified(t,!0,!0,!1),t},r.addBody=function(t,e){return t.bodies.push(e),r.setModified(t,!0,!0,!1),t},r.removeBody=function(t,e,i){var s=a.indexOf(t.bodies,e);if(-1!==s&&(r.removeBodyAt(t,s),e.sleepCounter=0),i)for(var n=0;n<t.composites.length;n++)r.removeBody(t.composites[n],e,!0);return t},r.removeBodyAt=function(t,e){return t.bodies.splice(e,1),r.setModified(t,!0,!0,!1),t},r.addConstraint=function(t,e){return t.constraints.push(e),r.setModified(t,!0,!0,!1),t},r.removeConstraint=function(t,e,i){var s=a.indexOf(t.constraints,e);if(-1!==s&&r.removeConstraintAt(t,s),i)for(var n=0;n<t.composites.length;n++)r.removeConstraint(t.composites[n],e,!0);return t},r.removeConstraintAt=function(t,e){return t.constraints.splice(e,1),r.setModified(t,!0,!0,!1),t},r.clear=function(t,e,i){if(i)for(var s=0;s<t.composites.length;s++)r.clear(t.composites[s],e,!0);return e?t.bodies=t.bodies.filter(function(t){return t.isStatic}):t.bodies.length=0,t.constraints.length=0,t.composites.length=0,r.setModified(t,!0,!0,!1),t},r.allBodies=function(t){if(t.cache&&t.cache.allBodies)return t.cache.allBodies;for(var e=[].concat(t.bodies),i=0;i<t.composites.length;i++)e=e.concat(r.allBodies(t.composites[i]));return t.cache&&(t.cache.allBodies=e),e},r.allConstraints=function(t){if(t.cache&&t.cache.allConstraints)return t.cache.allConstraints;for(var e=[].concat(t.constraints),i=0;i<t.composites.length;i++)e=e.concat(r.allConstraints(t.composites[i]));return t.cache&&(t.cache.allConstraints=e),e},r.allComposites=function(t){if(t.cache&&t.cache.allComposites)return t.cache.allComposites;for(var e=[].concat(t.composites),i=0;i<t.composites.length;i++)e=e.concat(r.allComposites(t.composites[i]));return t.cache&&(t.cache.allComposites=e),e},r.get=function(t,e,i){var s,a;switch(i){case"body":s=r.allBodies(t);break;case"constraint":s=r.allConstraints(t);break;case"composite":s=r.allComposites(t).concat(t)}return s?0===(a=s.filter(function(t){return t.id.toString()===e.toString()})).length?null:a[0]:null},r.move=function(t,e,i){return r.remove(t,e),r.add(i,e),t},r.rebase=function(t){for(var e=r.allBodies(t).concat(r.allConstraints(t)).concat(r.allComposites(t)),i=0;i<e.length;i++)e[i].id=a.nextId();return t},r.translate=function(t,e,i){for(var s=i?r.allBodies(t):t.bodies,a=0;a<s.length;a++)o.translate(s[a],e);return t},r.rotate=function(t,e,i,s){for(var a=Math.cos(e),n=Math.sin(e),l=s?r.allBodies(t):t.bodies,h=0;h<l.length;h++){var c=l[h],d=c.position.x-i.x,u=c.position.y-i.y;o.setPosition(c,{x:i.x+(d*a-u*n),y:i.y+(d*n+u*a)}),o.rotate(c,e)}return t},r.scale=function(t,e,i,s,a){for(var n=a?r.allBodies(t):t.bodies,l=0;l<n.length;l++){var h=n[l],c=h.position.x-s.x,d=h.position.y-s.y;o.setPosition(h,{x:s.x+c*e,y:s.y+d*i}),o.scale(h,e,i)}return t},r.bounds=function(t){for(var e=r.allBodies(t),i=[],s=0;s<e.length;s+=1){var a=e[s];i.push(a.bounds.min,a.bounds.max)}return n.create(i)}},function(t,e,i){var r={};t.exports=r;var s=i(4),a=i(5),n=i(0);r._motionWakeThreshold=.18,r._motionSleepThreshold=.08,r._minBias=.9,r.update=function(t,e){for(var i=e/n._baseDelta,a=r._motionSleepThreshold,o=0;o<t.length;o++){var l=t[o],h=s.getSpeed(l),c=s.getAngularSpeed(l),d=h*h+c*c;if(0===l.force.x&&0===l.force.y){var u=Math.min(l.motion,d),p=Math.max(l.motion,d);l.motion=r._minBias*u+(1-r._minBias)*p,l.sleepThreshold>0&&l.motion<a?(l.sleepCounter+=1,l.sleepCounter>=l.sleepThreshold/i&&r.set(l,!0)):l.sleepCounter>0&&(l.sleepCounter-=1)}else r.set(l,!1)}},r.afterCollisions=function(t){for(var e=r._motionSleepThreshold,i=0;i<t.length;i++){var s=t[i];if(s.isActive){var a=s.collision,n=a.bodyA.parent,o=a.bodyB.parent;if(!(n.isSleeping&&o.isSleeping||n.isStatic||o.isStatic)&&(n.isSleeping||o.isSleeping)){var l=n.isSleeping&&!n.isStatic?n:o,h=l===n?o:n;!l.isStatic&&h.motion>e&&r.set(l,!1)}}}},r.set=function(t,e){var i=t.isSleeping;e?(t.isSleeping=!0,t.sleepCounter=t.sleepThreshold,t.positionImpulse.x=0,t.positionImpulse.y=0,t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.anglePrev=t.angle,t.speed=0,t.angularSpeed=0,t.motion=0,i||a.trigger(t,"sleepStart")):(t.isSleeping=!1,t.sleepCounter=0,i&&a.trigger(t,"sleepEnd"))}},function(t,e,i){var r={};t.exports=r;var s,a,n,o=i(3),l=i(9);s=[],a={overlap:0,axis:null},n={overlap:0,axis:null},r.create=function(t,e){return{pair:null,collided:!1,bodyA:t,bodyB:e,parentA:t.parent,parentB:e.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[null,null],supportCount:0}},r.collides=function(t,e,i){if(r._overlapAxes(a,t.vertices,e.vertices,t.axes),a.overlap<=0)return null;if(r._overlapAxes(n,e.vertices,t.vertices,e.axes),n.overlap<=0)return null;var s,h,c=i&&i.table[l.id(t,e)];c?s=c.collision:((s=r.create(t,e)).collided=!0,s.bodyA=t.id<e.id?t:e,s.bodyB=t.id<e.id?e:t,s.parentA=s.bodyA.parent,s.parentB=s.bodyB.parent),t=s.bodyA,e=s.bodyB,h=a.overlap<n.overlap?a:n;var d=s.normal,u=s.tangent,p=s.penetration,m=s.supports,f=h.overlap,g=h.axis,b=g.x,y=g.y;b*(e.position.x-t.position.x)+y*(e.position.y-t.position.y)>=0&&(b=-b,y=-y),d.x=b,d.y=y,u.x=-y,u.y=b,p.x=b*f,p.y=y*f,s.depth=f;var v=r._findSupports(t,e,d,1),x=0;if(o.contains(t.vertices,v[0])&&(m[x++]=v[0]),o.contains(t.vertices,v[1])&&(m[x++]=v[1]),x<2){var w=r._findSupports(e,t,d,-1);o.contains(e.vertices,w[0])&&(m[x++]=w[0]),x<2&&o.contains(e.vertices,w[1])&&(m[x++]=w[1])}return 0===x&&(m[x++]=v[0]),s.supportCount=x,s},r._overlapAxes=function(t,e,i,r){var s,a,n,o,l,h,c=e.length,d=i.length,u=e[0].x,p=e[0].y,m=i[0].x,f=i[0].y,g=r.length,b=Number.MAX_VALUE,y=0;for(l=0;l<g;l++){var v=r[l],x=v.x,w=v.y,_=u*x+p*w,k=m*x+f*w,S=_,C=k;for(h=1;h<c;h+=1)(o=e[h].x*x+e[h].y*w)>S?S=o:o<_&&(_=o);for(h=1;h<d;h+=1)(o=i[h].x*x+i[h].y*w)>C?C=o:o<k&&(k=o);if((s=(a=S-k)<(n=C-_)?a:n)<b&&(b=s,y=l,s<=0))break}t.axis=r[y],t.overlap=b},r._findSupports=function(t,e,i,r){var a,n,o,l=e.vertices,h=l.length,c=t.position.x,d=t.position.y,u=i.x*r,p=i.y*r,m=l[0],f=m,g=u*(c-f.x)+p*(d-f.y);for(o=1;o<h;o+=1)(n=u*(c-(f=l[o]).x)+p*(d-f.y))<g&&(g=n,m=f);return g=u*(c-(a=l[(h+m.index-1)%h]).x)+p*(d-a.y),u*(c-(f=l[(m.index+1)%h]).x)+p*(d-f.y)<g?(s[0]=m,s[1]=f,s):(s[0]=m,s[1]=a,s)}},function(t,e,i){var r={};t.exports=r;var s=i(16);r.create=function(t,e){var i=t.bodyA,a=t.bodyB,n={id:r.id(i,a),bodyA:i,bodyB:a,collision:t,contacts:[s.create(),s.create()],contactCount:0,separation:0,isActive:!0,isSensor:i.isSensor||a.isSensor,timeCreated:e,timeUpdated:e,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return r.update(n,t,e),n},r.update=function(t,e,i){var r=e.supports,s=e.supportCount,a=t.contacts,n=e.parentA,o=e.parentB;t.isActive=!0,t.timeUpdated=i,t.collision=e,t.separation=e.depth,t.inverseMass=n.inverseMass+o.inverseMass,t.friction=n.friction<o.friction?n.friction:o.friction,t.frictionStatic=n.frictionStatic>o.frictionStatic?n.frictionStatic:o.frictionStatic,t.restitution=n.restitution>o.restitution?n.restitution:o.restitution,t.slop=n.slop>o.slop?n.slop:o.slop,t.contactCount=s,e.pair=t;var l=r[0],h=a[0],c=r[1],d=a[1];d.vertex!==l&&h.vertex!==c||(a[1]=h,a[0]=h=d,d=a[1]),h.vertex=l,d.vertex=c},r.setActive=function(t,e,i){e?(t.isActive=!0,t.timeUpdated=i):(t.isActive=!1,t.contactCount=0)},r.id=function(t,e){return t.id<e.id?t.id.toString(36)+":"+e.id.toString(36):e.id.toString(36)+":"+t.id.toString(36)}},function(t,e,i){var r={};t.exports=r;var s=i(3),a=i(2),n=i(7),o=i(1),l=i(11),h=i(0);r._warming=.4,r._torqueDampen=1,r._minLength=1e-6,r.create=function(t){var e=t;e.bodyA&&!e.pointA&&(e.pointA={x:0,y:0}),e.bodyB&&!e.pointB&&(e.pointB={x:0,y:0});var i=e.bodyA?a.add(e.bodyA.position,e.pointA):e.pointA,r=e.bodyB?a.add(e.bodyB.position,e.pointB):e.pointB,s=a.magnitude(a.sub(i,r));e.length=void 0!==e.length?e.length:s,e.id=e.id||h.nextId(),e.label=e.label||"Constraint",e.type="constraint",e.stiffness=e.stiffness||(e.length>0?1:.7),e.damping=e.damping||0,e.angularStiffness=e.angularStiffness||0,e.angleA=e.bodyA?e.bodyA.angle:e.angleA,e.angleB=e.bodyB?e.bodyB.angle:e.angleB,e.plugin={};var n={visible:!0,lineWidth:2,strokeStyle:"#ffffff",type:"line",anchors:!0};return 0===e.length&&e.stiffness>.1?(n.type="pin",n.anchors=!1):e.stiffness<.9&&(n.type="spring"),e.render=h.extend(n,e.render),e},r.preSolveAll=function(t){for(var e=0;e<t.length;e+=1){var i=t[e],r=i.constraintImpulse;i.isStatic||0===r.x&&0===r.y&&0===r.angle||(i.position.x+=r.x,i.position.y+=r.y,i.angle+=r.angle)}},r.solveAll=function(t,e){for(var i=h.clamp(e/h._baseDelta,0,1),s=0;s<t.length;s+=1){var a=t[s],n=!a.bodyA||a.bodyA&&a.bodyA.isStatic,o=!a.bodyB||a.bodyB&&a.bodyB.isStatic;(n||o)&&r.solve(t[s],i)}for(s=0;s<t.length;s+=1)n=!(a=t[s]).bodyA||a.bodyA&&a.bodyA.isStatic,o=!a.bodyB||a.bodyB&&a.bodyB.isStatic,n||o||r.solve(t[s],i)},r.solve=function(t,e){var i=t.bodyA,s=t.bodyB,n=t.pointA,o=t.pointB;if(i||s){i&&!i.isStatic&&(a.rotate(n,i.angle-t.angleA,n),t.angleA=i.angle),s&&!s.isStatic&&(a.rotate(o,s.angle-t.angleB,o),t.angleB=s.angle);var l=n,h=o;if(i&&(l=a.add(i.position,n)),s&&(h=a.add(s.position,o)),l&&h){var c=a.sub(l,h),d=a.magnitude(c);d<r._minLength&&(d=r._minLength);var u,p,m,f,g,b=(d-t.length)/d,y=t.stiffness>=1||0===t.length?t.stiffness*e:t.stiffness*e*e,v=t.damping*e,x=a.mult(c,b*y),w=(i?i.inverseMass:0)+(s?s.inverseMass:0),_=w+((i?i.inverseInertia:0)+(s?s.inverseInertia:0));if(v>0){var k=a.create();m=a.div(c,d),g=a.sub(s&&a.sub(s.position,s.positionPrev)||k,i&&a.sub(i.position,i.positionPrev)||k),f=a.dot(m,g)}i&&!i.isStatic&&(p=i.inverseMass/w,i.constraintImpulse.x-=x.x*p,i.constraintImpulse.y-=x.y*p,i.position.x-=x.x*p,i.position.y-=x.y*p,v>0&&(i.positionPrev.x-=v*m.x*f*p,i.positionPrev.y-=v*m.y*f*p),u=a.cross(n,x)/_*r._torqueDampen*i.inverseInertia*(1-t.angularStiffness),i.constraintImpulse.angle-=u,i.angle-=u),s&&!s.isStatic&&(p=s.inverseMass/w,s.constraintImpulse.x+=x.x*p,s.constraintImpulse.y+=x.y*p,s.position.x+=x.x*p,s.position.y+=x.y*p,v>0&&(s.positionPrev.x+=v*m.x*f*p,s.positionPrev.y+=v*m.y*f*p),u=a.cross(o,x)/_*r._torqueDampen*s.inverseInertia*(1-t.angularStiffness),s.constraintImpulse.angle+=u,s.angle+=u)}}},r.postSolveAll=function(t){for(var e=0;e<t.length;e++){var i=t[e],h=i.constraintImpulse;if(!(i.isStatic||0===h.x&&0===h.y&&0===h.angle)){n.set(i,!1);for(var c=0;c<i.parts.length;c++){var d=i.parts[c];s.translate(d.vertices,h),c>0&&(d.position.x+=h.x,d.position.y+=h.y),0!==h.angle&&(s.rotate(d.vertices,h.angle,i.position),l.rotate(d.axes,h.angle),c>0&&a.rotateAbout(d.position,h.angle,i.position,d.position)),o.update(d.bounds,d.vertices,i.velocity)}h.angle*=r._warming,h.x*=r._warming,h.y*=r._warming}}},r.pointAWorld=function(t){return{x:(t.bodyA?t.bodyA.position.x:0)+(t.pointA?t.pointA.x:0),y:(t.bodyA?t.bodyA.position.y:0)+(t.pointA?t.pointA.y:0)}},r.pointBWorld=function(t){return{x:(t.bodyB?t.bodyB.position.x:0)+(t.pointB?t.pointB.x:0),y:(t.bodyB?t.bodyB.position.y:0)+(t.pointB?t.pointB.y:0)}},r.currentLength=function(t){var e=(t.bodyA?t.bodyA.position.x:0)+(t.pointA?t.pointA.x:0),i=(t.bodyA?t.bodyA.position.y:0)+(t.pointA?t.pointA.y:0),r=e-((t.bodyB?t.bodyB.position.x:0)+(t.pointB?t.pointB.x:0)),s=i-((t.bodyB?t.bodyB.position.y:0)+(t.pointB?t.pointB.y:0));return Math.sqrt(r*r+s*s)}},function(t,e,i){var r={};t.exports=r;var s=i(2),a=i(0);r.fromVertices=function(t){for(var e={},i=0;i<t.length;i++){var r=(i+1)%t.length,n=s.normalise({x:t[r].y-t[i].y,y:t[i].x-t[r].x}),o=0===n.y?1/0:n.x/n.y;e[o=o.toFixed(3).toString()]=n}return a.values(e)},r.rotate=function(t,e){if(0!==e)for(var i=Math.cos(e),r=Math.sin(e),s=0;s<t.length;s++){var a,n=t[s];a=n.x*i-n.y*r,n.y=n.x*r+n.y*i,n.x=a}}},function(t,e,i){var r={};t.exports=r;var s=i(3),a=i(0),n=i(4),o=i(1),l=i(2);r.rectangle=function(t,e,i,r,o){o=o||{};var l={label:"Rectangle Body",position:{x:t,y:e},vertices:s.fromPath("L 0 0 L "+i+" 0 L "+i+" "+r+" L 0 "+r)};if(o.chamfer){var h=o.chamfer;l.vertices=s.chamfer(l.vertices,h.radius,h.quality,h.qualityMin,h.qualityMax),delete o.chamfer}return n.create(a.extend({},l,o))},r.trapezoid=function(t,e,i,r,o,l){l=l||{},o>=1&&a.warn("Bodies.trapezoid: slope parameter must be < 1.");var h,c=i*(o*=.5),d=c+(1-2*o)*i,u=d+c;h=o<.5?"L 0 0 L "+c+" "+-r+" L "+d+" "+-r+" L "+u+" 0":"L 0 0 L "+d+" "+-r+" L "+u+" 0";var p={label:"Trapezoid Body",position:{x:t,y:e},vertices:s.fromPath(h)};if(l.chamfer){var m=l.chamfer;p.vertices=s.chamfer(p.vertices,m.radius,m.quality,m.qualityMin,m.qualityMax),delete l.chamfer}return n.create(a.extend({},p,l))},r.circle=function(t,e,i,s,n){s=s||{};var o={label:"Circle Body",circleRadius:i};n=n||25;var l=Math.ceil(Math.max(10,Math.min(n,i)));return l%2==1&&(l+=1),r.polygon(t,e,l,i,a.extend({},o,s))},r.polygon=function(t,e,i,o,l){if(l=l||{},i<3)return r.circle(t,e,o,l);for(var h=2*Math.PI/i,c="",d=.5*h,u=0;u<i;u+=1){var p=d+u*h,m=Math.cos(p)*o,f=Math.sin(p)*o;c+="L "+m.toFixed(3)+" "+f.toFixed(3)+" "}var g={label:"Polygon Body",position:{x:t,y:e},vertices:s.fromPath(c)};if(l.chamfer){var b=l.chamfer;g.vertices=s.chamfer(g.vertices,b.radius,b.quality,b.qualityMin,b.qualityMax),delete l.chamfer}return n.create(a.extend({},g,l))},r.fromVertices=function(t,e,i,r,h,c,d,u){var p,m,f,g,b,y,v,x,w,_,k=a.getDecomp();for(p=Boolean(k&&k.quickDecomp),r=r||{},f=[],h=void 0!==h&&h,c=void 0!==c?c:.01,d=void 0!==d?d:10,u=void 0!==u?u:.01,a.isArray(i[0])||(i=[i]),w=0;w<i.length;w+=1)if(b=i[w],!(g=s.isConvex(b))&&!p&&a.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),g||!p)b=g?s.clockwiseSort(b):s.hull(b),f.push({position:{x:t,y:e},vertices:b});else{var S=b.map(function(t){return[t.x,t.y]});k.makeCCW(S),!1!==c&&k.removeCollinearPoints(S,c),!1!==u&&k.removeDuplicatePoints&&k.removeDuplicatePoints(S,u);var C=k.quickDecomp(S);for(y=0;y<C.length;y++){var A=C[y].map(function(t){return{x:t[0],y:t[1]}});d>0&&s.area(A)<d||f.push({position:s.centre(A),vertices:A})}}for(y=0;y<f.length;y++)f[y]=n.create(a.extend(f[y],r));if(h)for(y=0;y<f.length;y++){var T=f[y];for(v=y+1;v<f.length;v++){var M=f[v];if(o.overlaps(T.bounds,M.bounds)){var B=T.vertices,P=M.vertices;for(x=0;x<T.vertices.length;x++)for(_=0;_<M.vertices.length;_++){var O=l.magnitudeSquared(l.sub(B[(x+1)%B.length],P[_])),I=l.magnitudeSquared(l.sub(B[x],P[(_+1)%P.length]));O<5&&I<5&&(B[x].isInternal=!0,P[_].isInternal=!0)}}}}return f.length>1?(m=n.create(a.extend({parts:f.slice(0)},r)),n.setPosition(m,{x:t,y:e}),m):f[0]}},function(t,e,i){var r={};t.exports=r;var s=i(0),a=i(8);r.create=function(t){return s.extend({bodies:[],collisions:[],pairs:null},t)},r.setBodies=function(t,e){t.bodies=e.slice(0)},r.clear=function(t){t.bodies=[],t.collisions=[]},r.collisions=function(t){var e,i,s=t.pairs,n=t.bodies,o=n.length,l=r.canCollide,h=a.collides,c=t.collisions,d=0;for(n.sort(r._compareBoundsX),e=0;e<o;e++){var u=n[e],p=u.bounds,m=u.bounds.max.x,f=u.bounds.max.y,g=u.bounds.min.y,b=u.isStatic||u.isSleeping,y=u.parts.length,v=1===y;for(i=e+1;i<o;i++){var x=n[i];if((M=x.bounds).min.x>m)break;if(!(f<M.min.y||g>M.max.y)&&(!b||!x.isStatic&&!x.isSleeping)&&l(u.collisionFilter,x.collisionFilter)){var w=x.parts.length;if(v&&1===w)(A=h(u,x,s))&&(c[d++]=A);else for(var _=w>1?1:0,k=y>1?1:0;k<y;k++)for(var S=u.parts[k],C=(p=S.bounds,_);C<w;C++){var A,T=x.parts[C],M=T.bounds;p.min.x>M.max.x||p.max.x<M.min.x||p.max.y<M.min.y||p.min.y>M.max.y||(A=h(S,T,s))&&(c[d++]=A)}}}}return c.length!==d&&(c.length=d),c},r.canCollide=function(t,e){return t.group===e.group&&0!==t.group?t.group>0:0!==(t.mask&e.category)&&0!==(e.mask&t.category)},r._compareBoundsX=function(t,e){return t.bounds.min.x-e.bounds.min.x}},function(t,e,i){var r={};t.exports=r;var s=i(0);r.create=function(t){var e={};return t||s.log("Mouse.create: element was undefined, defaulting to document.body","warn"),e.element=t||document.body,e.absolute={x:0,y:0},e.position={x:0,y:0},e.mousedownPosition={x:0,y:0},e.mouseupPosition={x:0,y:0},e.offset={x:0,y:0},e.scale={x:1,y:1},e.wheelDelta=0,e.button=-1,e.pixelRatio=parseInt(e.element.getAttribute("data-pixel-ratio"),10)||1,e.sourceEvents={mousemove:null,mousedown:null,mouseup:null,mousewheel:null},e.mousemove=function(t){var i=r._getRelativeMousePosition(t,e.element,e.pixelRatio);t.changedTouches&&(e.button=0,t.preventDefault()),e.absolute.x=i.x,e.absolute.y=i.y,e.position.x=e.absolute.x*e.scale.x+e.offset.x,e.position.y=e.absolute.y*e.scale.y+e.offset.y,e.sourceEvents.mousemove=t},e.mousedown=function(t){var i=r._getRelativeMousePosition(t,e.element,e.pixelRatio);t.changedTouches?(e.button=0,t.preventDefault()):e.button=t.button,e.absolute.x=i.x,e.absolute.y=i.y,e.position.x=e.absolute.x*e.scale.x+e.offset.x,e.position.y=e.absolute.y*e.scale.y+e.offset.y,e.mousedownPosition.x=e.position.x,e.mousedownPosition.y=e.position.y,e.sourceEvents.mousedown=t},e.mouseup=function(t){var i=r._getRelativeMousePosition(t,e.element,e.pixelRatio);t.changedTouches&&t.preventDefault(),e.button=-1,e.absolute.x=i.x,e.absolute.y=i.y,e.position.x=e.absolute.x*e.scale.x+e.offset.x,e.position.y=e.absolute.y*e.scale.y+e.offset.y,e.mouseupPosition.x=e.position.x,e.mouseupPosition.y=e.position.y,e.sourceEvents.mouseup=t},e.mousewheel=function(t){e.wheelDelta=Math.max(-1,Math.min(1,t.wheelDelta||-t.detail)),t.preventDefault(),e.sourceEvents.mousewheel=t},r.setElement(e,e.element),e},r.setElement=function(t,e){t.element=e,e.addEventListener("mousemove",t.mousemove,{passive:!0}),e.addEventListener("mousedown",t.mousedown,{passive:!0}),e.addEventListener("mouseup",t.mouseup,{passive:!0}),e.addEventListener("wheel",t.mousewheel,{passive:!1}),e.addEventListener("touchmove",t.mousemove,{passive:!1}),e.addEventListener("touchstart",t.mousedown,{passive:!1}),e.addEventListener("touchend",t.mouseup,{passive:!1})},r.clearSourceEvents=function(t){t.sourceEvents.mousemove=null,t.sourceEvents.mousedown=null,t.sourceEvents.mouseup=null,t.sourceEvents.mousewheel=null,t.wheelDelta=0},r.setOffset=function(t,e){t.offset.x=e.x,t.offset.y=e.y,t.position.x=t.absolute.x*t.scale.x+t.offset.x,t.position.y=t.absolute.y*t.scale.y+t.offset.y},r.setScale=function(t,e){t.scale.x=e.x,t.scale.y=e.y,t.position.x=t.absolute.x*t.scale.x+t.offset.x,t.position.y=t.absolute.y*t.scale.y+t.offset.y},r._getRelativeMousePosition=function(t,e,i){var r,s,a=e.getBoundingClientRect(),n=document.documentElement||document.body.parentNode||document.body,o=void 0!==window.pageXOffset?window.pageXOffset:n.scrollLeft,l=void 0!==window.pageYOffset?window.pageYOffset:n.scrollTop,h=t.changedTouches;return h?(r=h[0].pageX-a.left-o,s=h[0].pageY-a.top-l):(r=t.pageX-a.left-o,s=t.pageY-a.top-l),{x:r/(e.clientWidth/(e.width||e.clientWidth)*i),y:s/(e.clientHeight/(e.height||e.clientHeight)*i)}}},function(t,e,i){var r={};t.exports=r;var s=i(0);r._registry={},r.register=function(t){if(r.isPlugin(t)||s.warn("Plugin.register:",r.toString(t),"does not implement all required fields."),t.name in r._registry){var e=r._registry[t.name],i=r.versionParse(t.version).number,a=r.versionParse(e.version).number;i>a?(s.warn("Plugin.register:",r.toString(e),"was upgraded to",r.toString(t)),r._registry[t.name]=t):i<a?s.warn("Plugin.register:",r.toString(e),"can not be downgraded to",r.toString(t)):t!==e&&s.warn("Plugin.register:",r.toString(t),"is already registered to different plugin object")}else r._registry[t.name]=t;return t},r.resolve=function(t){return r._registry[r.dependencyParse(t).name]},r.toString=function(t){return"string"==typeof t?t:(t.name||"anonymous")+"@"+(t.version||t.range||"0.0.0")},r.isPlugin=function(t){return t&&t.name&&t.version&&t.install},r.isUsed=function(t,e){return t.used.indexOf(e)>-1},r.isFor=function(t,e){var i=t.for&&r.dependencyParse(t.for);return!t.for||e.name===i.name&&r.versionSatisfies(e.version,i.range)},r.use=function(t,e){if(t.uses=(t.uses||[]).concat(e||[]),0!==t.uses.length){for(var i=r.dependencies(t),a=s.topologicalSort(i),n=[],o=0;o<a.length;o+=1)if(a[o]!==t.name){var l=r.resolve(a[o]);l?r.isUsed(t,l.name)||(r.isFor(l,t)||(s.warn("Plugin.use:",r.toString(l),"is for",l.for,"but installed on",r.toString(t)+"."),l._warned=!0),l.install?l.install(t):(s.warn("Plugin.use:",r.toString(l),"does not specify an install function."),l._warned=!0),l._warned?(n.push("🔶 "+r.toString(l)),delete l._warned):n.push("✅ "+r.toString(l)),t.used.push(l.name)):n.push("❌ "+a[o])}n.length>0&&s.info(n.join("  "))}else s.warn("Plugin.use:",r.toString(t),"does not specify any dependencies to install.")},r.dependencies=function(t,e){var i=r.dependencyParse(t),a=i.name;if(!(a in(e=e||{}))){t=r.resolve(t)||t,e[a]=s.map(t.uses||[],function(e){r.isPlugin(e)&&r.register(e);var a=r.dependencyParse(e),n=r.resolve(e);return n&&!r.versionSatisfies(n.version,a.range)?(s.warn("Plugin.dependencies:",r.toString(n),"does not satisfy",r.toString(a),"used by",r.toString(i)+"."),n._warned=!0,t._warned=!0):n||(s.warn("Plugin.dependencies:",r.toString(e),"used by",r.toString(i),"could not be resolved."),t._warned=!0),a.name});for(var n=0;n<e[a].length;n+=1)r.dependencies(e[a][n],e);return e}},r.dependencyParse=function(t){return s.isString(t)?(/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/.test(t)||s.warn("Plugin.dependencyParse:",t,"is not a valid dependency string."),{name:t.split("@")[0],range:t.split("@")[1]||"*"}):{name:t.name,range:t.range||t.version}},r.versionParse=function(t){var e=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;e.test(t)||s.warn("Plugin.versionParse:",t,"is not a valid version or range.");var i=e.exec(t),r=Number(i[4]),a=Number(i[5]),n=Number(i[6]);return{isRange:Boolean(i[1]||i[2]),version:i[3],range:t,operator:i[1]||i[2]||"",major:r,minor:a,patch:n,parts:[r,a,n],prerelease:i[7],number:1e8*r+1e4*a+n}},r.versionSatisfies=function(t,e){e=e||"*";var i=r.versionParse(e),s=r.versionParse(t);if(i.isRange){if("*"===i.operator||"*"===t)return!0;if(">"===i.operator)return s.number>i.number;if(">="===i.operator)return s.number>=i.number;if("~"===i.operator)return s.major===i.major&&s.minor===i.minor&&s.patch>=i.patch;if("^"===i.operator)return i.major>0?s.major===i.major&&s.number>=i.number:i.minor>0?s.minor===i.minor&&s.patch>=i.patch:s.patch===i.patch}return t===e||"*"===t}},function(t,e){var i={};t.exports=i,i.create=function(t){return{vertex:t,normalImpulse:0,tangentImpulse:0}}},function(t,e,i){var r={};t.exports=r;var s=i(7),a=i(18),n=i(13),o=i(19),l=i(5),h=i(6),c=i(10),d=i(0),u=i(4);r._deltaMax=1e3/60,r.create=function(t){t=t||{};var e=d.extend({positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0,lastUpdatesPerFrame:0}},t);return e.world=t.world||h.create({label:"World"}),e.pairs=t.pairs||o.create(),e.detector=t.detector||n.create(),e.detector.pairs=e.pairs,e.grid={buckets:[]},e.world.gravity=e.gravity,e.broadphase=e.grid,e.metrics={},e},r.update=function(t,e){var i,u=d.now(),p=t.world,m=t.detector,f=t.pairs,g=t.timing,b=g.timestamp;e>r._deltaMax&&d.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",r._deltaMax.toFixed(3),"ms."),e=void 0!==e?e:d._baseDelta,e*=g.timeScale,g.timestamp+=e,g.lastDelta=e;var y={timestamp:g.timestamp,delta:e};l.trigger(t,"beforeUpdate",y);var v=h.allBodies(p),x=h.allConstraints(p);for(p.isModified&&(n.setBodies(m,v),h.setModified(p,!1,!1,!0)),t.enableSleeping&&s.update(v,e),r._bodiesApplyGravity(v,t.gravity),e>0&&r._bodiesUpdate(v,e),l.trigger(t,"beforeSolve",y),c.preSolveAll(v),i=0;i<t.constraintIterations;i++)c.solveAll(x,e);c.postSolveAll(v);var w=n.collisions(m);o.update(f,w,b),t.enableSleeping&&s.afterCollisions(f.list),f.collisionStart.length>0&&l.trigger(t,"collisionStart",{pairs:f.collisionStart,timestamp:g.timestamp,delta:e});var _=d.clamp(20/t.positionIterations,0,1);for(a.preSolvePosition(f.list),i=0;i<t.positionIterations;i++)a.solvePosition(f.list,e,_);for(a.postSolvePosition(v),c.preSolveAll(v),i=0;i<t.constraintIterations;i++)c.solveAll(x,e);for(c.postSolveAll(v),a.preSolveVelocity(f.list),i=0;i<t.velocityIterations;i++)a.solveVelocity(f.list,e);return r._bodiesUpdateVelocities(v),f.collisionActive.length>0&&l.trigger(t,"collisionActive",{pairs:f.collisionActive,timestamp:g.timestamp,delta:e}),f.collisionEnd.length>0&&l.trigger(t,"collisionEnd",{pairs:f.collisionEnd,timestamp:g.timestamp,delta:e}),r._bodiesClearForces(v),l.trigger(t,"afterUpdate",y),t.timing.lastElapsed=d.now()-u,t},r.merge=function(t,e){if(d.extend(t,e),e.world){t.world=e.world,r.clear(t);for(var i=h.allBodies(t.world),a=0;a<i.length;a++){var n=i[a];s.set(n,!1),n.id=d.nextId()}}},r.clear=function(t){o.clear(t.pairs),n.clear(t.detector)},r._bodiesClearForces=function(t){for(var e=t.length,i=0;i<e;i++){var r=t[i];r.force.x=0,r.force.y=0,r.torque=0}},r._bodiesApplyGravity=function(t,e){var i=void 0!==e.scale?e.scale:.001,r=t.length;if((0!==e.x||0!==e.y)&&0!==i)for(var s=0;s<r;s++){var a=t[s];a.isStatic||a.isSleeping||(a.force.y+=a.mass*e.y*i,a.force.x+=a.mass*e.x*i)}},r._bodiesUpdate=function(t,e){for(var i=t.length,r=0;r<i;r++){var s=t[r];s.isStatic||s.isSleeping||u.update(s,e)}},r._bodiesUpdateVelocities=function(t){for(var e=t.length,i=0;i<e;i++)u.updateVelocities(t[i])}},function(t,e,i){var r={};t.exports=r;var s=i(3),a=i(0),n=i(1);r._restingThresh=2,r._restingThreshTangent=Math.sqrt(6),r._positionDampen=.9,r._positionWarming=.8,r._frictionNormalMultiplier=5,r._frictionMaxStatic=Number.MAX_VALUE,r.preSolvePosition=function(t){var e,i,r,s=t.length;for(e=0;e<s;e++)(i=t[e]).isActive&&(r=i.contactCount,i.collision.parentA.totalContacts+=r,i.collision.parentB.totalContacts+=r)},r.solvePosition=function(t,e,i){var s,n,o,l,h,c,d,u,p=r._positionDampen*(i||1),m=a.clamp(e/a._baseDelta,0,1),f=t.length;for(s=0;s<f;s++)(n=t[s]).isActive&&!n.isSensor&&(l=(o=n.collision).parentA,h=o.parentB,c=o.normal,n.separation=o.depth+c.x*(h.positionImpulse.x-l.positionImpulse.x)+c.y*(h.positionImpulse.y-l.positionImpulse.y));for(s=0;s<f;s++)(n=t[s]).isActive&&!n.isSensor&&(l=(o=n.collision).parentA,h=o.parentB,c=o.normal,u=n.separation-n.slop*m,(l.isStatic||h.isStatic)&&(u*=2),l.isStatic||l.isSleeping||(d=p/l.totalContacts,l.positionImpulse.x+=c.x*u*d,l.positionImpulse.y+=c.y*u*d),h.isStatic||h.isSleeping||(d=p/h.totalContacts,h.positionImpulse.x-=c.x*u*d,h.positionImpulse.y-=c.y*u*d))},r.postSolvePosition=function(t){for(var e=r._positionWarming,i=t.length,a=s.translate,o=n.update,l=0;l<i;l++){var h=t[l],c=h.positionImpulse,d=c.x,u=c.y,p=h.velocity;if(h.totalContacts=0,0!==d||0!==u){for(var m=0;m<h.parts.length;m++){var f=h.parts[m];a(f.vertices,c),o(f.bounds,f.vertices,p),f.position.x+=d,f.position.y+=u}h.positionPrev.x+=d,h.positionPrev.y+=u,d*p.x+u*p.y<0?(c.x=0,c.y=0):(c.x*=e,c.y*=e)}}},r.preSolveVelocity=function(t){var e,i,r=t.length;for(e=0;e<r;e++){var s=t[e];if(s.isActive&&!s.isSensor){var a=s.contacts,n=s.contactCount,o=s.collision,l=o.parentA,h=o.parentB,c=o.normal,d=o.tangent;for(i=0;i<n;i++){var u=a[i],p=u.vertex,m=u.normalImpulse,f=u.tangentImpulse;if(0!==m||0!==f){var g=c.x*m+d.x*f,b=c.y*m+d.y*f;l.isStatic||l.isSleeping||(l.positionPrev.x+=g*l.inverseMass,l.positionPrev.y+=b*l.inverseMass,l.anglePrev+=l.inverseInertia*((p.x-l.position.x)*b-(p.y-l.position.y)*g)),h.isStatic||h.isSleeping||(h.positionPrev.x-=g*h.inverseMass,h.positionPrev.y-=b*h.inverseMass,h.anglePrev-=h.inverseInertia*((p.x-h.position.x)*b-(p.y-h.position.y)*g))}}}}},r.solveVelocity=function(t,e){var i,s,n,o,l=e/a._baseDelta,h=l*l*l,c=-r._restingThresh*l,d=r._restingThreshTangent,u=r._frictionNormalMultiplier*l,p=r._frictionMaxStatic,m=t.length;for(n=0;n<m;n++){var f=t[n];if(f.isActive&&!f.isSensor){var g=f.collision,b=g.parentA,y=g.parentB,v=g.normal.x,x=g.normal.y,w=g.tangent.x,_=g.tangent.y,k=f.inverseMass,S=f.friction*f.frictionStatic*u,C=f.contacts,A=f.contactCount,T=1/A,M=b.position.x-b.positionPrev.x,B=b.position.y-b.positionPrev.y,P=b.angle-b.anglePrev,O=y.position.x-y.positionPrev.x,I=y.position.y-y.positionPrev.y,E=y.angle-y.anglePrev;for(o=0;o<A;o++){var $=C[o],R=$.vertex,z=R.x-b.position.x,F=R.y-b.position.y,L=R.x-y.position.x,D=R.y-y.position.y,W=M-F*P-(O-D*E),V=B+z*P-(I+L*E),H=v*W+x*V,N=w*W+_*V,Y=f.separation+H,X=Math.min(Y,1),U=(X=Y<0?0:X)*S;N<-U||N>U?(s=N>0?N:-N,(i=f.friction*(N>0?1:-1)*h)<-s?i=-s:i>s&&(i=s)):(i=N,s=p);var G=z*x-F*v,j=L*x-D*v,q=T/(k+b.inverseInertia*G*G+y.inverseInertia*j*j),K=(1+f.restitution)*H*q;if(i*=q,H<c)$.normalImpulse=0;else{var Z=$.normalImpulse;$.normalImpulse+=K,$.normalImpulse>0&&($.normalImpulse=0),K=$.normalImpulse-Z}if(N<-d||N>d)$.tangentImpulse=0;else{var Q=$.tangentImpulse;$.tangentImpulse+=i,$.tangentImpulse<-s&&($.tangentImpulse=-s),$.tangentImpulse>s&&($.tangentImpulse=s),i=$.tangentImpulse-Q}var J=v*K+w*i,tt=x*K+_*i;b.isStatic||b.isSleeping||(b.positionPrev.x+=J*b.inverseMass,b.positionPrev.y+=tt*b.inverseMass,b.anglePrev+=(z*tt-F*J)*b.inverseInertia),y.isStatic||y.isSleeping||(y.positionPrev.x-=J*y.inverseMass,y.positionPrev.y-=tt*y.inverseMass,y.anglePrev-=(L*tt-D*J)*y.inverseInertia)}}}}},function(t,e,i){var r={};t.exports=r;var s=i(9),a=i(0);r.create=function(t){return a.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},t)},r.update=function(t,e,i){var r,a,n,o=s.update,l=s.create,h=s.setActive,c=t.table,d=t.list,u=d.length,p=u,m=t.collisionStart,f=t.collisionEnd,g=t.collisionActive,b=e.length,y=0,v=0,x=0;for(n=0;n<b;n++)(a=(r=e[n]).pair)?(a.isActive&&(g[x++]=a),o(a,r,i)):(c[(a=l(r,i)).id]=a,m[y++]=a,d[p++]=a);for(p=0,u=d.length,n=0;n<u;n++)(a=d[n]).timeUpdated>=i?d[p++]=a:(h(a,!1,i),a.collision.bodyA.sleepCounter>0&&a.collision.bodyB.sleepCounter>0?d[p++]=a:(f[v++]=a,delete c[a.id]));d.length!==p&&(d.length=p),m.length!==y&&(m.length=y),f.length!==v&&(f.length=v),g.length!==x&&(g.length=x)},r.clear=function(t){return t.table={},t.list.length=0,t.collisionStart.length=0,t.collisionActive.length=0,t.collisionEnd.length=0,t}},function(t,e,i){var r=t.exports=i(21);r.Axes=i(11),r.Bodies=i(12),r.Body=i(4),r.Bounds=i(1),r.Collision=i(8),r.Common=i(0),r.Composite=i(6),r.Composites=i(22),r.Constraint=i(10),r.Contact=i(16),r.Detector=i(13),r.Engine=i(17),r.Events=i(5),r.Grid=i(23),r.Mouse=i(14),r.MouseConstraint=i(24),r.Pair=i(9),r.Pairs=i(19),r.Plugin=i(15),r.Query=i(25),r.Render=i(26),r.Resolver=i(18),r.Runner=i(27),r.SAT=i(28),r.Sleeping=i(7),r.Svg=i(29),r.Vector=i(2),r.Vertices=i(3),r.World=i(30),r.Engine.run=r.Runner.run,r.Common.deprecated(r.Engine,"run","Engine.run ➤ use Matter.Runner.run(engine) instead")},function(t,e,i){var r={};t.exports=r;var s=i(15),a=i(0);r.name="matter-js",r.version="0.20.0",r.uses=[],r.used=[],r.use=function(){s.use(r,Array.prototype.slice.call(arguments))},r.before=function(t,e){return t=t.replace(/^Matter./,""),a.chainPathBefore(r,t,e)},r.after=function(t,e){return t=t.replace(/^Matter./,""),a.chainPathAfter(r,t,e)}},function(t,e,i){var r={};t.exports=r;var s=i(6),a=i(10),n=i(0),o=i(4),l=i(12),h=n.deprecated;r.stack=function(t,e,i,r,a,n,l){for(var h,c=s.create({label:"Stack"}),d=t,u=e,p=0,m=0;m<r;m++){for(var f=0,g=0;g<i;g++){var b=l(d,u,g,m,h,p);if(b){var y=b.bounds.max.y-b.bounds.min.y,v=b.bounds.max.x-b.bounds.min.x;y>f&&(f=y),o.translate(b,{x:.5*v,y:.5*y}),d=b.bounds.max.x+a,s.addBody(c,b),h=b,p+=1}else d+=a}u+=f+n,d=t}return c},r.chain=function(t,e,i,r,o,l){for(var h=t.bodies,c=1;c<h.length;c++){var d=h[c-1],u=h[c],p=d.bounds.max.y-d.bounds.min.y,m=d.bounds.max.x-d.bounds.min.x,f=u.bounds.max.y-u.bounds.min.y,g={bodyA:d,pointA:{x:m*e,y:p*i},bodyB:u,pointB:{x:(u.bounds.max.x-u.bounds.min.x)*r,y:f*o}},b=n.extend(g,l);s.addConstraint(t,a.create(b))}return t.label+=" Chain",t},r.mesh=function(t,e,i,r,o){var l,h,c,d,u,p=t.bodies;for(l=0;l<i;l++){for(h=1;h<e;h++)c=p[h-1+l*e],d=p[h+l*e],s.addConstraint(t,a.create(n.extend({bodyA:c,bodyB:d},o)));if(l>0)for(h=0;h<e;h++)c=p[h+(l-1)*e],d=p[h+l*e],s.addConstraint(t,a.create(n.extend({bodyA:c,bodyB:d},o))),r&&h>0&&(u=p[h-1+(l-1)*e],s.addConstraint(t,a.create(n.extend({bodyA:u,bodyB:d},o)))),r&&h<e-1&&(u=p[h+1+(l-1)*e],s.addConstraint(t,a.create(n.extend({bodyA:u,bodyB:d},o))))}return t.label+=" Mesh",t},r.pyramid=function(t,e,i,s,a,n,l){return r.stack(t,e,i,s,a,n,function(e,r,n,h,c,d){var u=Math.min(s,Math.ceil(i/2)),p=c?c.bounds.max.x-c.bounds.min.x:0;if(!(h>u||n<(h=u-h)||n>i-1-h))return 1===d&&o.translate(c,{x:(n+(i%2==1?1:-1))*p,y:0}),l(t+(c?n*p:0)+n*a,r,n,h,c,d)})},r.newtonsCradle=function(t,e,i,r,n){for(var o=s.create({label:"Newtons Cradle"}),h=0;h<i;h++){var c=l.circle(t+h*(1.9*r),e+n,r,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),d=a.create({pointA:{x:t+h*(1.9*r),y:e},bodyB:c});s.addBody(o,c),s.addConstraint(o,d)}return o},h(r,"newtonsCradle","Composites.newtonsCradle ➤ moved to newtonsCradle example"),r.car=function(t,e,i,r,n){var h=o.nextGroup(!0),c=.5*-i+20,d=.5*i-20,u=s.create({label:"Car"}),p=l.rectangle(t,e,i,r,{collisionFilter:{group:h},chamfer:{radius:.5*r},density:2e-4}),m=l.circle(t+c,e+0,n,{collisionFilter:{group:h},friction:.8}),f=l.circle(t+d,e+0,n,{collisionFilter:{group:h},friction:.8}),g=a.create({bodyB:p,pointB:{x:c,y:0},bodyA:m,stiffness:1,length:0}),b=a.create({bodyB:p,pointB:{x:d,y:0},bodyA:f,stiffness:1,length:0});return s.addBody(u,p),s.addBody(u,m),s.addBody(u,f),s.addConstraint(u,g),s.addConstraint(u,b),u},h(r,"car","Composites.car ➤ moved to car example"),r.softBody=function(t,e,i,s,a,o,h,c,d,u){d=n.extend({inertia:1/0},d),u=n.extend({stiffness:.2,render:{type:"line",anchors:!1}},u);var p=r.stack(t,e,i,s,a,o,function(t,e){return l.circle(t,e,c,d)});return r.mesh(p,i,s,h,u),p.label="Soft Body",p},h(r,"softBody","Composites.softBody ➤ moved to softBody and cloth examples")},function(t,e,i){var r={};t.exports=r;var s=i(9),a=i(0),n=a.deprecated;r.create=function(t){return a.extend({buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48},t)},r.update=function(t,e,i,s){var a,n,o,l,h,c=i.world,d=t.buckets,u=!1;for(a=0;a<e.length;a++){var p=e[a];if((!p.isSleeping||s)&&(!c.bounds||!(p.bounds.max.x<c.bounds.min.x||p.bounds.min.x>c.bounds.max.x||p.bounds.max.y<c.bounds.min.y||p.bounds.min.y>c.bounds.max.y))){var m=r._getRegion(t,p);if(!p.region||m.id!==p.region.id||s){p.region&&!s||(p.region=m);var f=r._regionUnion(m,p.region);for(n=f.startCol;n<=f.endCol;n++)for(o=f.startRow;o<=f.endRow;o++){l=d[h=r._getBucketId(n,o)];var g=n>=m.startCol&&n<=m.endCol&&o>=m.startRow&&o<=m.endRow,b=n>=p.region.startCol&&n<=p.region.endCol&&o>=p.region.startRow&&o<=p.region.endRow;!g&&b&&b&&l&&r._bucketRemoveBody(t,l,p),(p.region===m||g&&!b||s)&&(l||(l=r._createBucket(d,h)),r._bucketAddBody(t,l,p))}p.region=m,u=!0}}}u&&(t.pairsList=r._createActivePairsList(t))},n(r,"update","Grid.update ➤ replaced by Matter.Detector"),r.clear=function(t){t.buckets={},t.pairs={},t.pairsList=[]},n(r,"clear","Grid.clear ➤ replaced by Matter.Detector"),r._regionUnion=function(t,e){var i=Math.min(t.startCol,e.startCol),s=Math.max(t.endCol,e.endCol),a=Math.min(t.startRow,e.startRow),n=Math.max(t.endRow,e.endRow);return r._createRegion(i,s,a,n)},r._getRegion=function(t,e){var i=e.bounds,s=Math.floor(i.min.x/t.bucketWidth),a=Math.floor(i.max.x/t.bucketWidth),n=Math.floor(i.min.y/t.bucketHeight),o=Math.floor(i.max.y/t.bucketHeight);return r._createRegion(s,a,n,o)},r._createRegion=function(t,e,i,r){return{id:t+","+e+","+i+","+r,startCol:t,endCol:e,startRow:i,endRow:r}},r._getBucketId=function(t,e){return"C"+t+"R"+e},r._createBucket=function(t,e){return t[e]=[]},r._bucketAddBody=function(t,e,i){var r,a=t.pairs,n=s.id,o=e.length;for(r=0;r<o;r++){var l=e[r];if(!(i.id===l.id||i.isStatic&&l.isStatic)){var h=n(i,l),c=a[h];c?c[2]+=1:a[h]=[i,l,1]}}e.push(i)},r._bucketRemoveBody=function(t,e,i){var r,n=t.pairs,o=s.id;e.splice(a.indexOf(e,i),1);var l=e.length;for(r=0;r<l;r++){var h=n[o(i,e[r])];h&&(h[2]-=1)}},r._createActivePairsList=function(t){var e,i,r=t.pairs,s=a.keys(r),n=s.length,o=[];for(i=0;i<n;i++)(e=r[s[i]])[2]>0?o.push(e):delete r[s[i]];return o}},function(t,e,i){var r={};t.exports=r;var s=i(3),a=i(7),n=i(14),o=i(5),l=i(13),h=i(10),c=i(6),d=i(0),u=i(1);r.create=function(t,e){var i=(t?t.mouse:null)||(e?e.mouse:null);i||(t&&t.render&&t.render.canvas?i=n.create(t.render.canvas):e&&e.element?i=n.create(e.element):(i=n.create(),d.warn("MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected")));var s={type:"mouseConstraint",mouse:i,element:null,body:null,constraint:h.create({label:"Mouse Constraint",pointA:i.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}}),collisionFilter:{category:1,mask:4294967295,group:0}},a=d.extend(s,e);return o.on(t,"beforeUpdate",function(){var e=c.allBodies(t.world);r.update(a,e),r._triggerEvents(a)}),a},r.update=function(t,e){var i=t.mouse,r=t.constraint,n=t.body;if(0===i.button){if(r.bodyB)a.set(r.bodyB,!1),r.pointA=i.position;else for(var h=0;h<e.length;h++)if(n=e[h],u.contains(n.bounds,i.position)&&l.canCollide(n.collisionFilter,t.collisionFilter))for(var c=n.parts.length>1?1:0;c<n.parts.length;c++){var d=n.parts[c];if(s.contains(d.vertices,i.position)){r.pointA=i.position,r.bodyB=t.body=n,r.pointB={x:i.position.x-n.position.x,y:i.position.y-n.position.y},r.angleB=n.angle,a.set(n,!1),o.trigger(t,"startdrag",{mouse:i,body:n});break}}}else r.bodyB=t.body=null,r.pointB=null,n&&o.trigger(t,"enddrag",{mouse:i,body:n})},r._triggerEvents=function(t){var e=t.mouse,i=e.sourceEvents;i.mousemove&&o.trigger(t,"mousemove",{mouse:e}),i.mousedown&&o.trigger(t,"mousedown",{mouse:e}),i.mouseup&&o.trigger(t,"mouseup",{mouse:e}),n.clearSourceEvents(e)}},function(t,e,i){var r={};t.exports=r;var s=i(2),a=i(8),n=i(1),o=i(12),l=i(3);r.collides=function(t,e){for(var i=[],r=e.length,s=t.bounds,o=a.collides,l=n.overlaps,h=0;h<r;h++){var c=e[h],d=c.parts.length,u=1===d?0:1;if(l(c.bounds,s))for(var p=u;p<d;p++){var m=c.parts[p];if(l(m.bounds,s)){var f=o(m,t);if(f){i.push(f);break}}}}return i},r.ray=function(t,e,i,a){a=a||1e-100;for(var n=s.angle(e,i),l=s.magnitude(s.sub(e,i)),h=.5*(i.x+e.x),c=.5*(i.y+e.y),d=o.rectangle(h,c,l,a,{angle:n}),u=r.collides(d,t),p=0;p<u.length;p+=1){var m=u[p];m.body=m.bodyB=m.bodyA}return u},r.region=function(t,e,i){for(var r=[],s=0;s<t.length;s++){var a=t[s],o=n.overlaps(a.bounds,e);(o&&!i||!o&&i)&&r.push(a)}return r},r.point=function(t,e){for(var i=[],r=0;r<t.length;r++){var s=t[r];if(n.contains(s.bounds,e))for(var a=1===s.parts.length?0:1;a<s.parts.length;a++){var o=s.parts[a];if(n.contains(o.bounds,e)&&l.contains(o.vertices,e)){i.push(s);break}}}return i}},function(t,e,i){var r={};t.exports=r;var s=i(4),a=i(0),n=i(6),o=i(1),l=i(5),h=i(2),c=i(14);!function(){var t,e;"undefined"!=typeof window&&(t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(function(){t(a.now())},1e3/60)},e=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),r._goodFps=30,r._goodDelta=1e3/60,r.create=function(t){var e={engine:null,element:null,canvas:null,mouse:null,frameRequestId:null,timing:{historySize:60,delta:0,deltaHistory:[],lastTime:0,lastTimestamp:0,lastElapsed:0,timestampElapsed:0,timestampElapsedHistory:[],engineDeltaHistory:[],engineElapsedHistory:[],engineUpdatesHistory:[],elapsedHistory:[]},options:{width:800,height:600,pixelRatio:1,background:"#14151f",wireframeBackground:"#14151f",wireframeStrokeStyle:"#bbb",hasBounds:!!t.bounds,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showStats:!1,showPerformance:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showSeparations:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showVertexNumbers:!1,showConvexHulls:!1,showInternalEdges:!1,showMousePosition:!1}},i=a.extend(e,t);return i.canvas&&(i.canvas.width=i.options.width||i.canvas.width,i.canvas.height=i.options.height||i.canvas.height),i.mouse=t.mouse,i.engine=t.engine,i.canvas=i.canvas||u(i.options.width,i.options.height),i.context=i.canvas.getContext("2d"),i.textures={},i.bounds=i.bounds||{min:{x:0,y:0},max:{x:i.canvas.width,y:i.canvas.height}},i.controller=r,i.options.showBroadphase=!1,1!==i.options.pixelRatio&&r.setPixelRatio(i,i.options.pixelRatio),a.isElement(i.element)&&i.element.appendChild(i.canvas),i},r.run=function(e){!function s(a){e.frameRequestId=t(s),i(e,a),r.world(e,a),e.context.setTransform(e.options.pixelRatio,0,0,e.options.pixelRatio,0,0),(e.options.showStats||e.options.showDebug)&&r.stats(e,e.context,a),(e.options.showPerformance||e.options.showDebug)&&r.performance(e,e.context,a),e.context.setTransform(1,0,0,1,0,0)}()},r.stop=function(t){e(t.frameRequestId)},r.setPixelRatio=function(t,e){var i=t.options,r=t.canvas;"auto"===e&&(e=p(r)),i.pixelRatio=e,r.setAttribute("data-pixel-ratio",e),r.width=i.width*e,r.height=i.height*e,r.style.width=i.width+"px",r.style.height=i.height+"px"},r.setSize=function(t,e,i){t.options.width=e,t.options.height=i,t.bounds.max.x=t.bounds.min.x+e,t.bounds.max.y=t.bounds.min.y+i,1!==t.options.pixelRatio?r.setPixelRatio(t,t.options.pixelRatio):(t.canvas.width=e,t.canvas.height=i)},r.lookAt=function(t,e,i,r){r=void 0===r||r,e=a.isArray(e)?e:[e],i=i||{x:0,y:0};for(var s={min:{x:1/0,y:1/0},max:{x:-1/0,y:-1/0}},n=0;n<e.length;n+=1){var o=e[n],l=o.bounds?o.bounds.min:o.min||o.position||o,h=o.bounds?o.bounds.max:o.max||o.position||o;l&&h&&(l.x<s.min.x&&(s.min.x=l.x),h.x>s.max.x&&(s.max.x=h.x),l.y<s.min.y&&(s.min.y=l.y),h.y>s.max.y&&(s.max.y=h.y))}var d=s.max.x-s.min.x+2*i.x,u=s.max.y-s.min.y+2*i.y,p=t.canvas.height,m=t.canvas.width/p,f=d/u,g=1,b=1;f>m?b=f/m:g=m/f,t.options.hasBounds=!0,t.bounds.min.x=s.min.x,t.bounds.max.x=s.min.x+d*g,t.bounds.min.y=s.min.y,t.bounds.max.y=s.min.y+u*b,r&&(t.bounds.min.x+=.5*d-d*g*.5,t.bounds.max.x+=.5*d-d*g*.5,t.bounds.min.y+=.5*u-u*b*.5,t.bounds.max.y+=.5*u-u*b*.5),t.bounds.min.x-=i.x,t.bounds.max.x-=i.x,t.bounds.min.y-=i.y,t.bounds.max.y-=i.y,t.mouse&&(c.setScale(t.mouse,{x:(t.bounds.max.x-t.bounds.min.x)/t.canvas.width,y:(t.bounds.max.y-t.bounds.min.y)/t.canvas.height}),c.setOffset(t.mouse,t.bounds.min))},r.startViewTransform=function(t){var e=t.bounds.max.x-t.bounds.min.x,i=t.bounds.max.y-t.bounds.min.y,r=e/t.options.width,s=i/t.options.height;t.context.setTransform(t.options.pixelRatio/r,0,0,t.options.pixelRatio/s,0,0),t.context.translate(-t.bounds.min.x,-t.bounds.min.y)},r.endViewTransform=function(t){t.context.setTransform(t.options.pixelRatio,0,0,t.options.pixelRatio,0,0)},r.world=function(t,e){var i,s=a.now(),d=t.engine,u=d.world,p=t.canvas,m=t.context,g=t.options,b=t.timing,y=n.allBodies(u),v=n.allConstraints(u),x=g.wireframes?g.wireframeBackground:g.background,w=[],_=[],k={timestamp:d.timing.timestamp};if(l.trigger(t,"beforeRender",k),t.currentBackground!==x&&f(t,x),m.globalCompositeOperation="source-in",m.fillStyle="transparent",m.fillRect(0,0,p.width,p.height),m.globalCompositeOperation="source-over",g.hasBounds){for(i=0;i<y.length;i++){var S=y[i];o.overlaps(S.bounds,t.bounds)&&w.push(S)}for(i=0;i<v.length;i++){var C=v[i],A=C.bodyA,T=C.bodyB,M=C.pointA,B=C.pointB;A&&(M=h.add(A.position,C.pointA)),T&&(B=h.add(T.position,C.pointB)),M&&B&&(o.contains(t.bounds,M)||o.contains(t.bounds,B))&&_.push(C)}r.startViewTransform(t),t.mouse&&(c.setScale(t.mouse,{x:(t.bounds.max.x-t.bounds.min.x)/t.options.width,y:(t.bounds.max.y-t.bounds.min.y)/t.options.height}),c.setOffset(t.mouse,t.bounds.min))}else _=v,w=y,1!==t.options.pixelRatio&&t.context.setTransform(t.options.pixelRatio,0,0,t.options.pixelRatio,0,0);!g.wireframes||d.enableSleeping&&g.showSleeping?r.bodies(t,w,m):(g.showConvexHulls&&r.bodyConvexHulls(t,w,m),r.bodyWireframes(t,w,m)),g.showBounds&&r.bodyBounds(t,w,m),(g.showAxes||g.showAngleIndicator)&&r.bodyAxes(t,w,m),g.showPositions&&r.bodyPositions(t,w,m),g.showVelocity&&r.bodyVelocity(t,w,m),g.showIds&&r.bodyIds(t,w,m),g.showSeparations&&r.separations(t,d.pairs.list,m),g.showCollisions&&r.collisions(t,d.pairs.list,m),g.showVertexNumbers&&r.vertexNumbers(t,w,m),g.showMousePosition&&r.mousePosition(t,t.mouse,m),r.constraints(_,m),g.hasBounds&&r.endViewTransform(t),l.trigger(t,"afterRender",k),b.lastElapsed=a.now()-s},r.stats=function(t,e,i){for(var r=t.engine,s=r.world,a=n.allBodies(s),o=0,l=0,h=0;h<a.length;h+=1)o+=a[h].parts.length;var c={Part:o,Body:a.length,Cons:n.allConstraints(s).length,Comp:n.allComposites(s).length,Pair:r.pairs.list.length};for(var d in e.fillStyle="#0e0f19",e.fillRect(l,0,302.5,44),e.font="12px Arial",e.textBaseline="top",e.textAlign="right",c){var u=c[d];e.fillStyle="#aaa",e.fillText(d,l+55,8),e.fillStyle="#eee",e.fillText(u,l+55,26),l+=55}},r.performance=function(t,e){var i=t.engine,s=t.timing,n=s.deltaHistory,o=s.elapsedHistory,l=s.timestampElapsedHistory,h=s.engineDeltaHistory,c=s.engineUpdatesHistory,u=s.engineElapsedHistory,p=i.timing.lastUpdatesPerFrame,m=i.timing.lastDelta,f=d(n),g=d(o),b=d(h),y=d(c),v=d(u),x=d(l)/f||0,w=Math.round(f/m),_=1e3/f||0,k=60,S=69;e.fillStyle="#0e0f19",e.fillRect(0,50,442,34),r.status(e,10,S,k,4,n.length,Math.round(_)+" fps",_/r._goodFps,function(t){return n[t]/f-1}),r.status(e,82,S,k,4,h.length,m.toFixed(2)+" dt",r._goodDelta/m,function(t){return h[t]/b-1}),r.status(e,154,S,k,4,c.length,p+" upf",Math.pow(a.clamp(y/w||1,0,1),4),function(t){return c[t]/y-1}),r.status(e,226,S,k,4,u.length,v.toFixed(2)+" ut",1-p*v/r._goodFps,function(t){return u[t]/v-1}),r.status(e,298,S,k,4,o.length,g.toFixed(2)+" rt",1-g/r._goodFps,function(t){return o[t]/g-1}),r.status(e,370,S,k,4,l.length,x.toFixed(2)+" x",x*x*x,function(t){return(l[t]/n[t]/x||0)-1})},r.status=function(t,e,i,r,s,n,o,l,h){t.strokeStyle="#888",t.fillStyle="#444",t.lineWidth=1,t.fillRect(e,i+7,r,1),t.beginPath(),t.moveTo(e,i+7-s*a.clamp(.4*h(0),-2,2));for(var c=0;c<r;c+=1)t.lineTo(e+c,i+7-(c<n?s*a.clamp(.4*h(c),-2,2):0));t.stroke(),t.fillStyle="hsl("+a.clamp(25+95*l,0,120)+",100%,60%)",t.fillRect(e,i-7,4,4),t.font="12px Arial",t.textBaseline="middle",t.textAlign="right",t.fillStyle="#eee",t.fillText(o,e+r,i-5)},r.constraints=function(t,e){for(var i=e,r=0;r<t.length;r++){var s=t[r];if(s.render.visible&&s.pointA&&s.pointB){var n,o,l=s.bodyA,c=s.bodyB;if(n=l?h.add(l.position,s.pointA):s.pointA,"pin"===s.render.type)i.beginPath(),i.arc(n.x,n.y,3,0,2*Math.PI),i.closePath();else{if(o=c?h.add(c.position,s.pointB):s.pointB,i.beginPath(),i.moveTo(n.x,n.y),"spring"===s.render.type)for(var d,u=h.sub(o,n),p=h.perp(h.normalise(u)),m=Math.ceil(a.clamp(s.length/5,12,20)),f=1;f<m;f+=1)d=f%2==0?1:-1,i.lineTo(n.x+u.x*(f/m)+p.x*d*4,n.y+u.y*(f/m)+p.y*d*4);i.lineTo(o.x,o.y)}s.render.lineWidth&&(i.lineWidth=s.render.lineWidth,i.strokeStyle=s.render.strokeStyle,i.stroke()),s.render.anchors&&(i.fillStyle=s.render.strokeStyle,i.beginPath(),i.arc(n.x,n.y,3,0,2*Math.PI),i.arc(o.x,o.y,3,0,2*Math.PI),i.closePath(),i.fill())}}},r.bodies=function(t,e,i){var r,s,a,n,o=i,l=(t.engine,t.options),h=l.showInternalEdges||!l.wireframes;for(a=0;a<e.length;a++)if((r=e[a]).render.visible)for(n=r.parts.length>1?1:0;n<r.parts.length;n++)if((s=r.parts[n]).render.visible){if(l.showSleeping&&r.isSleeping?o.globalAlpha=.5*s.render.opacity:1!==s.render.opacity&&(o.globalAlpha=s.render.opacity),s.render.sprite&&s.render.sprite.texture&&!l.wireframes){var c=s.render.sprite,d=m(t,c.texture);o.translate(s.position.x,s.position.y),o.rotate(s.angle),o.drawImage(d,d.width*-c.xOffset*c.xScale,d.height*-c.yOffset*c.yScale,d.width*c.xScale,d.height*c.yScale),o.rotate(-s.angle),o.translate(-s.position.x,-s.position.y)}else{if(s.circleRadius)o.beginPath(),o.arc(s.position.x,s.position.y,s.circleRadius,0,2*Math.PI);else{o.beginPath(),o.moveTo(s.vertices[0].x,s.vertices[0].y);for(var u=1;u<s.vertices.length;u++)!s.vertices[u-1].isInternal||h?o.lineTo(s.vertices[u].x,s.vertices[u].y):o.moveTo(s.vertices[u].x,s.vertices[u].y),s.vertices[u].isInternal&&!h&&o.moveTo(s.vertices[(u+1)%s.vertices.length].x,s.vertices[(u+1)%s.vertices.length].y);o.lineTo(s.vertices[0].x,s.vertices[0].y),o.closePath()}l.wireframes?(o.lineWidth=1,o.strokeStyle=t.options.wireframeStrokeStyle,o.stroke()):(o.fillStyle=s.render.fillStyle,s.render.lineWidth&&(o.lineWidth=s.render.lineWidth,o.strokeStyle=s.render.strokeStyle,o.stroke()),o.fill())}o.globalAlpha=1}},r.bodyWireframes=function(t,e,i){var r,s,a,n,o,l=i,h=t.options.showInternalEdges;for(l.beginPath(),a=0;a<e.length;a++)if((r=e[a]).render.visible)for(o=r.parts.length>1?1:0;o<r.parts.length;o++){for(s=r.parts[o],l.moveTo(s.vertices[0].x,s.vertices[0].y),n=1;n<s.vertices.length;n++)!s.vertices[n-1].isInternal||h?l.lineTo(s.vertices[n].x,s.vertices[n].y):l.moveTo(s.vertices[n].x,s.vertices[n].y),s.vertices[n].isInternal&&!h&&l.moveTo(s.vertices[(n+1)%s.vertices.length].x,s.vertices[(n+1)%s.vertices.length].y);l.lineTo(s.vertices[0].x,s.vertices[0].y)}l.lineWidth=1,l.strokeStyle=t.options.wireframeStrokeStyle,l.stroke()},r.bodyConvexHulls=function(t,e,i){var r,s,a,n=i;for(n.beginPath(),s=0;s<e.length;s++)if((r=e[s]).render.visible&&1!==r.parts.length){for(n.moveTo(r.vertices[0].x,r.vertices[0].y),a=1;a<r.vertices.length;a++)n.lineTo(r.vertices[a].x,r.vertices[a].y);n.lineTo(r.vertices[0].x,r.vertices[0].y)}n.lineWidth=1,n.strokeStyle="rgba(255,255,255,0.2)",n.stroke()},r.vertexNumbers=function(t,e,i){var r,s,a,n=i;for(r=0;r<e.length;r++){var o=e[r].parts;for(a=o.length>1?1:0;a<o.length;a++){var l=o[a];for(s=0;s<l.vertices.length;s++)n.fillStyle="rgba(255,255,255,0.2)",n.fillText(r+"_"+s,l.position.x+.8*(l.vertices[s].x-l.position.x),l.position.y+.8*(l.vertices[s].y-l.position.y))}}},r.mousePosition=function(t,e,i){var r=i;r.fillStyle="rgba(255,255,255,0.8)",r.fillText(e.position.x+"  "+e.position.y,e.position.x+5,e.position.y-5)},r.bodyBounds=function(t,e,i){var r=i,s=(t.engine,t.options);r.beginPath();for(var a=0;a<e.length;a++)if(e[a].render.visible)for(var n=e[a].parts,o=n.length>1?1:0;o<n.length;o++){var l=n[o];r.rect(l.bounds.min.x,l.bounds.min.y,l.bounds.max.x-l.bounds.min.x,l.bounds.max.y-l.bounds.min.y)}s.wireframes?r.strokeStyle="rgba(255,255,255,0.08)":r.strokeStyle="rgba(0,0,0,0.1)",r.lineWidth=1,r.stroke()},r.bodyAxes=function(t,e,i){var r,s,a,n,o=i,l=(t.engine,t.options);for(o.beginPath(),s=0;s<e.length;s++){var h=e[s],c=h.parts;if(h.render.visible)if(l.showAxes)for(a=c.length>1?1:0;a<c.length;a++)for(r=c[a],n=0;n<r.axes.length;n++){var d=r.axes[n];o.moveTo(r.position.x,r.position.y),o.lineTo(r.position.x+20*d.x,r.position.y+20*d.y)}else for(a=c.length>1?1:0;a<c.length;a++)for(r=c[a],n=0;n<r.axes.length;n++)o.moveTo(r.position.x,r.position.y),o.lineTo((r.vertices[0].x+r.vertices[r.vertices.length-1].x)/2,(r.vertices[0].y+r.vertices[r.vertices.length-1].y)/2)}l.wireframes?(o.strokeStyle="indianred",o.lineWidth=1):(o.strokeStyle="rgba(255, 255, 255, 0.4)",o.globalCompositeOperation="overlay",o.lineWidth=2),o.stroke(),o.globalCompositeOperation="source-over"},r.bodyPositions=function(t,e,i){var r,s,a,n,o=i,l=(t.engine,t.options);for(o.beginPath(),a=0;a<e.length;a++)if((r=e[a]).render.visible)for(n=0;n<r.parts.length;n++)s=r.parts[n],o.arc(s.position.x,s.position.y,3,0,2*Math.PI,!1),o.closePath();for(l.wireframes?o.fillStyle="indianred":o.fillStyle="rgba(0,0,0,0.5)",o.fill(),o.beginPath(),a=0;a<e.length;a++)(r=e[a]).render.visible&&(o.arc(r.positionPrev.x,r.positionPrev.y,2,0,2*Math.PI,!1),o.closePath());o.fillStyle="rgba(255,165,0,0.8)",o.fill()},r.bodyVelocity=function(t,e,i){var r=i;r.beginPath();for(var a=0;a<e.length;a++){var n=e[a];if(n.render.visible){var o=s.getVelocity(n);r.moveTo(n.position.x,n.position.y),r.lineTo(n.position.x+o.x,n.position.y+o.y)}}r.lineWidth=3,r.strokeStyle="cornflowerblue",r.stroke()},r.bodyIds=function(t,e,i){var r,s,a=i;for(r=0;r<e.length;r++)if(e[r].render.visible){var n=e[r].parts;for(s=n.length>1?1:0;s<n.length;s++){var o=n[s];a.font="12px Arial",a.fillStyle="rgba(255,255,255,0.5)",a.fillText(o.id,o.position.x+10,o.position.y-10)}}},r.collisions=function(t,e,i){var r,s,a,n,o=i,l=t.options;for(o.beginPath(),a=0;a<e.length;a++)if((r=e[a]).isActive)for(s=r.collision,n=0;n<r.contactCount;n++){var h=r.contacts[n].vertex;o.rect(h.x-1.5,h.y-1.5,3.5,3.5)}for(l.wireframes?o.fillStyle="rgba(255,255,255,0.7)":o.fillStyle="orange",o.fill(),o.beginPath(),a=0;a<e.length;a++)if((r=e[a]).isActive&&(s=r.collision,r.contactCount>0)){var c=r.contacts[0].vertex.x,d=r.contacts[0].vertex.y;2===r.contactCount&&(c=(r.contacts[0].vertex.x+r.contacts[1].vertex.x)/2,d=(r.contacts[0].vertex.y+r.contacts[1].vertex.y)/2),s.bodyB===s.supports[0].body||!0===s.bodyA.isStatic?o.moveTo(c-8*s.normal.x,d-8*s.normal.y):o.moveTo(c+8*s.normal.x,d+8*s.normal.y),o.lineTo(c,d)}l.wireframes?o.strokeStyle="rgba(255,165,0,0.7)":o.strokeStyle="orange",o.lineWidth=1,o.stroke()},r.separations=function(t,e,i){var r,s,a,n,o,l=i,h=t.options;for(l.beginPath(),o=0;o<e.length;o++)if((r=e[o]).isActive){a=(s=r.collision).bodyA;var c=1;(n=s.bodyB).isStatic||a.isStatic||(c=.5),n.isStatic&&(c=0),l.moveTo(n.position.x,n.position.y),l.lineTo(n.position.x-s.penetration.x*c,n.position.y-s.penetration.y*c),c=1,n.isStatic||a.isStatic||(c=.5),a.isStatic&&(c=0),l.moveTo(a.position.x,a.position.y),l.lineTo(a.position.x+s.penetration.x*c,a.position.y+s.penetration.y*c)}h.wireframes?l.strokeStyle="rgba(255,165,0,0.5)":l.strokeStyle="orange",l.stroke()},r.inspector=function(t,e){t.engine;var i,r=t.selected,s=t.render,a=s.options;if(a.hasBounds){var n=s.bounds.max.x-s.bounds.min.x,o=s.bounds.max.y-s.bounds.min.y,l=n/s.options.width,h=o/s.options.height;e.scale(1/l,1/h),e.translate(-s.bounds.min.x,-s.bounds.min.y)}for(var c=0;c<r.length;c++){var d=r[c].data;switch(e.translate(.5,.5),e.lineWidth=1,e.strokeStyle="rgba(255,165,0,0.9)",e.setLineDash([1,2]),d.type){case"body":i=d.bounds,e.beginPath(),e.rect(Math.floor(i.min.x-3),Math.floor(i.min.y-3),Math.floor(i.max.x-i.min.x+6),Math.floor(i.max.y-i.min.y+6)),e.closePath(),e.stroke();break;case"constraint":var u=d.pointA;d.bodyA&&(u=d.pointB),e.beginPath(),e.arc(u.x,u.y,10,0,2*Math.PI),e.closePath(),e.stroke()}e.setLineDash([]),e.translate(-.5,-.5)}null!==t.selectStart&&(e.translate(.5,.5),e.lineWidth=1,e.strokeStyle="rgba(255,165,0,0.6)",e.fillStyle="rgba(255,165,0,0.1)",i=t.selectBounds,e.beginPath(),e.rect(Math.floor(i.min.x),Math.floor(i.min.y),Math.floor(i.max.x-i.min.x),Math.floor(i.max.y-i.min.y)),e.closePath(),e.stroke(),e.fill(),e.translate(-.5,-.5)),a.hasBounds&&e.setTransform(1,0,0,1,0,0)};var i=function(t,e){var i=t.engine,s=t.timing,a=s.historySize,n=i.timing.timestamp;s.delta=e-s.lastTime||r._goodDelta,s.lastTime=e,s.timestampElapsed=n-s.lastTimestamp||0,s.lastTimestamp=n,s.deltaHistory.unshift(s.delta),s.deltaHistory.length=Math.min(s.deltaHistory.length,a),s.engineDeltaHistory.unshift(i.timing.lastDelta),s.engineDeltaHistory.length=Math.min(s.engineDeltaHistory.length,a),s.timestampElapsedHistory.unshift(s.timestampElapsed),s.timestampElapsedHistory.length=Math.min(s.timestampElapsedHistory.length,a),s.engineUpdatesHistory.unshift(i.timing.lastUpdatesPerFrame),s.engineUpdatesHistory.length=Math.min(s.engineUpdatesHistory.length,a),s.engineElapsedHistory.unshift(i.timing.lastElapsed),s.engineElapsedHistory.length=Math.min(s.engineElapsedHistory.length,a),s.elapsedHistory.unshift(s.lastElapsed),s.elapsedHistory.length=Math.min(s.elapsedHistory.length,a)},d=function(t){for(var e=0,i=0;i<t.length;i+=1)e+=t[i];return e/t.length||0},u=function(t,e){var i=document.createElement("canvas");return i.width=t,i.height=e,i.oncontextmenu=function(){return!1},i.onselectstart=function(){return!1},i},p=function(t){var e=t.getContext("2d");return(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)},m=function(t,e){var i=t.textures[e];return i||((i=t.textures[e]=new Image).src=e,i)},f=function(t,e){var i=e;/(jpg|gif|png)$/.test(e)&&(i="url("+e+")"),t.canvas.style.background=i,t.canvas.style.backgroundSize="contain",t.currentBackground=e}}()},function(t,e,i){var r={};t.exports=r;var s=i(5),a=i(17),n=i(0);!function(){r._maxFrameDelta=1e3/15,r._frameDeltaFallback=1e3/60,r._timeBufferMargin=1.5,r._elapsedNextEstimate=1,r._smoothingLowerBound=.1,r._smoothingUpperBound=.9,r.create=function(t){var e=n.extend({delta:1e3/60,frameDelta:null,frameDeltaSmoothing:!0,frameDeltaSnapping:!0,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:1e3/30,lastUpdatesDeferred:0,enabled:!0},t);return e.fps=0,e},r.run=function(t,e){return t.timeBuffer=r._frameDeltaFallback,function i(s){t.frameRequestId=r._onNextFrame(t,i),s&&t.enabled&&r.tick(t,e,s)}(),t},r.tick=function(e,i,o){var l=n.now(),h=e.delta,c=0,d=o-e.timeLastTick;if((!d||!e.timeLastTick||d>Math.max(r._maxFrameDelta,e.maxFrameTime))&&(d=e.frameDelta||r._frameDeltaFallback),e.frameDeltaSmoothing){e.frameDeltaHistory.push(d),e.frameDeltaHistory=e.frameDeltaHistory.slice(-e.frameDeltaHistorySize);var u=e.frameDeltaHistory.slice(0).sort(),p=e.frameDeltaHistory.slice(u.length*r._smoothingLowerBound,u.length*r._smoothingUpperBound);d=t(p)||d}e.frameDeltaSnapping&&(d=1e3/Math.round(1e3/d)),e.frameDelta=d,e.timeLastTick=o,e.timeBuffer+=e.frameDelta,e.timeBuffer=n.clamp(e.timeBuffer,0,e.frameDelta+h*r._timeBufferMargin),e.lastUpdatesDeferred=0;var m=e.maxUpdates||Math.ceil(e.maxFrameTime/h),f={timestamp:i.timing.timestamp};s.trigger(e,"beforeTick",f),s.trigger(e,"tick",f);for(var g=n.now();h>0&&e.timeBuffer>=h*r._timeBufferMargin;){s.trigger(e,"beforeUpdate",f),a.update(i,h),s.trigger(e,"afterUpdate",f),e.timeBuffer-=h,c+=1;var b=n.now()-l,y=n.now()-g,v=b+r._elapsedNextEstimate*y/c;if(c>=m||v>e.maxFrameTime){e.lastUpdatesDeferred=Math.round(Math.max(0,e.timeBuffer/h-r._timeBufferMargin));break}}i.timing.lastUpdatesPerFrame=c,s.trigger(e,"afterTick",f),e.frameDeltaHistory.length>=100&&(e.lastUpdatesDeferred&&Math.round(e.frameDelta/h)>m?n.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs."):e.lastUpdatesDeferred&&n.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."),void 0!==e.isFixed&&n.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."),(e.deltaMin||e.deltaMax)&&n.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."),0!==e.fps&&n.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs."))},r.stop=function(t){r._cancelNextFrame(t)},r._onNextFrame=function(t,e){if("undefined"==typeof window||!window.requestAnimationFrame)throw new Error("Matter.Runner: missing required global window.requestAnimationFrame.");return t.frameRequestId=window.requestAnimationFrame(e),t.frameRequestId},r._cancelNextFrame=function(t){if("undefined"==typeof window||!window.cancelAnimationFrame)throw new Error("Matter.Runner: missing required global window.cancelAnimationFrame.");window.cancelAnimationFrame(t.frameRequestId)};var t=function(t){for(var e=0,i=t.length,r=0;r<i;r+=1)e+=t[r];return e/i||0}}()},function(t,e,i){var r={};t.exports=r;var s=i(8),a=i(0).deprecated;r.collides=function(t,e){return s.collides(t,e)},a(r,"collides","SAT.collides ➤ replaced by Collision.collides")},function(t,e,i){var r={};t.exports=r,i(1);var s=i(0);r.pathToVertices=function(t,e){"undefined"==typeof window||"SVGPathSeg"in window||s.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var i,a,n,o,l,h,c,d,u,p,m,f=[],g=0,b=0,y=0;e=e||15;var v=function(t,e,i){var r=i%2==1&&i>1;if(!u||t!=u.x||e!=u.y){u&&r?(p=u.x,m=u.y):(p=0,m=0);var s={x:p+t,y:m+e};!r&&u||(u=s),f.push(s),b=p+t,y=m+e}},x=function(t){var e=t.pathSegTypeAsLetter.toUpperCase();if("Z"!==e){switch(e){case"M":case"L":case"T":case"C":case"S":case"Q":b=t.x,y=t.y;break;case"H":b=t.x;break;case"V":y=t.y}v(b,y,t.pathSegType)}};for(r._svgPathToAbsolute(t),n=t.getTotalLength(),h=[],i=0;i<t.pathSegList.numberOfItems;i+=1)h.push(t.pathSegList.getItem(i));for(c=h.concat();g<n;){if((l=h[t.getPathSegAtLength(g)])!=d){for(;c.length&&c[0]!=l;)x(c.shift());d=l}switch(l.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":o=t.getPointAtLength(g),v(o.x,o.y,0)}g+=e}for(i=0,a=c.length;i<a;++i)x(c[i]);return f},r._svgPathToAbsolute=function(t){for(var e,i,r,s,a,n,o=t.pathSegList,l=0,h=0,c=o.numberOfItems,d=0;d<c;++d){var u=o.getItem(d),p=u.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(p))"x"in u&&(l=u.x),"y"in u&&(h=u.y);else switch("x1"in u&&(r=l+u.x1),"x2"in u&&(a=l+u.x2),"y1"in u&&(s=h+u.y1),"y2"in u&&(n=h+u.y2),"x"in u&&(l+=u.x),"y"in u&&(h+=u.y),p){case"m":o.replaceItem(t.createSVGPathSegMovetoAbs(l,h),d);break;case"l":o.replaceItem(t.createSVGPathSegLinetoAbs(l,h),d);break;case"h":o.replaceItem(t.createSVGPathSegLinetoHorizontalAbs(l),d);break;case"v":o.replaceItem(t.createSVGPathSegLinetoVerticalAbs(h),d);break;case"c":o.replaceItem(t.createSVGPathSegCurvetoCubicAbs(l,h,r,s,a,n),d);break;case"s":o.replaceItem(t.createSVGPathSegCurvetoCubicSmoothAbs(l,h,a,n),d);break;case"q":o.replaceItem(t.createSVGPathSegCurvetoQuadraticAbs(l,h,r,s),d);break;case"t":o.replaceItem(t.createSVGPathSegCurvetoQuadraticSmoothAbs(l,h),d);break;case"a":o.replaceItem(t.createSVGPathSegArcAbs(l,h,u.r1,u.r2,u.angle,u.largeArcFlag,u.sweepFlag),d);break;case"z":case"Z":l=e,h=i}"M"!=p&&"m"!=p||(e=l,i=h)}}},function(t,e,i){var r={};t.exports=r;var s=i(6);i(0),r.create=s.create,r.add=s.add,r.remove=s.remove,r.clear=s.clear,r.addComposite=s.addComposite,r.addBody=s.addBody,r.addConstraint=s.addConstraint}])},t.exports=r()},88096:(t,e,i)=>{"use strict";i.d(e,{M:()=>a});var r=i(32025);const s=[new r.b,new r.b,new r.b,new r.b];class a{constructor(t=0,e=0,i=0,r=0){this.type="rectangle",this.x=Number(t),this.y=Number(e),this.width=Number(i),this.height=Number(r)}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}isEmpty(){return this.left===this.right||this.top===this.bottom}static get EMPTY(){return new a(0,0,0,0)}clone(){return new a(this.x,this.y,this.width,this.height)}copyFromBounds(t){return this.x=t.minX,this.y=t.minY,this.width=t.maxX-t.minX,this.height=t.maxY-t.minY,this}copyFrom(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this}copyTo(t){return t.copyFrom(this),t}contains(t,e){return!(this.width<=0||this.height<=0)&&t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height}strokeContains(t,e,i,r=.5){const{width:s,height:a}=this;if(s<=0||a<=0)return!1;const n=this.x,o=this.y,l=i*(1-r),h=i-l;return t>=n-l&&t<=n+s+l&&e>=o-l&&e<=o+a+l&&!(t>n+h&&t<n+s-h&&e>o+h&&e<o+a-h)}intersects(t,e){if(!e){const e=this.x<t.x?t.x:this.x;if((this.right>t.right?t.right:this.right)<=e)return!1;const i=this.y<t.y?t.y:this.y;return(this.bottom>t.bottom?t.bottom:this.bottom)>i}const i=this.left,r=this.right,a=this.top,n=this.bottom;if(r<=i||n<=a)return!1;const o=s[0].set(t.left,t.top),l=s[1].set(t.left,t.bottom),h=s[2].set(t.right,t.top),c=s[3].set(t.right,t.bottom);if(h.x<=o.x||l.y<=o.y)return!1;const d=Math.sign(e.a*e.d-e.b*e.c);if(0===d)return!1;if(e.apply(o,o),e.apply(l,l),e.apply(h,h),e.apply(c,c),Math.max(o.x,l.x,h.x,c.x)<=i||Math.min(o.x,l.x,h.x,c.x)>=r||Math.max(o.y,l.y,h.y,c.y)<=a||Math.min(o.y,l.y,h.y,c.y)>=n)return!1;const u=d*(l.y-o.y),p=d*(o.x-l.x),m=u*i+p*a,f=u*r+p*a,g=u*i+p*n,b=u*r+p*n;if(Math.max(m,f,g,b)<=u*o.x+p*o.y||Math.min(m,f,g,b)>=u*c.x+p*c.y)return!1;const y=d*(o.y-h.y),v=d*(h.x-o.x),x=y*i+v*a,w=y*r+v*a,_=y*i+v*n,k=y*r+v*n;return!(Math.max(x,w,_,k)<=y*o.x+v*o.y||Math.min(x,w,_,k)>=y*c.x+v*c.y)}pad(t=0,e=t){return this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e,this}fit(t){const e=Math.max(this.x,t.x),i=Math.min(this.x+this.width,t.x+t.width),r=Math.max(this.y,t.y),s=Math.min(this.y+this.height,t.y+t.height);return this.x=e,this.width=Math.max(i-e,0),this.y=r,this.height=Math.max(s-r,0),this}ceil(t=1,e=.001){const i=Math.ceil((this.x+this.width-e)*t)/t,r=Math.ceil((this.y+this.height-e)*t)/t;return this.x=Math.floor((this.x+e)*t)/t,this.y=Math.floor((this.y+e)*t)/t,this.width=i-this.x,this.height=r-this.y,this}scale(t,e=t){return this.x*=t,this.y*=e,this.width*=t,this.height*=e,this}enlarge(t){const e=Math.min(this.x,t.x),i=Math.max(this.x+this.width,t.x+t.width),r=Math.min(this.y,t.y),s=Math.max(this.y+this.height,t.y+t.height);return this.x=e,this.width=i-e,this.y=r,this.height=s-r,this}getBounds(t){return t||(t=new a),t.copyFrom(this),t}containsRect(t){if(this.width<=0||this.height<=0)return!1;const e=t.x,i=t.y,r=t.x+t.width,s=t.y+t.height;return e>=this.x&&e<this.x+this.width&&i>=this.y&&i<this.y+this.height&&r>=this.x&&r<this.x+this.width&&s>=this.y&&s<this.y+this.height}set(t,e,i,r){return this.x=t,this.y=e,this.width=i,this.height=r,this}toString(){return`[pixi.js/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}},88270:(t,e,i)=>{"use strict";i.d(e,{i:()=>v});var r=i(80753),s=i(3648),a=i(98610),n=i(38420),o=i(61667),l=i(37632),h=i(27932);let c=null;class d{constructor(){this.ids=Object.create(null),this.textures=[],this.count=0}clear(){for(let t=0;t<this.count;t++){const e=this.textures[t];this.textures[t]=null,this.ids[e.uid]=null}this.count=0}}class u{constructor(){this.renderPipeId="batch",this.action="startBatch",this.start=0,this.size=0,this.textures=new d,this.blendMode="normal",this.topology="triangle-strip",this.canBundle=!0}destroy(){this.textures=null,this.gpuBindGroup=null,this.bindGroup=null,this.batcher=null}}const p=[];let m=0;function f(){return m>0?p[--m]:new u}function g(t){p[m++]=t}let b=0;const y=class t{constructor(e){this.uid=(0,r.L)("batcher"),this.dirty=!0,this.batchIndex=0,this.batches=[],this._elements=[],(e={...t.defaultOptions,...e}).maxTextures||((0,a.t6)("v8.8.0","maxTextures is a required option for Batcher now, please pass it in the options"),e.maxTextures=function(){if(c)return c;const t=(0,l.W)();return c=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),c=(0,h.u)(c,t),t.getExtension("WEBGL_lose_context")?.loseContext(),c}());const{maxTextures:i,attributesInitialSize:n,indicesInitialSize:o}=e;this.attributeBuffer=new s.u(4*n),this.indexBuffer=new Uint16Array(o),this.maxTextures=i}begin(){this.elementSize=0,this.elementStart=0,this.indexSize=0,this.attributeSize=0;for(let t=0;t<this.batchIndex;t++)g(this.batches[t]);this.batchIndex=0,this._batchIndexStart=0,this._batchIndexSize=0,this.dirty=!0}add(t){this._elements[this.elementSize++]=t,t._indexStart=this.indexSize,t._attributeStart=this.attributeSize,t._batcher=this,this.indexSize+=t.indexSize,this.attributeSize+=t.attributeSize*this.vertexSize}checkAndUpdateTexture(t,e){const i=t._batch.textures.ids[e._source.uid];return!(!i&&0!==i||(t._textureId=i,t.texture=e,0))}updateElement(t){this.dirty=!0;const e=this.attributeBuffer;t.packAsQuad?this.packQuadAttributes(t,e.float32View,e.uint32View,t._attributeStart,t._textureId):this.packAttributes(t,e.float32View,e.uint32View,t._attributeStart,t._textureId)}break(t){const e=this._elements;if(!e[this.elementStart])return;let i=f(),r=i.textures;r.clear();const s=e[this.elementStart];let a=(0,o.i)(s.blendMode,s.texture._source),n=s.topology;4*this.attributeSize>this.attributeBuffer.size&&this._resizeAttributeBuffer(4*this.attributeSize),this.indexSize>this.indexBuffer.length&&this._resizeIndexBuffer(this.indexSize);const l=this.attributeBuffer.float32View,h=this.attributeBuffer.uint32View,c=this.indexBuffer;let d=this._batchIndexSize,u=this._batchIndexStart,p="startBatch";const m=this.maxTextures;for(let s=this.elementStart;s<this.elementSize;++s){const g=e[s];e[s]=null;const y=g.texture._source,v=(0,o.i)(g.blendMode,y),x=a!==v||n!==g.topology;y._batchTick!==b||x?(y._batchTick=b,(r.count>=m||x)&&(this._finishBatch(i,u,d-u,r,a,n,t,p),p="renderBatch",u=d,a=v,n=g.topology,i=f(),r=i.textures,r.clear(),++b),g._textureId=y._textureBindLocation=r.count,r.ids[y.uid]=r.count,r.textures[r.count++]=y,g._batch=i,d+=g.indexSize,g.packAsQuad?(this.packQuadAttributes(g,l,h,g._attributeStart,g._textureId),this.packQuadIndex(c,g._indexStart,g._attributeStart/this.vertexSize)):(this.packAttributes(g,l,h,g._attributeStart,g._textureId),this.packIndex(g,c,g._indexStart,g._attributeStart/this.vertexSize))):(g._textureId=y._textureBindLocation,d+=g.indexSize,g.packAsQuad?(this.packQuadAttributes(g,l,h,g._attributeStart,g._textureId),this.packQuadIndex(c,g._indexStart,g._attributeStart/this.vertexSize)):(this.packAttributes(g,l,h,g._attributeStart,g._textureId),this.packIndex(g,c,g._indexStart,g._attributeStart/this.vertexSize)),g._batch=i)}r.count>0&&(this._finishBatch(i,u,d-u,r,a,n,t,p),u=d,++b),this.elementStart=this.elementSize,this._batchIndexStart=u,this._batchIndexSize=d}_finishBatch(t,e,i,r,s,a,n,o){t.gpuBindGroup=null,t.bindGroup=null,t.action=o,t.batcher=this,t.textures=r,t.blendMode=s,t.topology=a,t.start=e,t.size=i,++b,this.batches[this.batchIndex++]=t,n.add(t)}finish(t){this.break(t)}ensureAttributeBuffer(t){4*t<=this.attributeBuffer.size||this._resizeAttributeBuffer(4*t)}ensureIndexBuffer(t){t<=this.indexBuffer.length||this._resizeIndexBuffer(t)}_resizeAttributeBuffer(t){const e=Math.max(t,2*this.attributeBuffer.size),i=new s.u(e);(0,n.W)(this.attributeBuffer.rawBinaryData,i.rawBinaryData),this.attributeBuffer=i}_resizeIndexBuffer(t){const e=this.indexBuffer;let i=Math.max(t,1.5*e.length);i+=i%2;const r=i>65535?new Uint32Array(i):new Uint16Array(i);if(r.BYTES_PER_ELEMENT!==e.BYTES_PER_ELEMENT)for(let t=0;t<e.length;t++)r[t]=e[t];else(0,n.W)(e.buffer,r.buffer);this.indexBuffer=r}packQuadIndex(t,e,i){t[e]=i+0,t[e+1]=i+1,t[e+2]=i+2,t[e+3]=i+0,t[e+4]=i+2,t[e+5]=i+3}packIndex(t,e,i,r){const s=t.indices,a=t.indexSize,n=t.indexOffset,o=t.attributeOffset;for(let t=0;t<a;t++)e[i++]=r+s[t+n]-o}destroy(){for(let t=0;t<this.batches.length;t++)g(this.batches[t]);this.batches=null;for(let t=0;t<this._elements.length;t++)this._elements[t]._batch=null;this._elements=null,this.indexBuffer=null,this.attributeBuffer.destroy(),this.attributeBuffer=null}};y.defaultOptions={maxTextures:null,attributesInitialSize:4,indicesInitialSize:6};let v=y},89228:(t,e,i)=>{"use strict";i.d(e,{X:()=>a});const r=Object.create(null),s=Object.create(null);function a(t,e){let i=s[t];return void 0===i&&(void 0===r[e]&&(r[e]=1),s[t]=i=r[e]++),i}},89241:(t,e,i)=>{"use strict";i.d(e,{b:()=>a});var r=i(72207),s=i(50619);class a extends s.v{constructor(t){super(t),this.uploadMethodId="image",this.autoGarbageCollect=!0}static test(t){return globalThis.HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap||globalThis.VideoFrame&&t instanceof VideoFrame}}a.extension=r.Ag.TextureSource},89880:(t,e,i)=>{"use strict";i.d(e,{TO:()=>r,Td:()=>a,bO:()=>s});const r=2*Math.PI,s=180/Math.PI,a=Math.PI/180},90375:(t,e,i)=>{"use strict";i.d(e,{P:()=>a});var r=i(72207),s=i(50619);class a extends s.v{constructor(t){const e=t.resource||new Float32Array(t.width*t.height*4);let i=t.format;i||(i=e instanceof Float32Array?"rgba32float":e instanceof Int32Array||e instanceof Uint32Array?"rgba32uint":e instanceof Int16Array||e instanceof Uint16Array?"rgba16uint":(Int8Array,"bgra8unorm")),super({...t,resource:e,format:i}),this.uploadMethodId="buffer"}static test(t){return t instanceof Int8Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array}}a.extension=r.Ag.TextureSource},90896:(t,e,i)=>{"use strict";i.d(e,{r:()=>c});var r=i(98917),s=i(69325),a=i(26873),n=i(63880),o=i(7488),l=i(4970);const h=1e5;function c(t,e,i,c=0){if(t.texture===a.g.WHITE&&!t.fill)return r.Q.shared.setValue(t.color).setAlpha(t.alpha??1).toHexa();if(!t.fill){const i=e.createPattern(t.texture.source.resource,"repeat"),r=t.matrix.copyTo(s.u.shared);return r.scale(t.texture.frame.width,t.texture.frame.height),i.setTransform(r),i}if(t.fill instanceof l.m){const i=t.fill,r=e.createPattern(i.texture.source.resource,"repeat"),a=i.transform.copyTo(s.u.shared);return a.scale(i.texture.frame.width,i.texture.frame.height),r.setTransform(a),r}if(t.fill instanceof o._){const s=t.fill,a="linear"===s.type,n="local"===s.textureSpace;let o,l=1,d=1;n&&i&&(l=i.width+c,d=i.height+c);let u=!1;if(a){const{start:t,end:i}=s;o=e.createLinearGradient(t.x*l,t.y*d,i.x*l,i.y*d),u=Math.abs(i.x-t.x)<Math.abs(.1*(i.y-t.y))}else{const{center:t,innerRadius:i,outerCenter:r,outerRadius:a}=s;o=e.createRadialGradient(t.x*l,t.y*d,i*l,r.x*l,r.y*d,a*l)}if(u&&n&&i){const t=i.lineHeight/d;for(let e=0;e<i.lines.length;e++){const a=(e*i.lineHeight+c/2)/d;s.colorStops.forEach(e=>{const i=a+e.offset*t;o.addColorStop(Math.floor(i*h)/h,r.Q.shared.setValue(e.color).toHex())})}}else s.colorStops.forEach(t=>{o.addColorStop(t.offset,r.Q.shared.setValue(t.color).toHex())});return o}return(0,n.R)("FillStyle not recognised",t),"red"}},91112:(t,e,i)=>{"use strict";i.d(e,{q:()=>n});var r=i(55829),s=i(72207),a=i(50619);class n extends a.v{constructor(t){t.resource||(t.resource=r.e.get().createCanvas()),t.width||(t.width=t.resource.width,t.autoDensity||(t.width/=t.resolution)),t.height||(t.height=t.resource.height,t.autoDensity||(t.height/=t.resolution)),super(t),this.uploadMethodId="image",this.autoDensity=t.autoDensity,this.resizeCanvas(),this.transparent=!!t.transparent}resizeCanvas(){this.autoDensity&&"style"in this.resource&&(this.resource.style.width=`${this.width}px`,this.resource.style.height=`${this.height}px`),this.resource.width===this.pixelWidth&&this.resource.height===this.pixelHeight||(this.resource.width=this.pixelWidth,this.resource.height=this.pixelHeight)}resize(t=this.width,e=this.height,i=this._resolution){const r=super.resize(t,e,i);return r&&this.resizeCanvas(),r}static test(t){return globalThis.HTMLCanvasElement&&t instanceof HTMLCanvasElement||globalThis.OffscreenCanvas&&t instanceof OffscreenCanvas}get context2D(){return this._context2D||(this._context2D=this.resource.getContext("2d"))}}n.extension=s.Ag.TextureSource},92029:(t,e,i)=>{"use strict";i.d(e,{a:()=>r});class r{constructor(){this.pipe="filter",this.priority=1}destroy(){for(let t=0;t<this.filters.length;t++)this.filters[t].destroy();this.filters=null,this.filterArea=null}}},94215:(t,e,i)=>{"use strict";i.d(e,{E:()=>o,f:()=>a});var r=i(69325),s=i(86484);function a(t,e,i){let a,l;return i.clear(),t.parent?e?a=t.parent.worldTransform:(l=s.u.get().identity(),a=o(t,l)):a=r.u.IDENTITY,n(t,i,a,e),l&&s.u.return(l),i.isValid||i.set(0,0,0,0),i}function n(t,e,i,a){if(!t.visible||!t.measurable)return;let o;a?o=t.worldTransform:(t.updateLocalTransform(),o=s.u.get(),o.appendFrom(t.localTransform,i));const l=e,h=!!t.effects.length;if(h&&(e=s.o.get().clear()),t.boundsArea)e.addRect(t.boundsArea,o);else{t.bounds&&(e.matrix=o,e.addBounds(t.bounds));for(let i=0;i<t.children.length;i++)n(t.children[i],e,o,a)}if(h){for(let i=0;i<t.effects.length;i++)t.effects[i].addBounds?.(e);l.addBounds(e,r.u.IDENTITY),s.o.return(e)}a||s.u.return(o)}function o(t,e){const i=t.parent;return i&&(o(i,e),i.updateLocalTransform(),e.append(i.localTransform)),e}},95255:t=>{t.exports=function(t){var s=[];return t.replace(i,function(t,i,a){var n=i.toLowerCase();for(a=function(t){var e=t.match(r);return e?e.map(Number):[]}(a),"m"==n&&a.length>2&&(s.push([i].concat(a.splice(0,2))),n="l",i="m"==i?"l":"L");;){if(a.length==e[n])return a.unshift(i),s.push(a);if(a.length<e[n])throw new Error("malformed path data");s.push([i].concat(a.splice(0,e[n])))}}),s};var e={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},i=/([astvzqmhlc])([^astvzqmhlc]*)/gi,r=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi},95652:(t,e,i)=>{"use strict";function r(t,e,i){const{width:r,height:s}=i.orig,a=i.trim;if(a){const i=a.width,n=a.height;t.minX=a.x-e._x*r,t.maxX=t.minX+i,t.minY=a.y-e._y*s,t.maxY=t.minY+n}else t.minX=-e._x*r,t.maxX=t.minX+r,t.minY=-e._y*s,t.maxY=t.minY+s}i.d(e,{y:()=>r})},98610:(t,e,i)=>{"use strict";i.d(e,{Ek:()=>a,lj:()=>s,t6:()=>n});const r={},s="8.0.0",a="8.3.4";function n(t,e,i=3){if(r[e])return;let s=(new Error).stack;void 0===s?console.warn("PixiJS Deprecation Warning: ",`${e}\nDeprecated since v${t}`):(s=s.split("\n").splice(i).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}\nDeprecated since v${t}`),console.warn(s),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}\nDeprecated since v${t}`),console.warn(s))),r[e]=!0}},98917:(t,e,i)=>{"use strict";i.d(e,{Q:()=>O});var r={grad:.9,turn:360,rad:360/(2*Math.PI)},s=function(t){return"string"==typeof t?t.length>0:"number"==typeof t},a=function(t,e,i){return void 0===e&&(e=0),void 0===i&&(i=Math.pow(10,e)),Math.round(i*t)/i+0},n=function(t,e,i){return void 0===e&&(e=0),void 0===i&&(i=1),t>i?i:t>e?t:e},o=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},l=function(t){return{r:n(t.r,0,255),g:n(t.g,0,255),b:n(t.b,0,255),a:n(t.a)}},h=function(t){return{r:a(t.r),g:a(t.g),b:a(t.b),a:a(t.a,3)}},c=/^#([0-9a-f]{3,8})$/i,d=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},u=function(t){var e=t.r,i=t.g,r=t.b,s=t.a,a=Math.max(e,i,r),n=a-Math.min(e,i,r),o=n?a===e?(i-r)/n:a===i?2+(r-e)/n:4+(e-i)/n:0;return{h:60*(o<0?o+6:o),s:a?n/a*100:0,v:a/255*100,a:s}},p=function(t){var e=t.h,i=t.s,r=t.v,s=t.a;e=e/360*6,i/=100,r/=100;var a=Math.floor(e),n=r*(1-i),o=r*(1-(e-a)*i),l=r*(1-(1-e+a)*i),h=a%6;return{r:255*[r,o,n,n,l,r][h],g:255*[l,r,r,o,n,n][h],b:255*[n,n,l,r,r,o][h],a:s}},m=function(t){return{h:o(t.h),s:n(t.s,0,100),l:n(t.l,0,100),a:n(t.a)}},f=function(t){return{h:a(t.h),s:a(t.s),l:a(t.l),a:a(t.a,3)}},g=function(t){return p((i=(e=t).s,{h:e.h,s:(i*=((r=e.l)<50?r:100-r)/100)>0?2*i/(r+i)*100:0,v:r+i,a:e.a}));var e,i,r},b=function(t){return{h:(e=u(t)).h,s:(s=(200-(i=e.s))*(r=e.v)/100)>0&&s<200?i*r/100/(s<=100?s:200-s)*100:0,l:s/2,a:e.a};var e,i,r,s},y=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,v=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,x=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,w=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,_={string:[[function(t){var e=c.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:4===t.length?a(parseInt(t[3]+t[3],16)/255,2):1}:6===t.length||8===t.length?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:8===t.length?a(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=x.exec(t)||w.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:l({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:void 0===e[7]?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=y.exec(t)||v.exec(t);if(!e)return null;var i,s,a=m({h:(i=e[1],s=e[2],void 0===s&&(s="deg"),Number(i)*(r[s]||1)),s:Number(e[3]),l:Number(e[4]),a:void 0===e[5]?1:Number(e[5])/(e[6]?100:1)});return g(a)},"hsl"]],object:[[function(t){var e=t.r,i=t.g,r=t.b,a=t.a,n=void 0===a?1:a;return s(e)&&s(i)&&s(r)?l({r:Number(e),g:Number(i),b:Number(r),a:Number(n)}):null},"rgb"],[function(t){var e=t.h,i=t.s,r=t.l,a=t.a,n=void 0===a?1:a;if(!s(e)||!s(i)||!s(r))return null;var o=m({h:Number(e),s:Number(i),l:Number(r),a:Number(n)});return g(o)},"hsl"],[function(t){var e=t.h,i=t.s,r=t.v,a=t.a,l=void 0===a?1:a;if(!s(e)||!s(i)||!s(r))return null;var h=function(t){return{h:o(t.h),s:n(t.s,0,100),v:n(t.v,0,100),a:n(t.a)}}({h:Number(e),s:Number(i),v:Number(r),a:Number(l)});return p(h)},"hsv"]]},k=function(t,e){for(var i=0;i<e.length;i++){var r=e[i][0](t);if(r)return[r,e[i][1]]}return[null,void 0]},S=function(t,e){var i=b(t);return{h:i.h,s:n(i.s+100*e,0,100),l:i.l,a:i.a}},C=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},A=function(t,e){var i=b(t);return{h:i.h,s:i.s,l:n(i.l+100*e,0,100),a:i.a}},T=function(){function t(t){this.parsed=function(t){return"string"==typeof t?k(t.trim(),_.string):"object"==typeof t&&null!==t?k(t,_.object):[null,void 0]}(t)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return null!==this.parsed},t.prototype.brightness=function(){return a(C(this.rgba),2)},t.prototype.isDark=function(){return C(this.rgba)<.5},t.prototype.isLight=function(){return C(this.rgba)>=.5},t.prototype.toHex=function(){return e=(t=h(this.rgba)).r,i=t.g,r=t.b,n=(s=t.a)<1?d(a(255*s)):"","#"+d(e)+d(i)+d(r)+n;var t,e,i,r,s,n},t.prototype.toRgb=function(){return h(this.rgba)},t.prototype.toRgbString=function(){return e=(t=h(this.rgba)).r,i=t.g,r=t.b,(s=t.a)<1?"rgba("+e+", "+i+", "+r+", "+s+")":"rgb("+e+", "+i+", "+r+")";var t,e,i,r,s},t.prototype.toHsl=function(){return f(b(this.rgba))},t.prototype.toHslString=function(){return e=(t=f(b(this.rgba))).h,i=t.s,r=t.l,(s=t.a)<1?"hsla("+e+", "+i+"%, "+r+"%, "+s+")":"hsl("+e+", "+i+"%, "+r+"%)";var t,e,i,r,s},t.prototype.toHsv=function(){return t=u(this.rgba),{h:a(t.h),s:a(t.s),v:a(t.v),a:a(t.a,3)};var t},t.prototype.invert=function(){return M({r:255-(t=this.rgba).r,g:255-t.g,b:255-t.b,a:t.a});var t},t.prototype.saturate=function(t){return void 0===t&&(t=.1),M(S(this.rgba,t))},t.prototype.desaturate=function(t){return void 0===t&&(t=.1),M(S(this.rgba,-t))},t.prototype.grayscale=function(){return M(S(this.rgba,-1))},t.prototype.lighten=function(t){return void 0===t&&(t=.1),M(A(this.rgba,t))},t.prototype.darken=function(t){return void 0===t&&(t=.1),M(A(this.rgba,-t))},t.prototype.rotate=function(t){return void 0===t&&(t=15),this.hue(this.hue()+t)},t.prototype.alpha=function(t){return"number"==typeof t?M({r:(e=this.rgba).r,g:e.g,b:e.b,a:t}):a(this.rgba.a,3);var e},t.prototype.hue=function(t){var e=b(this.rgba);return"number"==typeof t?M({h:t,s:e.s,l:e.l,a:e.a}):a(e.h)},t.prototype.isEqual=function(t){return this.toHex()===M(t).toHex()},t}(),M=function(t){return t instanceof T?t:new T(t)},B=[];!function(t){t.forEach(function(t){B.indexOf(t)<0&&(t(T,_),B.push(t))})}([function(t,e){var i={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},r={};for(var s in i)r[i[s]]=s;var a={};t.prototype.toName=function(e){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var s,n,o=r[this.toHex()];if(o)return o;if(null==e?void 0:e.closest){var l=this.toRgb(),h=1/0,c="black";if(!a.length)for(var d in i)a[d]=new t(i[d]).toRgb();for(var u in i){var p=(s=l,n=a[u],Math.pow(s.r-n.r,2)+Math.pow(s.g-n.g,2)+Math.pow(s.b-n.b,2));p<h&&(h=p,c=u)}return c}},e.string.push([function(e){var r=e.toLowerCase(),s="transparent"===r?"#0000":i[r];return s?new t(s).toRgb():null},"name"])}]);const P=class t{constructor(t=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=t}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(t){return this.value=t,this}set value(e){if(e instanceof t)this._value=this._cloneSource(e._value),this._int=e._int,this._components.set(e._components);else{if(null===e)throw new Error("Cannot set Color#value to null");null!==this._value&&this._isSourceEqual(this._value,e)||(this._value=this._cloneSource(e),this._normalize(this._value))}}get value(){return this._value}_cloneSource(t){return"string"==typeof t||"number"==typeof t||t instanceof Number||null===t?t:Array.isArray(t)||ArrayBuffer.isView(t)?t.slice(0):"object"==typeof t&&null!==t?{...t}:t}_isSourceEqual(t,e){const i=typeof t;if(i!==typeof e)return!1;if("number"===i||"string"===i||t instanceof Number)return t===e;if(Array.isArray(t)&&Array.isArray(e)||ArrayBuffer.isView(t)&&ArrayBuffer.isView(e))return t.length===e.length&&t.every((t,i)=>t===e[i]);if(null!==t&&null!==e){const i=Object.keys(t),r=Object.keys(e);return i.length===r.length&&i.every(i=>t[i]===e[i])}return t===e}toRgba(){const[t,e,i,r]=this._components;return{r:t,g:e,b:i,a:r}}toRgb(){const[t,e,i]=this._components;return{r:t,g:e,b:i}}toRgbaString(){const[t,e,i]=this.toUint8RgbArray();return`rgba(${t},${e},${i},${this.alpha})`}toUint8RgbArray(t){const[e,i,r]=this._components;return this._arrayRgb||(this._arrayRgb=[]),t||(t=this._arrayRgb),t[0]=Math.round(255*e),t[1]=Math.round(255*i),t[2]=Math.round(255*r),t}toArray(t){this._arrayRgba||(this._arrayRgba=[]),t||(t=this._arrayRgba);const[e,i,r,s]=this._components;return t[0]=e,t[1]=i,t[2]=r,t[3]=s,t}toRgbArray(t){this._arrayRgb||(this._arrayRgb=[]),t||(t=this._arrayRgb);const[e,i,r]=this._components;return t[0]=e,t[1]=i,t[2]=r,t}toNumber(){return this._int}toBgrNumber(){const[t,e,i]=this.toUint8RgbArray();return(i<<16)+(e<<8)+t}toLittleEndianNumber(){const t=this._int;return(t>>16)+(65280&t)+((255&t)<<16)}multiply(e){const[i,r,s,a]=t._temp.setValue(e)._components;return this._components[0]*=i,this._components[1]*=r,this._components[2]*=s,this._components[3]*=a,this._refreshInt(),this._value=null,this}premultiply(t,e=!0){return e&&(this._components[0]*=t,this._components[1]*=t,this._components[2]*=t),this._components[3]=t,this._refreshInt(),this._value=null,this}toPremultiplied(t,e=!0){if(1===t)return(255<<24)+this._int;if(0===t)return e?0:this._int;let i=this._int>>16&255,r=this._int>>8&255,s=255&this._int;return e&&(i=i*t+.5|0,r=r*t+.5|0,s=s*t+.5|0),(255*t<<24)+(i<<16)+(r<<8)+s}toHex(){const t=this._int.toString(16);return`#${"000000".substring(0,6-t.length)+t}`}toHexa(){const t=Math.round(255*this._components[3]).toString(16);return this.toHex()+"00".substring(0,2-t.length)+t}setAlpha(t){return this._components[3]=this._clamp(t),this}_normalize(e){let i,r,s,a;if(("number"==typeof e||e instanceof Number)&&e>=0&&e<=16777215)i=(e>>16&255)/255,r=(e>>8&255)/255,s=(255&e)/255,a=1;else if((Array.isArray(e)||e instanceof Float32Array)&&e.length>=3&&e.length<=4)e=this._clamp(e),[i,r,s,a=1]=e;else if((e instanceof Uint8Array||e instanceof Uint8ClampedArray)&&e.length>=3&&e.length<=4)e=this._clamp(e,0,255),[i,r,s,a=255]=e,i/=255,r/=255,s/=255,a/=255;else if("string"==typeof e||"object"==typeof e){if("string"==typeof e){const i=t.HEX_PATTERN.exec(e);i&&(e=`#${i[2]}`)}const n=M(e);n.isValid()&&(({r:i,g:r,b:s,a}=n.rgba),i/=255,r/=255,s/=255)}if(void 0===i)throw new Error(`Unable to convert color ${e}`);this._components[0]=i,this._components[1]=r,this._components[2]=s,this._components[3]=a,this._refreshInt()}_refreshInt(){this._clamp(this._components);const[t,e,i]=this._components;this._int=(255*t<<16)+(255*e<<8)+(255*i|0)}_clamp(t,e=0,i=1){return"number"==typeof t?Math.min(Math.max(t,e),i):(t.forEach((r,s)=>{t[s]=Math.min(Math.max(r,e),i)}),t)}static isColorLike(e){return"number"==typeof e||"string"==typeof e||e instanceof Number||e instanceof t||Array.isArray(e)||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Float32Array||void 0!==e.r&&void 0!==e.g&&void 0!==e.b||void 0!==e.r&&void 0!==e.g&&void 0!==e.b&&void 0!==e.a||void 0!==e.h&&void 0!==e.s&&void 0!==e.l||void 0!==e.h&&void 0!==e.s&&void 0!==e.l&&void 0!==e.a||void 0!==e.h&&void 0!==e.s&&void 0!==e.v||void 0!==e.h&&void 0!==e.s&&void 0!==e.v&&void 0!==e.a}};P.shared=new P,P._temp=new P,P.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let O=P},99852:(t,e,i)=>{"use strict";i.d(e,{c:()=>w});var r=i(62367),s=i(98610),a=i(63880),n=i(58196),o=i(33273),l=i(98917),h=i(88096),c=i(47260),d=i(89241),u=i(26873),p=i(74838),m=i(66894),f=i(90896),g=i(56613);const b=class t extends g.v{constructor(e){super(),this.resolution=1,this.pages=[],this._padding=0,this._measureCache=Object.create(null),this._currentChars=[],this._currentX=0,this._currentY=0,this._currentMaxCharHeight=0,this._currentPageIndex=-1,this._skipKerning=!1;const i={...t.defaultOptions,...e};this._textureSize=i.textureSize,this._mipmap=i.mipmap;const r=i.style.clone();i.overrideFill&&(r._fill.color=16777215,r._fill.alpha=1,r._fill.texture=u.g.WHITE,r._fill.fill=null),this.applyFillAsTint=i.overrideFill;const s=r.fontSize;r.fontSize=this.baseMeasurementFontSize;const a=(0,m.Z)(r);i.overrideSize?r._stroke&&(r._stroke.width*=this.baseRenderedFontSize/s):r.fontSize=this.baseRenderedFontSize=s,this._style=r,this._skipKerning=i.skipKerning??!1,this.resolution=i.resolution??1,this._padding=i.padding??4,i.textureStyle&&(this._textureStyle=i.textureStyle instanceof p.n?i.textureStyle:new p.n(i.textureStyle)),this.fontMetrics=n.P.measureFont(a),this.lineHeight=r.lineHeight||this.fontMetrics.fontSize||r.fontSize}ensureCharacters(t){const e=n.P.graphemeSegmenter(t).filter(t=>!this._currentChars.includes(t)).filter((t,e,i)=>i.indexOf(t)===e);if(!e.length)return;let i;this._currentChars=[...this._currentChars,...e],i=-1===this._currentPageIndex?this._nextPage():this.pages[this._currentPageIndex];let{canvas:r,context:s}=i.canvasAndContext,a=i.texture.source;const o=this._style;let l=this._currentX,c=this._currentY,d=this._currentMaxCharHeight;const p=this.baseRenderedFontSize/this.baseMeasurementFontSize,m=this._padding*p;let f=!1;const g=r.width/this.resolution,b=r.height/this.resolution;for(let t=0;t<e.length;t++){const i=e[t],y=n.P.measureText(i,o,r,!1);y.lineHeight=y.height;const v=y.width*p,x=Math.ceil(("italic"===o.fontStyle?2:1)*v)+2*m,w=y.height*p+2*m;if(f=!1,"\n"!==i&&"\r"!==i&&"\t"!==i&&" "!==i&&(f=!0,d=Math.ceil(Math.max(w,d))),l+x>g&&(c+=d,d=w,l=0,c+d>b)){a.update();const t=this._nextPage();r=t.canvasAndContext.canvas,s=t.canvasAndContext.context,a=t.texture.source,l=0,c=0,d=0}const _=v/p-(o.dropShadow?.distance??0)-(o._stroke?.width??0);if(this.chars[i]={id:i.codePointAt(0),xOffset:-this._padding,yOffset:-this._padding,xAdvance:_,kerning:{}},f){this._drawGlyph(s,y,l+m,c+m,p,o);const t=a.width*p,e=a.height*p,r=new h.M(l/t*a.width,c/e*a.height,x/t*a.width,w/e*a.height);this.chars[i].texture=new u.g({source:a,frame:r}),l+=Math.ceil(x)}}a.update(),this._currentX=l,this._currentY=c,this._currentMaxCharHeight=d,this._skipKerning&&this._applyKerning(e,s)}get pageTextures(){return(0,s.t6)(s.lj,"BitmapFont.pageTextures is deprecated, please use BitmapFont.pages instead."),this.pages}_applyKerning(t,e){const i=this._measureCache;for(let r=0;r<t.length;r++){const s=t[r];for(let t=0;t<this._currentChars.length;t++){const r=this._currentChars[t];let a=i[s];a||(a=i[s]=e.measureText(s).width);let n=i[r];n||(n=i[r]=e.measureText(r).width);let o=e.measureText(s+r).width,l=o-(a+n);l&&(this.chars[s].kerning[r]=l),o=e.measureText(s+r).width,l=o-(a+n),l&&(this.chars[r].kerning[s]=l)}}}_nextPage(){this._currentPageIndex++;const t=this.resolution,e=c.N.getOptimalCanvasAndContext(this._textureSize,this._textureSize,t);this._setupContext(e.context,this._style,t);const i=t*(this.baseRenderedFontSize/this.baseMeasurementFontSize),r=new u.g({source:new d.b({resource:e.canvas,resolution:i,alphaMode:"premultiply-alpha-on-upload",autoGenerateMipmaps:this._mipmap})});this._textureStyle&&(r.source.style=this._textureStyle);const s={canvasAndContext:e,texture:r};return this.pages[this._currentPageIndex]=s,s}_setupContext(t,e,i){e.fontSize=this.baseRenderedFontSize,t.scale(i,i),t.font=(0,m.Z)(e),e.fontSize=this.baseMeasurementFontSize,t.textBaseline=e.textBaseline;const r=e._stroke,s=r?.width??0;if(r&&(t.lineWidth=s,t.lineJoin=r.join,t.miterLimit=r.miterLimit,t.strokeStyle=(0,f.r)(r,t)),e._fill&&(t.fillStyle=(0,f.r)(e._fill,t)),e.dropShadow){const r=e.dropShadow,s=l.Q.shared.setValue(r.color).toArray(),a=r.blur*i,n=r.distance*i;t.shadowColor=`rgba(${255*s[0]},${255*s[1]},${255*s[2]},${r.alpha})`,t.shadowBlur=a,t.shadowOffsetX=Math.cos(r.angle)*n,t.shadowOffsetY=Math.sin(r.angle)*n}else t.shadowColor="black",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0}_drawGlyph(t,e,i,r,s,a){const n=e.text,o=e.fontProperties,l=a._stroke,h=(l?.width??0)*s,c=i+h/2,d=r-h/2,u=o.descent*s,p=e.lineHeight*s;let m=!1;a.stroke&&h&&(m=!0,t.strokeText(n,c,d+p-u));const{shadowBlur:f,shadowOffsetX:g,shadowOffsetY:b}=t;a._fill&&(m&&(t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0),t.fillText(n,c,d+p-u)),m&&(t.shadowBlur=f,t.shadowOffsetX=g,t.shadowOffsetY=b)}destroy(){super.destroy();for(let t=0;t<this.pages.length;t++){const{canvasAndContext:e,texture:i}=this.pages[t];c.N.returnCanvasAndContext(e),i.destroy(!0)}this.pages=null}};b.defaultOptions={textureSize:512,style:new o.x,mipmap:!0};let y=b;var v=i(61967);let x=0;const w=new class{constructor(){this.ALPHA=[["a","z"],["A","Z"]," "],this.NUMERIC=[["0","9"]],this.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],this.ASCII=[[" ","~"]],this.defaultOptions={chars:this.ALPHANUMERIC,resolution:1,padding:4,skipKerning:!1,textureStyle:null}}getFont(t,e){let i=`${e.fontFamily}-bitmap`,s=!0;if(e._fill.fill&&!e._stroke)i+=e._fill.fill.styleKey,s=!1;else if(e._stroke||e.dropShadow){let t=e.styleKey;t=t.substring(0,t.lastIndexOf("-")),i=`${t}-bitmap`,s=!1}if(!r.l.has(i)){const t=Object.create(e);t.lineHeight=0;const n=new y({style:t,overrideFill:s,overrideSize:!0,...this.defaultOptions});x++,x>50&&(0,a.R)("BitmapText",`You have dynamically created ${x} bitmap fonts, this can be inefficient. Try pre installing your font styles using \`BitmapFont.install({name:"style1", style})\``),n.once("destroy",()=>{x--,r.l.remove(i)}),r.l.set(i,n)}const n=r.l.get(i);return n.ensureCharacters?.(t),n}getLayout(t,e,i=!0){const r=this.getFont(t,e),s=n.P.graphemeSegmenter(t);return(0,v.Z)(s,e,r,i)}measureText(t,e,i=!0){return this.getLayout(t,e,i)}install(...t){let e=t[0];"string"==typeof e&&(e={name:e,style:t[1],chars:t[2]?.chars,resolution:t[2]?.resolution,padding:t[2]?.padding,skipKerning:t[2]?.skipKerning},(0,s.t6)(s.lj,"BitmapFontManager.install(name, style, options) is deprecated, use BitmapFontManager.install({name, style, ...options})"));const i=e?.name;if(!i)throw new Error("[BitmapFontManager] Property `name` is required.");e={...this.defaultOptions,...e};const a=e.style,n=a instanceof o.x?a:new o.x(a),l=e.dynamicFill??this._canUseTintForStyle(n),h=new y({style:n,overrideFill:l,skipKerning:e.skipKerning,padding:e.padding,resolution:e.resolution,overrideSize:!1,textureStyle:e.textureStyle}),c=function(t){if(""===t)return[];"string"==typeof t&&(t=[t]);const e=[];for(let i=0,r=t.length;i<r;i++){const r=t[i];if(Array.isArray(r)){if(2!==r.length)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${r.length}.`);if(0===r[0].length||0===r[1].length)throw new Error("[BitmapFont]: Invalid character delimiter.");const t=r[0].charCodeAt(0),i=r[1].charCodeAt(0);if(i<t)throw new Error("[BitmapFont]: Invalid character range.");for(let r=t,s=i;r<=s;r++)e.push(String.fromCharCode(r))}else e.push(...Array.from(r))}if(0===e.length)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}(e.chars);return h.ensureCharacters(c.join("")),r.l.set(`${i}-bitmap`,h),h.once("destroy",()=>r.l.remove(`${i}-bitmap`)),h}uninstall(t){const e=`${t}-bitmap`,i=r.l.get(e);i&&i.destroy()}_canUseTintForStyle(t){return!(t._stroke||t.dropShadow&&0!==t.dropShadow.color||t._fill.fill||16777215!==t._fill.color)}}}},r={};function s(t){var e=r[t];if(void 0!==e)return e.exports;var a=r[t]={exports:{}};return i[t].call(a.exports,a,a.exports,s),a.exports}s.m=i,s.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return s.d(e,{a:e}),e},s.d=(t,e)=>{for(var i in e)s.o(e,i)&&!s.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},s.f={},s.e=t=>Promise.all(Object.keys(s.f).reduce((e,i)=>(s.f[i](t,e),e),[])),s.u=t=>t+".js",s.miniCssF=t=>{},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),s.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),t={},e="gods:",s.l=(i,r,a,n)=>{if(t[i])t[i].push(r);else{var o,l;if(void 0!==a)for(var h=document.getElementsByTagName("script"),c=0;c<h.length;c++){var d=h[c];if(d.getAttribute("src")==i||d.getAttribute("data-webpack")==e+a){o=d;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,s.nc&&o.setAttribute("nonce",s.nc),o.setAttribute("data-webpack",e+a),o.src=i),t[i]=[r];var u=(e,r)=>{o.onerror=o.onload=null,clearTimeout(p);var s=t[i];if(delete t[i],o.parentNode&&o.parentNode.removeChild(o),s&&s.forEach(t=>t(r)),e)return e(r)},p=setTimeout(u.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=u.bind(null,o.onerror),o.onload=u.bind(null,o.onload),l&&document.head.appendChild(o)}},s.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t;s.g.importScripts&&(t=s.g.location+"");var e=s.g.document;if(!t&&e&&(e.currentScript&&"SCRIPT"===e.currentScript.tagName.toUpperCase()&&(t=e.currentScript.src),!t)){var i=e.getElementsByTagName("script");if(i.length)for(var r=i.length-1;r>-1&&(!t||!/^http(s?):/.test(t));)t=i[r--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),s.p=t})(),(()=>{var t={7869:0};s.f.j=(e,i)=>{var r=s.o(t,e)?t[e]:void 0;if(0!==r)if(r)i.push(r[2]);else{var a=new Promise((i,s)=>r=t[e]=[i,s]);i.push(r[2]=a);var n=s.p+s.u(e),o=new Error;s.l(n,i=>{if(s.o(t,e)&&(0!==(r=t[e])&&(t[e]=void 0),r)){var a=i&&("load"===i.type?"missing":i.type),n=i&&i.target&&i.target.src;o.message="Loading chunk "+e+" failed.\n("+a+": "+n+")",o.name="ChunkLoadError",o.type=a,o.request=n,r[1](o)}},"chunk-"+e,e)}};var e=(e,i)=>{var r,a,[n,o,l]=i,h=0;if(n.some(e=>0!==t[e])){for(r in o)s.o(o,r)&&(s.m[r]=o[r]);l&&l(s)}for(e&&e(i);h<n.length;h++)a=n[h],s.o(t,a)&&t[a]&&t[a][0](),t[a]=0},i=self.webpackChunkgods=self.webpackChunkgods||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))})(),(()=>{"use strict";var t={};function e(t="",...e){const i=t.split(/([#.])/),r=i[0]||"div",s=document.createElement(r);for(let t=1;t<i.length;t+=2){const e=i[t],r=i[t+1];r&&("#"===e?s.id=r:"."===e&&s.classList.add(r))}const a=t=>t.replace(/-([a-z0-9])/g,(t,e)=>e.toUpperCase()),n=document.createDocumentFragment();for(const t of e)if(t instanceof HTMLElement)n.appendChild(t);else if("string"==typeof t){const e=t.split("\n");for(let t=0;t<e.length;t++){t>0&&n.appendChild(document.createElement("br"));const i=e[t];i&&n.appendChild(document.createTextNode(i))}}else if(t){const e=t;for(const t in e){if(!Object.prototype.hasOwnProperty.call(e,t))continue;const i=e[t];if(null!=i)if("style"===t&&"object"==typeof i)Object.assign(s.style,i);else if("dataset"===t&&"object"==typeof i)for(const t in i){const e=i[t];null!=e&&(s.dataset[a(t)]=String(e))}else if("id"===t)s.id=i;else if("class"===t||"className"===t){const t=String(i).split(/\s+/);for(const e of t)e&&s.classList.add(e)}else if(t.startsWith("data-")){const e=a(t.slice(5));s.dataset[e]=String(i),s.setAttribute(t,String(i))}else t.startsWith("aria-")?s.setAttribute(t,String(i)):t in s?s[t]=i:s.setAttribute(t,String(i))}}return s.appendChild(n),s}s.r(t),s.d(t,{backInDown:()=>Xn,backInLeft:()=>Un,backInRight:()=>Gn,backInUp:()=>jn,backOutDown:()=>qn,backOutLeft:()=>Kn,backOutRight:()=>Zn,backOutUp:()=>Qn,bounce:()=>In,bounceIn:()=>Jn,bounceInDown:()=>to,bounceInLeft:()=>eo,bounceInRight:()=>io,bounceInUp:()=>ro,bounceOut:()=>so,bounceOutDown:()=>ao,bounceOutLeft:()=>no,bounceOutRight:()=>oo,bounceOutUp:()=>lo,easings:()=>kl,fadeIn:()=>ho,fadeInBottomLeft:()=>co,fadeInBottomRight:()=>uo,fadeInDown:()=>po,fadeInDownBig:()=>mo,fadeInLeft:()=>fo,fadeInLeftBig:()=>go,fadeInRight:()=>bo,fadeInRightBig:()=>yo,fadeInTopLeft:()=>vo,fadeInTopRight:()=>xo,fadeInUp:()=>wo,fadeInUpBig:()=>_o,fadeOut:()=>ko,fadeOutBottomLeft:()=>So,fadeOutBottomRight:()=>Co,fadeOutDown:()=>Ao,fadeOutDownBig:()=>To,fadeOutLeft:()=>Mo,fadeOutLeftBig:()=>Bo,fadeOutRight:()=>Po,fadeOutRightBig:()=>Oo,fadeOutTopLeft:()=>Io,fadeOutTopRight:()=>Eo,fadeOutUp:()=>$o,fadeOutUpBig:()=>Ro,flash:()=>En,flip:()=>zo,flipInX:()=>Fo,flipInY:()=>Lo,flipOutX:()=>Do,flipOutY:()=>Wo,headShake:()=>$n,heartBeat:()=>Rn,hinge:()=>hl,jackInTheBox:()=>cl,jello:()=>zn,lightSpeedInLeft:()=>Vo,lightSpeedInRight:()=>Ho,lightSpeedOutLeft:()=>No,lightSpeedOutRight:()=>Yo,pulse:()=>Fn,rollIn:()=>dl,rollOut:()=>ul,rotateIn:()=>Xo,rotateInDownLeft:()=>Uo,rotateInDownRight:()=>Go,rotateInUpLeft:()=>jo,rotateInUpRight:()=>qo,rotateOut:()=>Ko,rotateOutDownLeft:()=>Zo,rotateOutDownRight:()=>Qo,rotateOutUpLeft:()=>Jo,rotateOutUpRight:()=>tl,rubberBand:()=>Ln,shake:()=>Dn,shakeX:()=>Wn,shakeY:()=>Vn,slideInDown:()=>el,slideInLeft:()=>il,slideInRight:()=>rl,slideInUp:()=>sl,slideOutDown:()=>al,slideOutLeft:()=>nl,slideOutRight:()=>ol,slideOutUp:()=>ll,swing:()=>Hn,tada:()=>Nn,wobble:()=>Yn,zoomIn:()=>pl,zoomInDown:()=>ml,zoomInLeft:()=>fl,zoomInRight:()=>gl,zoomInUp:()=>bl,zoomOut:()=>yl,zoomOutDown:()=>vl,zoomOutLeft:()=>xl,zoomOutRight:()=>wl,zoomOutUp:()=>_l});var i=Object.defineProperty,r=Object.defineProperties,a=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable,c=(t,e)=>(e=Symbol[t])?e:Symbol.for("Symbol."+t),d=t=>{throw TypeError(t)},u=(t,e,r)=>e in t?i(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,p=(t,e)=>{for(var i in e||(e={}))l.call(e,i)&&u(t,i,e[i]);if(o)for(var i of o(e))h.call(e,i)&&u(t,i,e[i]);return t},m=(t,e)=>r(t,n(e)),f=(t,e,r,s)=>{for(var n,o=s>1?void 0:s?a(e,r):e,l=t.length-1;l>=0;l--)(n=t[l])&&(o=(s?n(e,r,o):n(o))||o);return s&&o&&i(e,r,o),o},g=(t,e,i)=>e.has(t)||d("Cannot "+i),b=function(t,e){this[0]=t,this[1]=e},y=new WeakMap,v=new WeakMap,x=new WeakMap,w=new WeakSet,_=new WeakMap,k=class{constructor(t,e){this.handleFormData=t=>{const e=this.options.disabled(this.host),i=this.options.name(this.host),r=this.options.value(this.host),s="sl-button"===this.host.tagName.toLowerCase();this.host.isConnected&&!e&&!s&&"string"==typeof i&&i.length>0&&void 0!==r&&(Array.isArray(r)?r.forEach(e=>{t.formData.append(i,e.toString())}):t.formData.append(i,r.toString()))},this.handleFormSubmit=t=>{var e;const i=this.options.disabled(this.host),r=this.options.reportValidity;this.form&&!this.form.noValidate&&(null==(e=y.get(this.form))||e.forEach(t=>{this.setUserInteracted(t,!0)})),!this.form||this.form.noValidate||i||r(this.host)||(t.preventDefault(),t.stopImmediatePropagation())},this.handleFormReset=()=>{this.options.setValue(this.host,this.options.defaultValue(this.host)),this.setUserInteracted(this.host,!1),_.set(this.host,[])},this.handleInteraction=t=>{const e=_.get(this.host);e.includes(t.type)||e.push(t.type),e.length===this.options.assumeInteractionOn.length&&this.setUserInteracted(this.host,!0)},this.checkFormValidity=()=>{if(this.form&&!this.form.noValidate){const t=this.form.querySelectorAll("*");for(const e of t)if("function"==typeof e.checkValidity&&!e.checkValidity())return!1}return!0},this.reportFormValidity=()=>{if(this.form&&!this.form.noValidate){const t=this.form.querySelectorAll("*");for(const e of t)if("function"==typeof e.reportValidity&&!e.reportValidity())return!1}return!0},(this.host=t).addController(this),this.options=p({form:t=>{const e=t.form;if(e){const i=t.getRootNode().querySelector(`#${e}`);if(i)return i}return t.closest("form")},name:t=>t.name,value:t=>t.value,defaultValue:t=>t.defaultValue,disabled:t=>{var e;return null!=(e=t.disabled)&&e},reportValidity:t=>"function"!=typeof t.reportValidity||t.reportValidity(),checkValidity:t=>"function"!=typeof t.checkValidity||t.checkValidity(),setValue:(t,e)=>t.value=e,assumeInteractionOn:["sl-input"]},e)}hostConnected(){const t=this.options.form(this.host);t&&this.attachForm(t),_.set(this.host,[]),this.options.assumeInteractionOn.forEach(t=>{this.host.addEventListener(t,this.handleInteraction)})}hostDisconnected(){this.detachForm(),_.delete(this.host),this.options.assumeInteractionOn.forEach(t=>{this.host.removeEventListener(t,this.handleInteraction)})}hostUpdated(){const t=this.options.form(this.host);t||this.detachForm(),t&&this.form!==t&&(this.detachForm(),this.attachForm(t)),this.host.hasUpdated&&this.setValidity(this.host.validity.valid)}attachForm(t){t?(this.form=t,y.has(this.form)?y.get(this.form).add(this.host):y.set(this.form,new Set([this.host])),this.form.addEventListener("formdata",this.handleFormData),this.form.addEventListener("submit",this.handleFormSubmit),this.form.addEventListener("reset",this.handleFormReset),v.has(this.form)||(v.set(this.form,this.form.reportValidity),this.form.reportValidity=()=>this.reportFormValidity()),x.has(this.form)||(x.set(this.form,this.form.checkValidity),this.form.checkValidity=()=>this.checkFormValidity())):this.form=void 0}detachForm(){if(!this.form)return;const t=y.get(this.form);t&&(t.delete(this.host),t.size<=0&&(this.form.removeEventListener("formdata",this.handleFormData),this.form.removeEventListener("submit",this.handleFormSubmit),this.form.removeEventListener("reset",this.handleFormReset),v.has(this.form)&&(this.form.reportValidity=v.get(this.form),v.delete(this.form)),x.has(this.form)&&(this.form.checkValidity=x.get(this.form),x.delete(this.form)),this.form=void 0))}setUserInteracted(t,e){e?w.add(t):w.delete(t),t.requestUpdate()}doAction(t,e){if(this.form){const i=document.createElement("button");i.type=t,i.style.position="absolute",i.style.width="0",i.style.height="0",i.style.clipPath="inset(50%)",i.style.overflow="hidden",i.style.whiteSpace="nowrap",e&&(i.name=e.name,i.value=e.value,["formaction","formenctype","formmethod","formnovalidate","formtarget"].forEach(t=>{e.hasAttribute(t)&&i.setAttribute(t,e.getAttribute(t))})),this.form.append(i),i.click(),i.remove()}}getForm(){var t;return null!=(t=this.form)?t:null}reset(t){this.doAction("reset",t)}submit(t){this.doAction("submit",t)}setValidity(t){const e=this.host,i=Boolean(w.has(e)),r=Boolean(e.required);e.toggleAttribute("data-required",r),e.toggleAttribute("data-optional",!r),e.toggleAttribute("data-invalid",!t),e.toggleAttribute("data-valid",t),e.toggleAttribute("data-user-invalid",!t&&i),e.toggleAttribute("data-user-valid",t&&i)}updateValidity(){const t=this.host;this.setValidity(t.validity.valid)}emitInvalidEvent(t){const e=new CustomEvent("sl-invalid",{bubbles:!1,composed:!1,cancelable:!0,detail:{}});t||e.preventDefault(),this.host.dispatchEvent(e)||null==t||t.preventDefault()}},S=Object.freeze({badInput:!1,customError:!1,patternMismatch:!1,rangeOverflow:!1,rangeUnderflow:!1,stepMismatch:!1,tooLong:!1,tooShort:!1,typeMismatch:!1,valid:!0,valueMissing:!1}),C=Object.freeze(m(p({},S),{valid:!1,valueMissing:!0})),A=Object.freeze(m(p({},S),{valid:!1,customError:!0}));const T=globalThis,M=T.ShadowRoot&&(void 0===T.ShadyCSS||T.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,B=Symbol(),P=new WeakMap;class O{constructor(t,e,i){if(this._$cssResult$=!0,i!==B)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=e}get styleSheet(){let t=this.o;const e=this.t;if(M&&void 0===t){const i=void 0!==e&&1===e.length;i&&(t=P.get(e)),void 0===t&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),i&&P.set(e,t))}return t}toString(){return this.cssText}}const I=(t,...e)=>{const i=1===t.length?t[0]:e.reduce((e,i,r)=>e+(t=>{if(!0===t._$cssResult$)return t.cssText;if("number"==typeof t)return t;throw Error("Value passed to 'css' function must be a 'css' function result: "+t+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+t[r+1],t[0]);return new O(i,t,B)},E=(t,e)=>{if(M)t.adoptedStyleSheets=e.map(t=>t instanceof CSSStyleSheet?t:t.styleSheet);else for(const i of e){const e=document.createElement("style"),r=T.litNonce;void 0!==r&&e.setAttribute("nonce",r),e.textContent=i.cssText,t.appendChild(e)}},$=M?t=>t:t=>t instanceof CSSStyleSheet?(t=>{let e="";for(const i of t.cssRules)e+=i.cssText;return(t=>new O("string"==typeof t?t:t+"",void 0,B))(e)})(t):t,{is:R,defineProperty:z,getOwnPropertyDescriptor:F,getOwnPropertyNames:L,getOwnPropertySymbols:D,getPrototypeOf:W}=Object,V=globalThis,H=V.trustedTypes,N=H?H.emptyScript:"",Y=V.reactiveElementPolyfillSupport,X=(t,e)=>t,U={toAttribute(t,e){switch(e){case Boolean:t=t?N:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute(t,e){let i=t;switch(e){case Boolean:i=null!==t;break;case Number:i=null===t?null:Number(t);break;case Object:case Array:try{i=JSON.parse(t)}catch(t){i=null}}return i}},G=(t,e)=>!R(t,e),j={attribute:!0,type:String,converter:U,reflect:!1,useDefault:!1,hasChanged:G};Symbol.metadata??=Symbol("metadata"),V.litPropertyMetadata??=new WeakMap;class q extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??=[]).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,e=j){if(e.state&&(e.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(t)&&((e=Object.create(e)).wrapped=!0),this.elementProperties.set(t,e),!e.noAccessor){const i=Symbol(),r=this.getPropertyDescriptor(t,i,e);void 0!==r&&z(this.prototype,t,r)}}static getPropertyDescriptor(t,e,i){const{get:r,set:s}=F(this.prototype,t)??{get(){return this[e]},set(t){this[e]=t}};return{get:r,set(e){const a=r?.call(this);s?.call(this,e),this.requestUpdate(t,a,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??j}static _$Ei(){if(this.hasOwnProperty(X("elementProperties")))return;const t=W(this);t.finalize(),void 0!==t.l&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(X("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(X("properties"))){const t=this.properties,e=[...L(t),...D(t)];for(const i of e)this.createProperty(i,t[i])}const t=this[Symbol.metadata];if(null!==t){const e=litPropertyMetadata.get(t);if(void 0!==e)for(const[t,i]of e)this.elementProperties.set(t,i)}this._$Eh=new Map;for(const[t,e]of this.elementProperties){const i=this._$Eu(t,e);void 0!==i&&this._$Eh.set(i,t)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(t){const e=[];if(Array.isArray(t)){const i=new Set(t.flat(1/0).reverse());for(const t of i)e.unshift($(t))}else void 0!==t&&e.push($(t));return e}static _$Eu(t,e){const i=e.attribute;return!1===i?void 0:"string"==typeof i?i:"string"==typeof t?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise(t=>this.enableUpdating=t),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach(t=>t(this))}addController(t){(this._$EO??=new Set).add(t),void 0!==this.renderRoot&&this.isConnected&&t.hostConnected?.()}removeController(t){this._$EO?.delete(t)}_$E_(){const t=new Map,e=this.constructor.elementProperties;for(const i of e.keys())this.hasOwnProperty(i)&&(t.set(i,this[i]),delete this[i]);t.size>0&&(this._$Ep=t)}createRenderRoot(){const t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return E(t,this.constructor.elementStyles),t}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach(t=>t.hostConnected?.())}enableUpdating(t){}disconnectedCallback(){this._$EO?.forEach(t=>t.hostDisconnected?.())}attributeChangedCallback(t,e,i){this._$AK(t,i)}_$ET(t,e){const i=this.constructor.elementProperties.get(t),r=this.constructor._$Eu(t,i);if(void 0!==r&&!0===i.reflect){const s=(void 0!==i.converter?.toAttribute?i.converter:U).toAttribute(e,i.type);this._$Em=t,null==s?this.removeAttribute(r):this.setAttribute(r,s),this._$Em=null}}_$AK(t,e){const i=this.constructor,r=i._$Eh.get(t);if(void 0!==r&&this._$Em!==r){const t=i.getPropertyOptions(r),s="function"==typeof t.converter?{fromAttribute:t.converter}:void 0!==t.converter?.fromAttribute?t.converter:U;this._$Em=r;const a=s.fromAttribute(e,t.type);this[r]=a??this._$Ej?.get(r)??a,this._$Em=null}}requestUpdate(t,e,i){if(void 0!==t){const r=this.constructor,s=this[t];if(i??=r.getPropertyOptions(t),!((i.hasChanged??G)(s,e)||i.useDefault&&i.reflect&&s===this._$Ej?.get(t)&&!this.hasAttribute(r._$Eu(t,i))))return;this.C(t,e,i)}!1===this.isUpdatePending&&(this._$ES=this._$EP())}C(t,e,{useDefault:i,reflect:r,wrapped:s},a){i&&!(this._$Ej??=new Map).has(t)&&(this._$Ej.set(t,a??e??this[t]),!0!==s||void 0!==a)||(this._$AL.has(t)||(this.hasUpdated||i||(e=void 0),this._$AL.set(t,e)),!0===r&&this._$Em!==t&&(this._$Eq??=new Set).add(t))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(t){Promise.reject(t)}const t=this.scheduleUpdate();return null!=t&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[t,e]of this._$Ep)this[t]=e;this._$Ep=void 0}const t=this.constructor.elementProperties;if(t.size>0)for(const[e,i]of t){const{wrapped:t}=i,r=this[e];!0!==t||this._$AL.has(e)||void 0===r||this.C(e,void 0,i,r)}}let t=!1;const e=this._$AL;try{t=this.shouldUpdate(e),t?(this.willUpdate(e),this._$EO?.forEach(t=>t.hostUpdate?.()),this.update(e)):this._$EM()}catch(e){throw t=!1,this._$EM(),e}t&&this._$AE(e)}willUpdate(t){}_$AE(t){this._$EO?.forEach(t=>t.hostUpdated?.()),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Eq&&=this._$Eq.forEach(t=>this._$ET(t,this[t])),this._$EM()}updated(t){}firstUpdated(t){}}q.elementStyles=[],q.shadowRootOptions={mode:"open"},q[X("elementProperties")]=new Map,q[X("finalized")]=new Map,Y?.({ReactiveElement:q}),(V.reactiveElementVersions??=[]).push("2.1.1");const K=globalThis,Z=K.trustedTypes,Q=Z?Z.createPolicy("lit-html",{createHTML:t=>t}):void 0,J="$lit$",tt=`lit$${Math.random().toFixed(9).slice(2)}$`,et="?"+tt,it=`<${et}>`,rt=document,st=()=>rt.createComment(""),at=t=>null===t||"object"!=typeof t&&"function"!=typeof t,nt=Array.isArray,ot=t=>nt(t)||"function"==typeof t?.[Symbol.iterator],lt="[ \t\n\f\r]",ht=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,ct=/-->/g,dt=/>/g,ut=RegExp(`>|${lt}(?:([^\\s"'>=/]+)(${lt}*=${lt}*(?:[^ \t\n\f\r"'\`<>=]|("|')|))|$)`,"g"),pt=/'/g,mt=/"/g,ft=/^(?:script|style|textarea|title)$/i,gt=t=>(e,...i)=>({_$litType$:t,strings:e,values:i}),bt=gt(1),yt=gt(2),vt=gt(3),xt=Symbol.for("lit-noChange"),wt=Symbol.for("lit-nothing"),_t=new WeakMap,kt=rt.createTreeWalker(rt,129);function St(t,e){if(!nt(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==Q?Q.createHTML(e):e}const Ct=(t,e)=>{const i=t.length-1,r=[];let s,a=2===e?"<svg>":3===e?"<math>":"",n=ht;for(let e=0;e<i;e++){const i=t[e];let o,l,h=-1,c=0;for(;c<i.length&&(n.lastIndex=c,l=n.exec(i),null!==l);)c=n.lastIndex,n===ht?"!--"===l[1]?n=ct:void 0!==l[1]?n=dt:void 0!==l[2]?(ft.test(l[2])&&(s=RegExp("</"+l[2],"g")),n=ut):void 0!==l[3]&&(n=ut):n===ut?">"===l[0]?(n=s??ht,h=-1):void 0===l[1]?h=-2:(h=n.lastIndex-l[2].length,o=l[1],n=void 0===l[3]?ut:'"'===l[3]?mt:pt):n===mt||n===pt?n=ut:n===ct||n===dt?n=ht:(n=ut,s=void 0);const d=n===ut&&t[e+1].startsWith("/>")?" ":"";a+=n===ht?i+it:h>=0?(r.push(o),i.slice(0,h)+J+i.slice(h)+tt+d):i+tt+(-2===h?e:d)}return[St(t,a+(t[i]||"<?>")+(2===e?"</svg>":3===e?"</math>":"")),r]};class At{constructor({strings:t,_$litType$:e},i){let r;this.parts=[];let s=0,a=0;const n=t.length-1,o=this.parts,[l,h]=Ct(t,e);if(this.el=At.createElement(l,i),kt.currentNode=this.el.content,2===e||3===e){const t=this.el.content.firstChild;t.replaceWith(...t.childNodes)}for(;null!==(r=kt.nextNode())&&o.length<n;){if(1===r.nodeType){if(r.hasAttributes())for(const t of r.getAttributeNames())if(t.endsWith(J)){const e=h[a++],i=r.getAttribute(t).split(tt),n=/([.?@])?(.*)/.exec(e);o.push({type:1,index:s,name:n[2],strings:i,ctor:"."===n[1]?Ot:"?"===n[1]?It:"@"===n[1]?Et:Pt}),r.removeAttribute(t)}else t.startsWith(tt)&&(o.push({type:6,index:s}),r.removeAttribute(t));if(ft.test(r.tagName)){const t=r.textContent.split(tt),e=t.length-1;if(e>0){r.textContent=Z?Z.emptyScript:"";for(let i=0;i<e;i++)r.append(t[i],st()),kt.nextNode(),o.push({type:2,index:++s});r.append(t[e],st())}}}else if(8===r.nodeType)if(r.data===et)o.push({type:2,index:s});else{let t=-1;for(;-1!==(t=r.data.indexOf(tt,t+1));)o.push({type:7,index:s}),t+=tt.length-1}s++}}static createElement(t,e){const i=rt.createElement("template");return i.innerHTML=t,i}}function Tt(t,e,i=t,r){if(e===xt)return e;let s=void 0!==r?i._$Co?.[r]:i._$Cl;const a=at(e)?void 0:e._$litDirective$;return s?.constructor!==a&&(s?._$AO?.(!1),void 0===a?s=void 0:(s=new a(t),s._$AT(t,i,r)),void 0!==r?(i._$Co??=[])[r]=s:i._$Cl=s),void 0!==s&&(e=Tt(t,s._$AS(t,e.values),s,r)),e}class Mt{constructor(t,e){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=e}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:e},parts:i}=this._$AD,r=(t?.creationScope??rt).importNode(e,!0);kt.currentNode=r;let s=kt.nextNode(),a=0,n=0,o=i[0];for(;void 0!==o;){if(a===o.index){let e;2===o.type?e=new Bt(s,s.nextSibling,this,t):1===o.type?e=new o.ctor(s,o.name,o.strings,this,t):6===o.type&&(e=new $t(s,this,t)),this._$AV.push(e),o=i[++n]}a!==o?.index&&(s=kt.nextNode(),a++)}return kt.currentNode=rt,r}p(t){let e=0;for(const i of this._$AV)void 0!==i&&(void 0!==i.strings?(i._$AI(t,i,e),e+=i.strings.length-2):i._$AI(t[e])),e++}}class Bt{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(t,e,i,r){this.type=2,this._$AH=wt,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=i,this.options=r,this._$Cv=r?.isConnected??!0}get parentNode(){let t=this._$AA.parentNode;const e=this._$AM;return void 0!==e&&11===t?.nodeType&&(t=e.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,e=this){t=Tt(this,t,e),at(t)?t===wt||null==t||""===t?(this._$AH!==wt&&this._$AR(),this._$AH=wt):t!==this._$AH&&t!==xt&&this._(t):void 0!==t._$litType$?this.$(t):void 0!==t.nodeType?this.T(t):ot(t)?this.k(t):this._(t)}O(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.O(t))}_(t){this._$AH!==wt&&at(this._$AH)?this._$AA.nextSibling.data=t:this.T(rt.createTextNode(t)),this._$AH=t}$(t){const{values:e,_$litType$:i}=t,r="number"==typeof i?this._$AC(t):(void 0===i.el&&(i.el=At.createElement(St(i.h,i.h[0]),this.options)),i);if(this._$AH?._$AD===r)this._$AH.p(e);else{const t=new Mt(r,this),i=t.u(this.options);t.p(e),this.T(i),this._$AH=t}}_$AC(t){let e=_t.get(t.strings);return void 0===e&&_t.set(t.strings,e=new At(t)),e}k(t){nt(this._$AH)||(this._$AH=[],this._$AR());const e=this._$AH;let i,r=0;for(const s of t)r===e.length?e.push(i=new Bt(this.O(st()),this.O(st()),this,this.options)):i=e[r],i._$AI(s),r++;r<e.length&&(this._$AR(i&&i._$AB.nextSibling,r),e.length=r)}_$AR(t=this._$AA.nextSibling,e){for(this._$AP?.(!1,!0,e);t!==this._$AB;){const e=t.nextSibling;t.remove(),t=e}}setConnected(t){void 0===this._$AM&&(this._$Cv=t,this._$AP?.(t))}}class Pt{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,e,i,r,s){this.type=1,this._$AH=wt,this._$AN=void 0,this.element=t,this.name=e,this._$AM=r,this.options=s,i.length>2||""!==i[0]||""!==i[1]?(this._$AH=Array(i.length-1).fill(new String),this.strings=i):this._$AH=wt}_$AI(t,e=this,i,r){const s=this.strings;let a=!1;if(void 0===s)t=Tt(this,t,e,0),a=!at(t)||t!==this._$AH&&t!==xt,a&&(this._$AH=t);else{const r=t;let n,o;for(t=s[0],n=0;n<s.length-1;n++)o=Tt(this,r[i+n],e,n),o===xt&&(o=this._$AH[n]),a||=!at(o)||o!==this._$AH[n],o===wt?t=wt:t!==wt&&(t+=(o??"")+s[n+1]),this._$AH[n]=o}a&&!r&&this.j(t)}j(t){t===wt?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}}class Ot extends Pt{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===wt?void 0:t}}class It extends Pt{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==wt)}}class Et extends Pt{constructor(t,e,i,r,s){super(t,e,i,r,s),this.type=5}_$AI(t,e=this){if((t=Tt(this,t,e,0)??wt)===xt)return;const i=this._$AH,r=t===wt&&i!==wt||t.capture!==i.capture||t.once!==i.once||t.passive!==i.passive,s=t!==wt&&(i===wt||r);r&&this.element.removeEventListener(this.name,this,i),s&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){"function"==typeof this._$AH?this._$AH.call(this.options?.host??this.element,t):this._$AH.handleEvent(t)}}class $t{constructor(t,e,i){this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=i}get _$AU(){return this._$AM._$AU}_$AI(t){Tt(this,t)}}const Rt={M:J,P:tt,A:et,C:1,L:Ct,R:Mt,D:ot,V:Tt,I:Bt,H:Pt,N:It,U:Et,B:Ot,F:$t},zt=K.litHtmlPolyfillSupport;zt?.(At,Bt),(K.litHtmlVersions??=[]).push("3.3.1");const Ft=globalThis;class Lt extends q{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const t=super.createRenderRoot();return this.renderOptions.renderBefore??=t.firstChild,t}update(t){const e=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=((t,e,i)=>{const r=i?.renderBefore??e;let s=r._$litPart$;if(void 0===s){const t=i?.renderBefore??null;r._$litPart$=s=new Bt(e.insertBefore(st(),t),t,void 0,i??{})}return s._$AI(t),s})(e,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return xt}}Lt._$litElement$=!0,Lt.finalized=!0,Ft.litElementHydrateSupport?.({LitElement:Lt});const Dt=Ft.litElementPolyfillSupport;Dt?.({LitElement:Lt}),(Ft.litElementVersions??=[]).push("4.2.1");var Wt=I`
  :host {
    display: block;
    outline: 0;
    z-index: 0;
  }

  :host(:focus) {
    outline: none;
  }

  slot:not([name])::slotted(sl-icon) {
    margin-inline-end: var(--sl-spacing-x-small);
  }

  .tree-item {
    position: relative;
    display: flex;
    align-items: stretch;
    flex-direction: column;
    color: var(--sl-color-neutral-700);
    cursor: pointer;
    user-select: none;
    -webkit-user-select: none;
  }

  .tree-item__checkbox {
    pointer-events: none;
  }

  .tree-item__expand-button,
  .tree-item__checkbox,
  .tree-item__label {
    font-family: var(--sl-font-sans);
    font-size: var(--sl-font-size-medium);
    font-weight: var(--sl-font-weight-normal);
    line-height: var(--sl-line-height-dense);
    letter-spacing: var(--sl-letter-spacing-normal);
  }

  .tree-item__checkbox::part(base) {
    display: flex;
    align-items: center;
  }

  .tree-item__indentation {
    display: block;
    width: 1em;
    flex-shrink: 0;
  }

  .tree-item__expand-button {
    display: flex;
    align-items: center;
    justify-content: center;
    box-sizing: content-box;
    color: var(--sl-color-neutral-500);
    padding: var(--sl-spacing-x-small);
    width: 1rem;
    height: 1rem;
    flex-shrink: 0;
    cursor: pointer;
  }

  .tree-item__expand-button {
    transition: var(--sl-transition-medium) rotate ease;
  }

  .tree-item--expanded .tree-item__expand-button {
    rotate: 90deg;
  }

  .tree-item--expanded.tree-item--rtl .tree-item__expand-button {
    rotate: -90deg;
  }

  .tree-item--expanded slot[name='expand-icon'],
  .tree-item:not(.tree-item--expanded) slot[name='collapse-icon'] {
    display: none;
  }

  .tree-item:not(.tree-item--has-expand-button) .tree-item__expand-icon-slot {
    display: none;
  }

  .tree-item__expand-button--visible {
    cursor: pointer;
  }

  .tree-item__item {
    display: flex;
    align-items: center;
    border-inline-start: solid 3px transparent;
  }

  .tree-item--disabled .tree-item__item {
    opacity: 0.5;
    outline: none;
    cursor: not-allowed;
  }

  :host(:focus-visible) .tree-item__item {
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
    z-index: 2;
  }

  :host(:not([aria-disabled='true'])) .tree-item--selected .tree-item__item {
    background-color: var(--sl-color-neutral-100);
    border-inline-start-color: var(--sl-color-primary-600);
  }

  :host(:not([aria-disabled='true'])) .tree-item__expand-button {
    color: var(--sl-color-neutral-600);
  }

  .tree-item__label {
    display: flex;
    align-items: center;
    transition: var(--sl-transition-fast) color;
  }

  .tree-item__children {
    display: block;
    font-size: calc(1em + var(--indent-size, var(--sl-spacing-medium)));
  }

  /* Indentation lines */
  .tree-item__children {
    position: relative;
  }

  .tree-item__children::before {
    content: '';
    position: absolute;
    top: var(--indent-guide-offset);
    bottom: var(--indent-guide-offset);
    left: calc(1em - (var(--indent-guide-width) / 2) - 1px);
    border-inline-end: var(--indent-guide-width) var(--indent-guide-style) var(--indent-guide-color);
    z-index: 1;
  }

  .tree-item--rtl .tree-item__children::before {
    left: auto;
    right: 1em;
  }

  @media (forced-colors: active) {
    :host(:not([aria-disabled='true'])) .tree-item--selected .tree-item__item {
      outline: dashed 1px SelectedItem;
    }
  }
`,Vt=I`
  :host {
    display: inline-block;
  }

  .checkbox {
    position: relative;
    display: inline-flex;
    align-items: flex-start;
    font-family: var(--sl-input-font-family);
    font-weight: var(--sl-input-font-weight);
    color: var(--sl-input-label-color);
    vertical-align: middle;
    cursor: pointer;
  }

  .checkbox--small {
    --toggle-size: var(--sl-toggle-size-small);
    font-size: var(--sl-input-font-size-small);
  }

  .checkbox--medium {
    --toggle-size: var(--sl-toggle-size-medium);
    font-size: var(--sl-input-font-size-medium);
  }

  .checkbox--large {
    --toggle-size: var(--sl-toggle-size-large);
    font-size: var(--sl-input-font-size-large);
  }

  .checkbox__control {
    flex: 0 0 auto;
    position: relative;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: var(--toggle-size);
    height: var(--toggle-size);
    border: solid var(--sl-input-border-width) var(--sl-input-border-color);
    border-radius: 2px;
    background-color: var(--sl-input-background-color);
    color: var(--sl-color-neutral-0);
    transition:
      var(--sl-transition-fast) border-color,
      var(--sl-transition-fast) background-color,
      var(--sl-transition-fast) color,
      var(--sl-transition-fast) box-shadow;
  }

  .checkbox__input {
    position: absolute;
    opacity: 0;
    padding: 0;
    margin: 0;
    pointer-events: none;
  }

  .checkbox__checked-icon,
  .checkbox__indeterminate-icon {
    display: inline-flex;
    width: var(--toggle-size);
    height: var(--toggle-size);
  }

  /* Hover */
  .checkbox:not(.checkbox--checked):not(.checkbox--disabled) .checkbox__control:hover {
    border-color: var(--sl-input-border-color-hover);
    background-color: var(--sl-input-background-color-hover);
  }

  /* Focus */
  .checkbox:not(.checkbox--checked):not(.checkbox--disabled) .checkbox__input:focus-visible ~ .checkbox__control {
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  /* Checked/indeterminate */
  .checkbox--checked .checkbox__control,
  .checkbox--indeterminate .checkbox__control {
    border-color: var(--sl-color-primary-600);
    background-color: var(--sl-color-primary-600);
  }

  /* Checked/indeterminate + hover */
  .checkbox.checkbox--checked:not(.checkbox--disabled) .checkbox__control:hover,
  .checkbox.checkbox--indeterminate:not(.checkbox--disabled) .checkbox__control:hover {
    border-color: var(--sl-color-primary-500);
    background-color: var(--sl-color-primary-500);
  }

  /* Checked/indeterminate + focus */
  .checkbox.checkbox--checked:not(.checkbox--disabled) .checkbox__input:focus-visible ~ .checkbox__control,
  .checkbox.checkbox--indeterminate:not(.checkbox--disabled) .checkbox__input:focus-visible ~ .checkbox__control {
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  /* Disabled */
  .checkbox--disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  .checkbox__label {
    display: inline-block;
    color: var(--sl-input-label-color);
    line-height: var(--toggle-size);
    margin-inline-start: 0.5em;
    user-select: none;
    -webkit-user-select: none;
  }

  :host([required]) .checkbox__label::after {
    content: var(--sl-input-required-content);
    color: var(--sl-input-required-content-color);
    margin-inline-start: var(--sl-input-required-content-offset);
  }
`,Ht=(t="value")=>(e,i)=>{const r=e.constructor,s=r.prototype.attributeChangedCallback;r.prototype.attributeChangedCallback=function(e,a,n){var o;const l=r.getPropertyOptions(t);if(e===("string"==typeof l.attribute?l.attribute:t)){const e=l.converter||U,r=("function"==typeof e?e:null!=(o=null==e?void 0:e.fromAttribute)?o:U.fromAttribute)(n,l.type);this[t]!==r&&(this[i]=r)}s.call(this,e,a,n)}},Nt=I`
  .form-control .form-control__label {
    display: none;
  }

  .form-control .form-control__help-text {
    display: none;
  }

  /* Label */
  .form-control--has-label .form-control__label {
    display: inline-block;
    color: var(--sl-input-label-color);
    margin-bottom: var(--sl-spacing-3x-small);
  }

  .form-control--has-label.form-control--small .form-control__label {
    font-size: var(--sl-input-label-font-size-small);
  }

  .form-control--has-label.form-control--medium .form-control__label {
    font-size: var(--sl-input-label-font-size-medium);
  }

  .form-control--has-label.form-control--large .form-control__label {
    font-size: var(--sl-input-label-font-size-large);
  }

  :host([required]) .form-control--has-label .form-control__label::after {
    content: var(--sl-input-required-content);
    margin-inline-start: var(--sl-input-required-content-offset);
    color: var(--sl-input-required-content-color);
  }

  /* Help text */
  .form-control--has-help-text .form-control__help-text {
    display: block;
    color: var(--sl-input-help-text-color);
    margin-top: var(--sl-spacing-3x-small);
  }

  .form-control--has-help-text.form-control--small .form-control__help-text {
    font-size: var(--sl-input-help-text-font-size-small);
  }

  .form-control--has-help-text.form-control--medium .form-control__help-text {
    font-size: var(--sl-input-help-text-font-size-medium);
  }

  .form-control--has-help-text.form-control--large .form-control__help-text {
    font-size: var(--sl-input-help-text-font-size-large);
  }

  .form-control--has-help-text.form-control--radio-group .form-control__help-text {
    margin-top: var(--sl-spacing-2x-small);
  }
`,Yt=class{constructor(t,...e){this.slotNames=[],this.handleSlotChange=t=>{const e=t.target;(this.slotNames.includes("[default]")&&!e.name||e.name&&this.slotNames.includes(e.name))&&this.host.requestUpdate()},(this.host=t).addController(this),this.slotNames=e}hasDefaultSlot(){return[...this.host.childNodes].some(t=>{if(t.nodeType===t.TEXT_NODE&&""!==t.textContent.trim())return!0;if(t.nodeType===t.ELEMENT_NODE){const e=t;if("sl-visually-hidden"===e.tagName.toLowerCase())return!1;if(!e.hasAttribute("slot"))return!0}return!1})}hasNamedSlot(t){return null!==this.host.querySelector(`:scope > [slot="${t}"]`)}test(t){return"[default]"===t?this.hasDefaultSlot():this.hasNamedSlot(t)}hostConnected(){this.host.shadowRoot.addEventListener("slotchange",this.handleSlotChange)}hostDisconnected(){this.host.shadowRoot.removeEventListener("slotchange",this.handleSlotChange)}},Xt="";function Ut(t){Xt=t}var Gt={name:"default",resolver:t=>function(t=""){if(!Xt){const t=[...document.getElementsByTagName("script")],e=t.find(t=>t.hasAttribute("data-shoelace"));if(e)Ut(e.getAttribute("data-shoelace"));else{const e=t.find(t=>/shoelace(\.min)?\.js($|\?)/.test(t.src)||/shoelace-autoloader(\.min)?\.js($|\?)/.test(t.src));let i="";e&&(i=e.getAttribute("src")),Ut(i.split("/").slice(0,-1).join("/"))}}return Xt.replace(/\/$/,"")+(t?`/${t.replace(/^\//,"")}`:"")}(`assets/icons/${t}.svg`)},jt={caret:'\n    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n      <polyline points="6 9 12 15 18 9"></polyline>\n    </svg>\n  ',check:'\n    <svg part="checked-icon" class="checkbox__icon" viewBox="0 0 16 16">\n      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">\n        <g stroke="currentColor">\n          <g transform="translate(3.428571, 3.428571)">\n            <path d="M0,5.71428571 L3.42857143,9.14285714"></path>\n            <path d="M9.14285714,0 L3.42857143,9.14285714"></path>\n          </g>\n        </g>\n      </g>\n    </svg>\n  ',"chevron-down":'\n    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-down" viewBox="0 0 16 16">\n      <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/>\n    </svg>\n  ',"chevron-left":'\n    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-left" viewBox="0 0 16 16">\n      <path fill-rule="evenodd" d="M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"/>\n    </svg>\n  ',"chevron-right":'\n    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-right" viewBox="0 0 16 16">\n      <path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"/>\n    </svg>\n  ',copy:'\n    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-copy" viewBox="0 0 16 16">\n      <path fill-rule="evenodd" d="M4 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V2Zm2-1a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H6ZM2 5a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1v-1h1v1a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h1v1H2Z"/>\n    </svg>\n  ',eye:'\n    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eye" viewBox="0 0 16 16">\n      <path d="M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.133 13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.133 13.133 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5c-2.12 0-3.879-1.168-5.168-2.457A13.134 13.134 0 0 1 1.172 8z"/>\n      <path d="M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0z"/>\n    </svg>\n  ',"eye-slash":'\n    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eye-slash" viewBox="0 0 16 16">\n      <path d="M13.359 11.238C15.06 9.72 16 8 16 8s-3-5.5-8-5.5a7.028 7.028 0 0 0-2.79.588l.77.771A5.944 5.944 0 0 1 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.134 13.134 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755-.165.165-.337.328-.517.486l.708.709z"/>\n      <path d="M11.297 9.176a3.5 3.5 0 0 0-4.474-4.474l.823.823a2.5 2.5 0 0 1 2.829 2.829l.822.822zm-2.943 1.299.822.822a3.5 3.5 0 0 1-4.474-4.474l.823.823a2.5 2.5 0 0 0 2.829 2.829z"/>\n      <path d="M3.35 5.47c-.18.16-.353.322-.518.487A13.134 13.134 0 0 0 1.172 8l.195.288c.335.48.83 1.12 1.465 1.755C4.121 11.332 5.881 12.5 8 12.5c.716 0 1.39-.133 2.02-.36l.77.772A7.029 7.029 0 0 1 8 13.5C3 13.5 0 8 0 8s.939-1.721 2.641-3.238l.708.709zm10.296 8.884-12-12 .708-.708 12 12-.708.708z"/>\n    </svg>\n  ',eyedropper:'\n    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eyedropper" viewBox="0 0 16 16">\n      <path d="M13.354.646a1.207 1.207 0 0 0-1.708 0L8.5 3.793l-.646-.647a.5.5 0 1 0-.708.708L8.293 5l-7.147 7.146A.5.5 0 0 0 1 12.5v1.793l-.854.853a.5.5 0 1 0 .708.707L1.707 15H3.5a.5.5 0 0 0 .354-.146L11 7.707l1.146 1.147a.5.5 0 0 0 .708-.708l-.647-.646 3.147-3.146a1.207 1.207 0 0 0 0-1.708l-2-2zM2 12.707l7-7L10.293 7l-7 7H2v-1.293z"></path>\n    </svg>\n  ',"grip-vertical":'\n    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-grip-vertical" viewBox="0 0 16 16">\n      <path d="M7 2a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zM7 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zM7 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm-3 3a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm-3 3a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"></path>\n    </svg>\n  ',indeterminate:'\n    <svg part="indeterminate-icon" class="checkbox__icon" viewBox="0 0 16 16">\n      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">\n        <g stroke="currentColor" stroke-width="2">\n          <g transform="translate(2.285714, 6.857143)">\n            <path d="M10.2857143,1.14285714 L1.14285714,1.14285714"></path>\n          </g>\n        </g>\n      </g>\n    </svg>\n  ',"person-fill":'\n    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-fill" viewBox="0 0 16 16">\n      <path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/>\n    </svg>\n  ',"play-fill":'\n    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-play-fill" viewBox="0 0 16 16">\n      <path d="m11.596 8.697-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z"></path>\n    </svg>\n  ',"pause-fill":'\n    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pause-fill" viewBox="0 0 16 16">\n      <path d="M5.5 3.5A1.5 1.5 0 0 1 7 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5zm5 0A1.5 1.5 0 0 1 12 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5z"></path>\n    </svg>\n  ',radio:'\n    <svg part="checked-icon" class="radio__icon" viewBox="0 0 16 16">\n      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g fill="currentColor">\n          <circle cx="8" cy="8" r="3.42857143"></circle>\n        </g>\n      </g>\n    </svg>\n  ',"star-fill":'\n    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-star-fill" viewBox="0 0 16 16">\n      <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>\n    </svg>\n  ',"x-lg":'\n    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-lg" viewBox="0 0 16 16">\n      <path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z"/>\n    </svg>\n  ',"x-circle-fill":'\n    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-circle-fill" viewBox="0 0 16 16">\n      <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z"></path>\n    </svg>\n  '},qt=[Gt,{name:"system",resolver:t=>t in jt?`data:image/svg+xml,${encodeURIComponent(jt[t])}`:""}],Kt=[];function Zt(t){return qt.find(e=>e.name===t)}var Qt=I`
  :host {
    display: inline-block;
    width: 1em;
    height: 1em;
    box-sizing: content-box !important;
  }

  svg {
    display: block;
    height: 100%;
    width: 100%;
  }
`;function Jt(t,e){const i=p({waitUntilFirstUpdate:!1},e);return(e,r)=>{const{update:s}=e,a=Array.isArray(t)?t:[t];e.update=function(t){a.forEach(e=>{const s=e;if(t.has(s)){const e=t.get(s),a=this[s];e!==a&&(i.waitUntilFirstUpdate&&!this.hasUpdated||this[r](e,a))}}),s.call(this,t)}}}var te=I`
  :host {
    box-sizing: border-box;
  }

  :host *,
  :host *::before,
  :host *::after {
    box-sizing: inherit;
  }

  [hidden] {
    display: none !important;
  }
`;const ee={attribute:!0,type:String,converter:U,reflect:!1,hasChanged:G},ie=(t=ee,e,i)=>{const{kind:r,metadata:s}=i;let a=globalThis.litPropertyMetadata.get(s);if(void 0===a&&globalThis.litPropertyMetadata.set(s,a=new Map),"setter"===r&&((t=Object.create(t)).wrapped=!0),a.set(i.name,t),"accessor"===r){const{name:r}=i;return{set(i){const s=e.get.call(this);e.set.call(this,i),this.requestUpdate(r,s,t)},init(e){return void 0!==e&&this.C(r,void 0,t,e),e}}}if("setter"===r){const{name:r}=i;return function(i){const s=this[r];e.call(this,i),this.requestUpdate(r,s,t)}}throw Error("Unsupported decorator location: "+r)};function re(t){return(e,i)=>"object"==typeof i?ie(t,e,i):((t,e,i)=>{const r=e.hasOwnProperty(i);return e.constructor.createProperty(i,t),r?Object.getOwnPropertyDescriptor(e,i):void 0})(t,e,i)}function se(t){return re({...t,state:!0,attribute:!1})}function ae(t){return(e,i)=>{const r="function"==typeof e?e:e[i];Object.assign(r,t)}}const ne=(t,e,i)=>(i.configurable=!0,i.enumerable=!0,Reflect.decorate&&"object"!=typeof e&&Object.defineProperty(t,e,i),i);function oe(t,e){return(i,r,s)=>{const a=e=>e.renderRoot?.querySelector(t)??null;if(e){const{get:t,set:e}="object"==typeof r?i:s??(()=>{const t=Symbol();return{get(){return this[t]},set(e){this[t]=e}}})();return ne(i,r,{get(){let i=t.call(this);return void 0===i&&(i=a(this),(null!==i||this.hasUpdated)&&e.call(this,i)),i}})}return ne(i,r,{get(){return a(this)}})}}var le,he=class extends Lt{constructor(){var t,e;super(),t=this,(e=le).has(t)?d("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,false),this.initialReflectedProperties=new Map,Object.entries(this.constructor.dependencies).forEach(([t,e])=>{this.constructor.define(t,e)})}emit(t,e){const i=new CustomEvent(t,p({bubbles:!0,cancelable:!1,composed:!0,detail:{}},e));return this.dispatchEvent(i),i}static define(t,e=this,i={}){const r=customElements.get(t);if(!r){try{customElements.define(t,e,i)}catch(r){customElements.define(t,class extends e{},i)}return}let s=" (unknown version)",a=s;"version"in e&&e.version&&(s=" v"+e.version),"version"in r&&r.version&&(a=" v"+r.version),s&&a&&s===a||console.warn(`Attempted to register <${t}>${s}, but <${t}>${a} has already been registered.`)}attributeChangedCallback(t,e,i){var r;g(this,r=le,"read from private field"),r.get(this)||(this.constructor.elementProperties.forEach((t,e)=>{t.reflect&&null!=this[e]&&this.initialReflectedProperties.set(e,this[e])}),((t,e,i)=>{g(t,e,"write to private field"),e.set(t,i)})(this,le,!0)),super.attributeChangedCallback(t,e,i)}willUpdate(t){super.willUpdate(t),this.initialReflectedProperties.forEach((e,i)=>{t.has(i)&&null==this[i]&&(this[i]=e)})}};le=new WeakMap,he.version="2.20.1",he.dependencies={},f([re()],he.prototype,"dir",2),f([re()],he.prototype,"lang",2);const{I:ce}=Rt,de=t=>void 0===t.strings,ue={};var pe,me=Symbol(),fe=Symbol(),ge=new Map,be=class extends he{constructor(){super(...arguments),this.initialRender=!1,this.svg=null,this.label="",this.library="default"}async resolveIcon(t,e){var i;let r;if(null==e?void 0:e.spriteSheet)return this.svg=bt`<svg part="svg">
        <use part="use" href="${t}"></use>
      </svg>`,this.svg;try{if(r=await fetch(t,{mode:"cors"}),!r.ok)return 410===r.status?me:fe}catch(t){return fe}try{const t=document.createElement("div");t.innerHTML=await r.text();const e=t.firstElementChild;if("svg"!==(null==(i=null==e?void 0:e.tagName)?void 0:i.toLowerCase()))return me;pe||(pe=new DOMParser);const s=pe.parseFromString(e.outerHTML,"text/html").body.querySelector("svg");return s?(s.part.add("svg"),document.adoptNode(s)):me}catch(t){return me}}connectedCallback(){super.connectedCallback(),Kt.push(this)}firstUpdated(){this.initialRender=!0,this.setIcon()}disconnectedCallback(){var t;super.disconnectedCallback(),t=this,Kt=Kt.filter(e=>e!==t)}getIconSource(){const t=Zt(this.library);return this.name&&t?{url:t.resolver(this.name),fromLibrary:!0}:{url:this.src,fromLibrary:!1}}handleLabelChange(){"string"==typeof this.label&&this.label.length>0?(this.setAttribute("role","img"),this.setAttribute("aria-label",this.label),this.removeAttribute("aria-hidden")):(this.removeAttribute("role"),this.removeAttribute("aria-label"),this.setAttribute("aria-hidden","true"))}async setIcon(){var t;const{url:e,fromLibrary:i}=this.getIconSource(),r=i?Zt(this.library):void 0;if(!e)return void(this.svg=null);let s=ge.get(e);if(s||(s=this.resolveIcon(e,r),ge.set(e,s)),!this.initialRender)return;const a=await s;if(a===fe&&ge.delete(e),e===this.getIconSource().url)if((t=>void 0!==t?._$litType$)(a)){if(this.svg=a,r){await this.updateComplete;const t=this.shadowRoot.querySelector("[part='svg']");"function"==typeof r.mutator&&t&&r.mutator(t)}}else switch(a){case fe:case me:this.svg=null,this.emit("sl-error");break;default:this.svg=a.cloneNode(!0),null==(t=null==r?void 0:r.mutator)||t.call(r,this.svg),this.emit("sl-load")}}render(){return this.svg}};be.styles=[te,Qt],f([se()],be.prototype,"svg",2),f([re({reflect:!0})],be.prototype,"name",2),f([re()],be.prototype,"src",2),f([re()],be.prototype,"label",2),f([re({reflect:!0})],be.prototype,"library",2),f([Jt("label")],be.prototype,"handleLabelChange",1),f([Jt(["name","src","library"])],be.prototype,"setIcon",1);const ye=t=>(...e)=>({_$litDirective$:t,values:e});class ve{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,e,i){this._$Ct=t,this._$AM=e,this._$Ci=i}_$AS(t,e){return this.update(t,e)}update(t,e){return this.render(...e)}}const xe=ye(class extends ve{constructor(t){if(super(t),1!==t.type||"class"!==t.name||t.strings?.length>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(t){return" "+Object.keys(t).filter(e=>t[e]).join(" ")+" "}update(t,[e]){if(void 0===this.st){this.st=new Set,void 0!==t.strings&&(this.nt=new Set(t.strings.join(" ").split(/\s/).filter(t=>""!==t)));for(const t in e)e[t]&&!this.nt?.has(t)&&this.st.add(t);return this.render(e)}const i=t.element.classList;for(const t of this.st)t in e||(i.remove(t),this.st.delete(t));for(const t in e){const r=!!e[t];r===this.st.has(t)||this.nt?.has(t)||(r?(i.add(t),this.st.add(t)):(i.remove(t),this.st.delete(t)))}return xt}}),we=t=>t??wt,_e=ye(class extends ve{constructor(t){if(super(t),3!==t.type&&1!==t.type&&4!==t.type)throw Error("The `live` directive is not allowed on child or event bindings");if(!de(t))throw Error("`live` bindings can only contain a single expression")}render(t){return t}update(t,[e]){if(e===xt||e===wt)return e;const i=t.element,r=t.name;if(3===t.type){if(e===i[r])return xt}else if(4===t.type){if(!!e===i.hasAttribute(r))return xt}else if(1===t.type&&i.getAttribute(r)===e+"")return xt;return((t,e=ue)=>{t._$AH=e})(t),e}});var ke=class extends he{constructor(){super(...arguments),this.formControlController=new k(this,{value:t=>t.checked?t.value||"on":void 0,defaultValue:t=>t.defaultChecked,setValue:(t,e)=>t.checked=e}),this.hasSlotController=new Yt(this,"help-text"),this.hasFocus=!1,this.title="",this.name="",this.size="medium",this.disabled=!1,this.checked=!1,this.indeterminate=!1,this.defaultChecked=!1,this.form="",this.required=!1,this.helpText=""}get validity(){return this.input.validity}get validationMessage(){return this.input.validationMessage}firstUpdated(){this.formControlController.updateValidity()}handleClick(){this.checked=!this.checked,this.indeterminate=!1,this.emit("sl-change")}handleBlur(){this.hasFocus=!1,this.emit("sl-blur")}handleInput(){this.emit("sl-input")}handleInvalid(t){this.formControlController.setValidity(!1),this.formControlController.emitInvalidEvent(t)}handleFocus(){this.hasFocus=!0,this.emit("sl-focus")}handleDisabledChange(){this.formControlController.setValidity(this.disabled)}handleStateChange(){this.input.checked=this.checked,this.input.indeterminate=this.indeterminate,this.formControlController.updateValidity()}click(){this.input.click()}focus(t){this.input.focus(t)}blur(){this.input.blur()}checkValidity(){return this.input.checkValidity()}getForm(){return this.formControlController.getForm()}reportValidity(){return this.input.reportValidity()}setCustomValidity(t){this.input.setCustomValidity(t),this.formControlController.updateValidity()}render(){const t=this.hasSlotController.test("help-text"),e=!!this.helpText||!!t;return bt`
      <div
        class=${xe({"form-control":!0,"form-control--small":"small"===this.size,"form-control--medium":"medium"===this.size,"form-control--large":"large"===this.size,"form-control--has-help-text":e})}
      >
        <label
          part="base"
          class=${xe({checkbox:!0,"checkbox--checked":this.checked,"checkbox--disabled":this.disabled,"checkbox--focused":this.hasFocus,"checkbox--indeterminate":this.indeterminate,"checkbox--small":"small"===this.size,"checkbox--medium":"medium"===this.size,"checkbox--large":"large"===this.size})}
        >
          <input
            class="checkbox__input"
            type="checkbox"
            title=${this.title}
            name=${this.name}
            value=${we(this.value)}
            .indeterminate=${_e(this.indeterminate)}
            .checked=${_e(this.checked)}
            .disabled=${this.disabled}
            .required=${this.required}
            aria-checked=${this.checked?"true":"false"}
            aria-describedby="help-text"
            @click=${this.handleClick}
            @input=${this.handleInput}
            @invalid=${this.handleInvalid}
            @blur=${this.handleBlur}
            @focus=${this.handleFocus}
          />

          <span
            part="control${this.checked?" control--checked":""}${this.indeterminate?" control--indeterminate":""}"
            class="checkbox__control"
          >
            ${this.checked?bt`
                  <sl-icon part="checked-icon" class="checkbox__checked-icon" library="system" name="check"></sl-icon>
                `:""}
            ${!this.checked&&this.indeterminate?bt`
                  <sl-icon
                    part="indeterminate-icon"
                    class="checkbox__indeterminate-icon"
                    library="system"
                    name="indeterminate"
                  ></sl-icon>
                `:""}
          </span>

          <div part="label" class="checkbox__label">
            <slot></slot>
          </div>
        </label>

        <div
          aria-hidden=${e?"false":"true"}
          class="form-control__help-text"
          id="help-text"
          part="form-control-help-text"
        >
          <slot name="help-text">${this.helpText}</slot>
        </div>
      </div>
    `}};ke.styles=[te,Nt,Vt],ke.dependencies={"sl-icon":be},f([oe('input[type="checkbox"]')],ke.prototype,"input",2),f([se()],ke.prototype,"hasFocus",2),f([re()],ke.prototype,"title",2),f([re()],ke.prototype,"name",2),f([re()],ke.prototype,"value",2),f([re({reflect:!0})],ke.prototype,"size",2),f([re({type:Boolean,reflect:!0})],ke.prototype,"disabled",2),f([re({type:Boolean,reflect:!0})],ke.prototype,"checked",2),f([re({type:Boolean,reflect:!0})],ke.prototype,"indeterminate",2),f([Ht("checked")],ke.prototype,"defaultChecked",2),f([re({reflect:!0})],ke.prototype,"form",2),f([re({type:Boolean,reflect:!0})],ke.prototype,"required",2),f([re({attribute:"help-text"})],ke.prototype,"helpText",2),f([Jt("disabled",{waitUntilFirstUpdate:!0})],ke.prototype,"handleDisabledChange",1),f([Jt(["checked","indeterminate"],{waitUntilFirstUpdate:!0})],ke.prototype,"handleStateChange",1);var Se=I`
  :host {
    --track-width: 2px;
    --track-color: rgb(128 128 128 / 25%);
    --indicator-color: var(--sl-color-primary-600);
    --speed: 2s;

    display: inline-flex;
    width: 1em;
    height: 1em;
    flex: none;
  }

  .spinner {
    flex: 1 1 auto;
    height: 100%;
    width: 100%;
  }

  .spinner__track,
  .spinner__indicator {
    fill: none;
    stroke-width: var(--track-width);
    r: calc(0.5em - var(--track-width) / 2);
    cx: 0.5em;
    cy: 0.5em;
    transform-origin: 50% 50%;
  }

  .spinner__track {
    stroke: var(--track-color);
    transform-origin: 0% 0%;
  }

  .spinner__indicator {
    stroke: var(--indicator-color);
    stroke-linecap: round;
    stroke-dasharray: 150% 75%;
    animation: spin var(--speed) linear infinite;
  }

  @keyframes spin {
    0% {
      transform: rotate(0deg);
      stroke-dasharray: 0.05em, 3em;
    }

    50% {
      transform: rotate(450deg);
      stroke-dasharray: 1.375em, 1.375em;
    }

    100% {
      transform: rotate(1080deg);
      stroke-dasharray: 0.05em, 3em;
    }
  }
`;const Ce=new Set,Ae=new Map;let Te,Me="ltr",Be="en";const Pe="undefined"!=typeof MutationObserver&&"undefined"!=typeof document&&void 0!==document.documentElement;if(Pe){const t=new MutationObserver(Ie);Me=document.documentElement.dir||"ltr",Be=document.documentElement.lang||navigator.language,t.observe(document.documentElement,{attributes:!0,attributeFilter:["dir","lang"]})}function Oe(...t){t.map(t=>{const e=t.$code.toLowerCase();Ae.has(e)?Ae.set(e,Object.assign(Object.assign({},Ae.get(e)),t)):Ae.set(e,t),Te||(Te=t)}),Ie()}function Ie(){Pe&&(Me=document.documentElement.dir||"ltr",Be=document.documentElement.lang||navigator.language),[...Ce.keys()].map(t=>{"function"==typeof t.requestUpdate&&t.requestUpdate()})}class Ee{constructor(t){this.host=t,this.host.addController(this)}hostConnected(){Ce.add(this.host)}hostDisconnected(){Ce.delete(this.host)}dir(){return`${this.host.dir||Me}`.toLowerCase()}lang(){return`${this.host.lang||Be}`.toLowerCase()}getTranslationData(t){var e,i;const r=new Intl.Locale(t.replace(/_/g,"-")),s=null==r?void 0:r.language.toLowerCase(),a=null!==(i=null===(e=null==r?void 0:r.region)||void 0===e?void 0:e.toLowerCase())&&void 0!==i?i:"";return{locale:r,language:s,region:a,primary:Ae.get(`${s}-${a}`),secondary:Ae.get(s)}}exists(t,e){var i;const{primary:r,secondary:s}=this.getTranslationData(null!==(i=e.lang)&&void 0!==i?i:this.lang());return e=Object.assign({includeFallback:!1},e),!!(r&&r[t]||s&&s[t]||e.includeFallback&&Te&&Te[t])}term(t,...e){const{primary:i,secondary:r}=this.getTranslationData(this.lang());let s;if(i&&i[t])s=i[t];else if(r&&r[t])s=r[t];else{if(!Te||!Te[t])return console.error(`No translation found for: ${String(t)}`),String(t);s=Te[t]}return"function"==typeof s?s(...e):s}date(t,e){return t=new Date(t),new Intl.DateTimeFormat(this.lang(),e).format(t)}number(t,e){return t=Number(t),isNaN(t)?"":new Intl.NumberFormat(this.lang(),e).format(t)}relativeTime(t,e,i){return new Intl.RelativeTimeFormat(this.lang(),i).format(t,e)}}var $e={$code:"en",$name:"English",$dir:"ltr",carousel:"Carousel",clearEntry:"Clear entry",close:"Close",copied:"Copied",copy:"Copy",currentValue:"Current value",error:"Error",goToSlide:(t,e)=>`Go to slide ${t} of ${e}`,hidePassword:"Hide password",loading:"Loading",nextSlide:"Next slide",numOptionsSelected:t=>0===t?"No options selected":1===t?"1 option selected":`${t} options selected`,previousSlide:"Previous slide",progress:"Progress",remove:"Remove",resize:"Resize",scrollToEnd:"Scroll to end",scrollToStart:"Scroll to start",selectAColorFromTheScreen:"Select a color from the screen",showPassword:"Show password",slideNum:t=>`Slide ${t}`,toggleColorFormat:"Toggle color format"};Oe($e);var Re=$e,ze=class extends Ee{};Oe(Re);var Fe=class extends he{constructor(){super(...arguments),this.localize=new ze(this)}render(){return bt`
      <svg part="base" class="spinner" role="progressbar" aria-label=${this.localize.term("loading")}>
        <circle class="spinner__track"></circle>
        <circle class="spinner__indicator"></circle>
      </svg>
    `}};Fe.styles=[te,Se];var Le=new Map,De=new WeakMap;function We(t,e){return"rtl"===e.toLowerCase()?{keyframes:t.rtlKeyframes||t.keyframes,options:t.options}:t}function Ve(t,e){Le.set(t,function(t){return null!=t?t:{keyframes:[],options:{duration:0}}}(e))}function He(t,e,i){const r=De.get(t);if(null==r?void 0:r[e])return We(r[e],i.dir);const s=Le.get(e);return s?We(s,i.dir):{keyframes:[],options:{duration:0}}}function Ne(t,e,i){return new Promise(r=>{if((null==i?void 0:i.duration)===1/0)throw new Error("Promise-based animations must be finite.");const s=t.animate(e,m(p({},i),{duration:Xe()?0:i.duration}));s.addEventListener("cancel",r,{once:!0}),s.addEventListener("finish",r,{once:!0})})}function Ye(t){return(t=t.toString().toLowerCase()).indexOf("ms")>-1?parseFloat(t):t.indexOf("s")>-1?1e3*parseFloat(t):parseFloat(t)}function Xe(){return window.matchMedia("(prefers-reduced-motion: reduce)").matches}function Ue(t){return Promise.all(t.getAnimations().map(t=>new Promise(e=>{t.cancel(),requestAnimationFrame(e)})))}function Ge(t,e){return t.map(t=>m(p({},t),{height:"auto"===t.height?`${e}px`:t.height}))}function je(t,e,i){return t?e(t):i?.(t)}var qe=class t extends he{constructor(){super(...arguments),this.localize=new ze(this),this.indeterminate=!1,this.isLeaf=!1,this.loading=!1,this.selectable=!1,this.expanded=!1,this.selected=!1,this.disabled=!1,this.lazy=!1}static isTreeItem(t){return t instanceof Element&&"treeitem"===t.getAttribute("role")}connectedCallback(){super.connectedCallback(),this.setAttribute("role","treeitem"),this.setAttribute("tabindex","-1"),this.isNestedItem()&&(this.slot="children")}firstUpdated(){this.childrenContainer.hidden=!this.expanded,this.childrenContainer.style.height=this.expanded?"auto":"0",this.isLeaf=!this.lazy&&0===this.getChildrenItems().length,this.handleExpandedChange()}async animateCollapse(){this.emit("sl-collapse"),await Ue(this.childrenContainer);const{keyframes:t,options:e}=He(this,"tree-item.collapse",{dir:this.localize.dir()});await Ne(this.childrenContainer,Ge(t,this.childrenContainer.scrollHeight),e),this.childrenContainer.hidden=!0,this.emit("sl-after-collapse")}isNestedItem(){const e=this.parentElement;return!!e&&t.isTreeItem(e)}handleChildrenSlotChange(){this.loading=!1,this.isLeaf=!this.lazy&&0===this.getChildrenItems().length}willUpdate(t){t.has("selected")&&!t.has("indeterminate")&&(this.indeterminate=!1)}async animateExpand(){this.emit("sl-expand"),await Ue(this.childrenContainer),this.childrenContainer.hidden=!1;const{keyframes:t,options:e}=He(this,"tree-item.expand",{dir:this.localize.dir()});await Ne(this.childrenContainer,Ge(t,this.childrenContainer.scrollHeight),e),this.childrenContainer.style.height="auto",this.emit("sl-after-expand")}handleLoadingChange(){this.setAttribute("aria-busy",this.loading?"true":"false"),this.loading||this.animateExpand()}handleDisabledChange(){this.setAttribute("aria-disabled",this.disabled?"true":"false")}handleSelectedChange(){this.setAttribute("aria-selected",this.selected?"true":"false")}handleExpandedChange(){this.isLeaf?this.removeAttribute("aria-expanded"):this.setAttribute("aria-expanded",this.expanded?"true":"false")}handleExpandAnimation(){this.expanded?this.lazy?(this.loading=!0,this.emit("sl-lazy-load")):this.animateExpand():this.animateCollapse()}handleLazyChange(){this.emit("sl-lazy-change")}getChildrenItems({includeDisabled:e=!0}={}){return this.childrenSlot?[...this.childrenSlot.assignedElements({flatten:!0})].filter(i=>t.isTreeItem(i)&&(e||!i.disabled)):[]}render(){const t="rtl"===this.localize.dir(),e=!this.loading&&(!this.isLeaf||this.lazy);return bt`
      <div
        part="base"
        class="${xe({"tree-item":!0,"tree-item--expanded":this.expanded,"tree-item--selected":this.selected,"tree-item--disabled":this.disabled,"tree-item--leaf":this.isLeaf,"tree-item--has-expand-button":e,"tree-item--rtl":"rtl"===this.localize.dir()})}"
      >
        <div
          class="tree-item__item"
          part="
            item
            ${this.disabled?"item--disabled":""}
            ${this.expanded?"item--expanded":""}
            ${this.indeterminate?"item--indeterminate":""}
            ${this.selected?"item--selected":""}
          "
        >
          <div class="tree-item__indentation" part="indentation"></div>

          <div
            part="expand-button"
            class=${xe({"tree-item__expand-button":!0,"tree-item__expand-button--visible":e})}
            aria-hidden="true"
          >
            ${je(this.loading,()=>bt` <sl-spinner part="spinner" exportparts="base:spinner__base"></sl-spinner> `)}
            <slot class="tree-item__expand-icon-slot" name="expand-icon">
              <sl-icon library="system" name=${t?"chevron-left":"chevron-right"}></sl-icon>
            </slot>
            <slot class="tree-item__expand-icon-slot" name="collapse-icon">
              <sl-icon library="system" name=${t?"chevron-left":"chevron-right"}></sl-icon>
            </slot>
          </div>

          ${je(this.selectable,()=>bt`
              <sl-checkbox
                part="checkbox"
                exportparts="
                    base:checkbox__base,
                    control:checkbox__control,
                    control--checked:checkbox__control--checked,
                    control--indeterminate:checkbox__control--indeterminate,
                    checked-icon:checkbox__checked-icon,
                    indeterminate-icon:checkbox__indeterminate-icon,
                    label:checkbox__label
                  "
                class="tree-item__checkbox"
                ?disabled="${this.disabled}"
                ?checked="${_e(this.selected)}"
                ?indeterminate="${this.indeterminate}"
                tabindex="-1"
              ></sl-checkbox>
            `)}

          <slot class="tree-item__label" part="label"></slot>
        </div>

        <div class="tree-item__children" part="children" role="group">
          <slot name="children" @slotchange="${this.handleChildrenSlotChange}"></slot>
        </div>
      </div>
    `}};qe.styles=[te,Wt],qe.dependencies={"sl-checkbox":ke,"sl-icon":be,"sl-spinner":Fe},f([se()],qe.prototype,"indeterminate",2),f([se()],qe.prototype,"isLeaf",2),f([se()],qe.prototype,"loading",2),f([se()],qe.prototype,"selectable",2),f([re({type:Boolean,reflect:!0})],qe.prototype,"expanded",2),f([re({type:Boolean,reflect:!0})],qe.prototype,"selected",2),f([re({type:Boolean,reflect:!0})],qe.prototype,"disabled",2),f([re({type:Boolean,reflect:!0})],qe.prototype,"lazy",2),f([oe("slot:not([name])")],qe.prototype,"defaultSlot",2),f([oe("slot[name=children]")],qe.prototype,"childrenSlot",2),f([oe(".tree-item__item")],qe.prototype,"itemElement",2),f([oe(".tree-item__children")],qe.prototype,"childrenContainer",2),f([oe(".tree-item__expand-button slot")],qe.prototype,"expandButtonSlot",2),f([Jt("loading",{waitUntilFirstUpdate:!0})],qe.prototype,"handleLoadingChange",1),f([Jt("disabled")],qe.prototype,"handleDisabledChange",1),f([Jt("selected")],qe.prototype,"handleSelectedChange",1),f([Jt("expanded",{waitUntilFirstUpdate:!0})],qe.prototype,"handleExpandedChange",1),f([Jt("expanded",{waitUntilFirstUpdate:!0})],qe.prototype,"handleExpandAnimation",1),f([Jt("lazy",{waitUntilFirstUpdate:!0})],qe.prototype,"handleLazyChange",1);var Ke=qe;Ve("tree-item.expand",{keyframes:[{height:"0",opacity:"0",overflow:"hidden"},{height:"auto",opacity:"1",overflow:"hidden"}],options:{duration:250,easing:"cubic-bezier(0.4, 0.0, 0.2, 1)"}}),Ve("tree-item.collapse",{keyframes:[{height:"auto",opacity:"1",overflow:"hidden"},{height:"0",opacity:"0",overflow:"hidden"}],options:{duration:200,easing:"cubic-bezier(0.4, 0.0, 0.2, 1)"}}),Ke.define("sl-tree-item");var Ze=I`
  :host {
    --max-width: 20rem;
    --hide-delay: 0ms;
    --show-delay: 150ms;

    display: contents;
  }

  .tooltip {
    --arrow-size: var(--sl-tooltip-arrow-size);
    --arrow-color: var(--sl-tooltip-background-color);
  }

  .tooltip::part(popup) {
    z-index: var(--sl-z-index-tooltip);
  }

  .tooltip[placement^='top']::part(popup) {
    transform-origin: bottom;
  }

  .tooltip[placement^='bottom']::part(popup) {
    transform-origin: top;
  }

  .tooltip[placement^='left']::part(popup) {
    transform-origin: right;
  }

  .tooltip[placement^='right']::part(popup) {
    transform-origin: left;
  }

  .tooltip__body {
    display: block;
    width: max-content;
    max-width: var(--max-width);
    border-radius: var(--sl-tooltip-border-radius);
    background-color: var(--sl-tooltip-background-color);
    font-family: var(--sl-tooltip-font-family);
    font-size: var(--sl-tooltip-font-size);
    font-weight: var(--sl-tooltip-font-weight);
    line-height: var(--sl-tooltip-line-height);
    text-align: start;
    white-space: normal;
    color: var(--sl-tooltip-color);
    padding: var(--sl-tooltip-padding);
    pointer-events: none;
    user-select: none;
    -webkit-user-select: none;
  }
`,Qe=I`
  :host {
    --arrow-color: var(--sl-color-neutral-1000);
    --arrow-size: 6px;

    /*
     * These properties are computed to account for the arrow's dimensions after being rotated 45º. The constant
     * 0.7071 is derived from sin(45), which is the diagonal size of the arrow's container after rotating.
     */
    --arrow-size-diagonal: calc(var(--arrow-size) * 0.7071);
    --arrow-padding-offset: calc(var(--arrow-size-diagonal) - var(--arrow-size));

    display: contents;
  }

  .popup {
    position: absolute;
    isolation: isolate;
    max-width: var(--auto-size-available-width, none);
    max-height: var(--auto-size-available-height, none);
  }

  .popup--fixed {
    position: fixed;
  }

  .popup:not(.popup--active) {
    display: none;
  }

  .popup__arrow {
    position: absolute;
    width: calc(var(--arrow-size-diagonal) * 2);
    height: calc(var(--arrow-size-diagonal) * 2);
    rotate: 45deg;
    background: var(--arrow-color);
    z-index: -1;
  }

  /* Hover bridge */
  .popup-hover-bridge:not(.popup-hover-bridge--visible) {
    display: none;
  }

  .popup-hover-bridge {
    position: fixed;
    z-index: calc(var(--sl-z-index-dropdown) - 1);
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    clip-path: polygon(
      var(--hover-bridge-top-left-x, 0) var(--hover-bridge-top-left-y, 0),
      var(--hover-bridge-top-right-x, 0) var(--hover-bridge-top-right-y, 0),
      var(--hover-bridge-bottom-right-x, 0) var(--hover-bridge-bottom-right-y, 0),
      var(--hover-bridge-bottom-left-x, 0) var(--hover-bridge-bottom-left-y, 0)
    );
  }
`;const Je=Math.min,ti=Math.max,ei=Math.round,ii=Math.floor,ri=t=>({x:t,y:t}),si={left:"right",right:"left",bottom:"top",top:"bottom"},ai={start:"end",end:"start"};function ni(t,e,i){return ti(t,Je(e,i))}function oi(t,e){return"function"==typeof t?t(e):t}function li(t){return t.split("-")[0]}function hi(t){return t.split("-")[1]}function ci(t){return"x"===t?"y":"x"}function di(t){return"y"===t?"height":"width"}const ui=new Set(["top","bottom"]);function pi(t){return ui.has(li(t))?"y":"x"}function mi(t){return ci(pi(t))}function fi(t){return t.replace(/start|end/g,t=>ai[t])}const gi=["left","right"],bi=["right","left"],yi=["top","bottom"],vi=["bottom","top"];function xi(t){return t.replace(/left|right|bottom|top/g,t=>si[t])}function wi(t){return"number"!=typeof t?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(t):{top:t,right:t,bottom:t,left:t}}function _i(t){const{x:e,y:i,width:r,height:s}=t;return{width:r,height:s,top:i,left:e,right:e+r,bottom:i+s,x:e,y:i}}function ki(t,e,i){let{reference:r,floating:s}=t;const a=pi(e),n=mi(e),o=di(n),l=li(e),h="y"===a,c=r.x+r.width/2-s.width/2,d=r.y+r.height/2-s.height/2,u=r[o]/2-s[o]/2;let p;switch(l){case"top":p={x:c,y:r.y-s.height};break;case"bottom":p={x:c,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:d};break;case"left":p={x:r.x-s.width,y:d};break;default:p={x:r.x,y:r.y}}switch(hi(e)){case"start":p[n]-=u*(i&&h?-1:1);break;case"end":p[n]+=u*(i&&h?-1:1)}return p}async function Si(t,e){var i;void 0===e&&(e={});const{x:r,y:s,platform:a,rects:n,elements:o,strategy:l}=t,{boundary:h="clippingAncestors",rootBoundary:c="viewport",elementContext:d="floating",altBoundary:u=!1,padding:p=0}=oi(e,t),m=wi(p),f=o[u?"floating"===d?"reference":"floating":d],g=_i(await a.getClippingRect({element:null==(i=await(null==a.isElement?void 0:a.isElement(f)))||i?f:f.contextElement||await(null==a.getDocumentElement?void 0:a.getDocumentElement(o.floating)),boundary:h,rootBoundary:c,strategy:l})),b="floating"===d?{x:r,y:s,width:n.floating.width,height:n.floating.height}:n.reference,y=await(null==a.getOffsetParent?void 0:a.getOffsetParent(o.floating)),v=await(null==a.isElement?void 0:a.isElement(y))&&await(null==a.getScale?void 0:a.getScale(y))||{x:1,y:1},x=_i(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:b,offsetParent:y,strategy:l}):b);return{top:(g.top-x.top+m.top)/v.y,bottom:(x.bottom-g.bottom+m.bottom)/v.y,left:(g.left-x.left+m.left)/v.x,right:(x.right-g.right+m.right)/v.x}}const Ci=new Set(["left","top"]);function Ai(){return"undefined"!=typeof window}function Ti(t){return Pi(t)?(t.nodeName||"").toLowerCase():"#document"}function Mi(t){var e;return(null==t||null==(e=t.ownerDocument)?void 0:e.defaultView)||window}function Bi(t){var e;return null==(e=(Pi(t)?t.ownerDocument:t.document)||window.document)?void 0:e.documentElement}function Pi(t){return!!Ai()&&(t instanceof Node||t instanceof Mi(t).Node)}function Oi(t){return!!Ai()&&(t instanceof Element||t instanceof Mi(t).Element)}function Ii(t){return!!Ai()&&(t instanceof HTMLElement||t instanceof Mi(t).HTMLElement)}function Ei(t){return!(!Ai()||"undefined"==typeof ShadowRoot)&&(t instanceof ShadowRoot||t instanceof Mi(t).ShadowRoot)}const $i=new Set(["inline","contents"]);function Ri(t){const{overflow:e,overflowX:i,overflowY:r,display:s}=Gi(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+i)&&!$i.has(s)}const zi=new Set(["table","td","th"]);function Fi(t){return zi.has(Ti(t))}const Li=[":popover-open",":modal"];function Di(t){return Li.some(e=>{try{return t.matches(e)}catch(t){return!1}})}const Wi=["transform","translate","scale","rotate","perspective"],Vi=["transform","translate","scale","rotate","perspective","filter"],Hi=["paint","layout","strict","content"];function Ni(t){const e=Yi(),i=Oi(t)?Gi(t):t;return Wi.some(t=>!!i[t]&&"none"!==i[t])||!!i.containerType&&"normal"!==i.containerType||!e&&!!i.backdropFilter&&"none"!==i.backdropFilter||!e&&!!i.filter&&"none"!==i.filter||Vi.some(t=>(i.willChange||"").includes(t))||Hi.some(t=>(i.contain||"").includes(t))}function Yi(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}const Xi=new Set(["html","body","#document"]);function Ui(t){return Xi.has(Ti(t))}function Gi(t){return Mi(t).getComputedStyle(t)}function ji(t){return Oi(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function qi(t){if("html"===Ti(t))return t;const e=t.assignedSlot||t.parentNode||Ei(t)&&t.host||Bi(t);return Ei(e)?e.host:e}function Ki(t){const e=qi(t);return Ui(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ii(e)&&Ri(e)?e:Ki(e)}function Zi(t,e,i){var r;void 0===e&&(e=[]),void 0===i&&(i=!0);const s=Ki(t),a=s===(null==(r=t.ownerDocument)?void 0:r.body),n=Mi(s);if(a){const t=Qi(n);return e.concat(n,n.visualViewport||[],Ri(s)?s:[],t&&i?Zi(t):[])}return e.concat(s,Zi(s,[],i))}function Qi(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Ji(t){const e=Gi(t);let i=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Ii(t),a=s?t.offsetWidth:i,n=s?t.offsetHeight:r,o=ei(i)!==a||ei(r)!==n;return o&&(i=a,r=n),{width:i,height:r,$:o}}function tr(t){return Oi(t)?t:t.contextElement}function er(t){const e=tr(t);if(!Ii(e))return ri(1);const i=e.getBoundingClientRect(),{width:r,height:s,$:a}=Ji(e);let n=(a?ei(i.width):i.width)/r,o=(a?ei(i.height):i.height)/s;return n&&Number.isFinite(n)||(n=1),o&&Number.isFinite(o)||(o=1),{x:n,y:o}}const ir=ri(0);function rr(t){const e=Mi(t);return Yi()&&e.visualViewport?{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}:ir}function sr(t,e,i,r){void 0===e&&(e=!1),void 0===i&&(i=!1);const s=t.getBoundingClientRect(),a=tr(t);let n=ri(1);e&&(r?Oi(r)&&(n=er(r)):n=er(t));const o=function(t,e,i){return void 0===e&&(e=!1),!(!i||e&&i!==Mi(t))&&e}(a,i,r)?rr(a):ri(0);let l=(s.left+o.x)/n.x,h=(s.top+o.y)/n.y,c=s.width/n.x,d=s.height/n.y;if(a){const t=Mi(a),e=r&&Oi(r)?Mi(r):r;let i=t,s=Qi(i);for(;s&&r&&e!==i;){const t=er(s),e=s.getBoundingClientRect(),r=Gi(s),a=e.left+(s.clientLeft+parseFloat(r.paddingLeft))*t.x,n=e.top+(s.clientTop+parseFloat(r.paddingTop))*t.y;l*=t.x,h*=t.y,c*=t.x,d*=t.y,l+=a,h+=n,i=Mi(s),s=Qi(i)}}return _i({width:c,height:d,x:l,y:h})}function ar(t,e){const i=ji(t).scrollLeft;return e?e.left+i:sr(Bi(t)).left+i}function nr(t,e,i){void 0===i&&(i=!1);const r=t.getBoundingClientRect();return{x:r.left+e.scrollLeft-(i?0:ar(t,r)),y:r.top+e.scrollTop}}const or=new Set(["absolute","fixed"]);function lr(t,e,i){let r;if("viewport"===e)r=function(t,e){const i=Mi(t),r=Bi(t),s=i.visualViewport;let a=r.clientWidth,n=r.clientHeight,o=0,l=0;if(s){a=s.width,n=s.height;const t=Yi();(!t||t&&"fixed"===e)&&(o=s.offsetLeft,l=s.offsetTop)}return{width:a,height:n,x:o,y:l}}(t,i);else if("document"===e)r=function(t){const e=Bi(t),i=ji(t),r=t.ownerDocument.body,s=ti(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=ti(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let n=-i.scrollLeft+ar(t);const o=-i.scrollTop;return"rtl"===Gi(r).direction&&(n+=ti(e.clientWidth,r.clientWidth)-s),{width:s,height:a,x:n,y:o}}(Bi(t));else if(Oi(e))r=function(t,e){const i=sr(t,!0,"fixed"===e),r=i.top+t.clientTop,s=i.left+t.clientLeft,a=Ii(t)?er(t):ri(1);return{width:t.clientWidth*a.x,height:t.clientHeight*a.y,x:s*a.x,y:r*a.y}}(e,i);else{const i=rr(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return _i(r)}function hr(t,e){const i=qi(t);return!(i===e||!Oi(i)||Ui(i))&&("fixed"===Gi(i).position||hr(i,e))}function cr(t,e,i){const r=Ii(e),s=Bi(e),a="fixed"===i,n=sr(t,!0,a,e);let o={scrollLeft:0,scrollTop:0};const l=ri(0);function h(){l.x=ar(s)}if(r||!r&&!a)if(("body"!==Ti(e)||Ri(s))&&(o=ji(e)),r){const t=sr(e,!0,a,e);l.x=t.x+e.clientLeft,l.y=t.y+e.clientTop}else s&&h();a&&!r&&s&&h();const c=!s||r||a?ri(0):nr(s,o);return{x:n.left+o.scrollLeft-l.x-c.x,y:n.top+o.scrollTop-l.y-c.y,width:n.width,height:n.height}}function dr(t){return"static"===Gi(t).position}function ur(t,e){if(!Ii(t)||"fixed"===Gi(t).position)return null;if(e)return e(t);let i=t.offsetParent;return Bi(t)===i&&(i=i.ownerDocument.body),i}function pr(t,e){const i=Mi(t);if(Di(t))return i;if(!Ii(t)){let e=qi(t);for(;e&&!Ui(e);){if(Oi(e)&&!dr(e))return e;e=qi(e)}return i}let r=ur(t,e);for(;r&&Fi(r)&&dr(r);)r=ur(r,e);return r&&Ui(r)&&dr(r)&&!Ni(r)?i:r||function(t){let e=qi(t);for(;Ii(e)&&!Ui(e);){if(Ni(e))return e;if(Di(e))return null;e=qi(e)}return null}(t)||i}const mr={convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{elements:e,rect:i,offsetParent:r,strategy:s}=t;const a="fixed"===s,n=Bi(r),o=!!e&&Di(e.floating);if(r===n||o&&a)return i;let l={scrollLeft:0,scrollTop:0},h=ri(1);const c=ri(0),d=Ii(r);if((d||!d&&!a)&&(("body"!==Ti(r)||Ri(n))&&(l=ji(r)),Ii(r))){const t=sr(r);h=er(r),c.x=t.x+r.clientLeft,c.y=t.y+r.clientTop}const u=!n||d||a?ri(0):nr(n,l,!0);return{width:i.width*h.x,height:i.height*h.y,x:i.x*h.x-l.scrollLeft*h.x+c.x+u.x,y:i.y*h.y-l.scrollTop*h.y+c.y+u.y}},getDocumentElement:Bi,getClippingRect:function(t){let{element:e,boundary:i,rootBoundary:r,strategy:s}=t;const a="clippingAncestors"===i?Di(e)?[]:function(t,e){const i=e.get(t);if(i)return i;let r=Zi(t,[],!1).filter(t=>Oi(t)&&"body"!==Ti(t)),s=null;const a="fixed"===Gi(t).position;let n=a?qi(t):t;for(;Oi(n)&&!Ui(n);){const e=Gi(n),i=Ni(n);i||"fixed"!==e.position||(s=null),(a?!i&&!s:!i&&"static"===e.position&&s&&or.has(s.position)||Ri(n)&&!i&&hr(t,n))?r=r.filter(t=>t!==n):s=e,n=qi(n)}return e.set(t,r),r}(e,this._c):[].concat(i),n=[...a,r],o=n[0],l=n.reduce((t,i)=>{const r=lr(e,i,s);return t.top=ti(r.top,t.top),t.right=Je(r.right,t.right),t.bottom=Je(r.bottom,t.bottom),t.left=ti(r.left,t.left),t},lr(e,o,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},getOffsetParent:pr,getElementRects:async function(t){const e=this.getOffsetParent||pr,i=this.getDimensions,r=await i(t.floating);return{reference:cr(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},getClientRects:function(t){return Array.from(t.getClientRects())},getDimensions:function(t){const{width:e,height:i}=Ji(t);return{width:e,height:i}},getScale:er,isElement:Oi,isRTL:function(t){return"rtl"===Gi(t).direction}};function fr(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}const gr=function(t){return void 0===t&&(t={}),{name:"flip",options:t,async fn(e){var i,r;const{placement:s,middlewareData:a,rects:n,initialPlacement:o,platform:l,elements:h}=e,{mainAxis:c=!0,crossAxis:d=!0,fallbackPlacements:u,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:f=!0,...g}=oi(t,e);if(null!=(i=a.arrow)&&i.alignmentOffset)return{};const b=li(s),y=pi(o),v=li(o)===o,x=await(null==l.isRTL?void 0:l.isRTL(h.floating)),w=u||(v||!f?[xi(o)]:function(t){const e=xi(t);return[fi(t),e,fi(e)]}(o)),_="none"!==m;!u&&_&&w.push(...function(t,e,i,r){const s=hi(t);let a=function(t,e,i){switch(t){case"top":case"bottom":return i?e?bi:gi:e?gi:bi;case"left":case"right":return e?yi:vi;default:return[]}}(li(t),"start"===i,r);return s&&(a=a.map(t=>t+"-"+s),e&&(a=a.concat(a.map(fi)))),a}(o,f,m,x));const k=[o,...w],S=await Si(e,g),C=[];let A=(null==(r=a.flip)?void 0:r.overflows)||[];if(c&&C.push(S[b]),d){const t=function(t,e,i){void 0===i&&(i=!1);const r=hi(t),s=mi(t),a=di(s);let n="x"===s?r===(i?"end":"start")?"right":"left":"start"===r?"bottom":"top";return e.reference[a]>e.floating[a]&&(n=xi(n)),[n,xi(n)]}(s,n,x);C.push(S[t[0]],S[t[1]])}if(A=[...A,{placement:s,overflows:C}],!C.every(t=>t<=0)){var T,M;const t=((null==(T=a.flip)?void 0:T.index)||0)+1,e=k[t];if(e&&("alignment"!==d||y===pi(e)||A.every(t=>pi(t.placement)!==y||t.overflows[0]>0)))return{data:{index:t,overflows:A},reset:{placement:e}};let i=null==(M=A.filter(t=>t.overflows[0]<=0).sort((t,e)=>t.overflows[1]-e.overflows[1])[0])?void 0:M.placement;if(!i)switch(p){case"bestFit":{var B;const t=null==(B=A.filter(t=>{if(_){const e=pi(t.placement);return e===y||"y"===e}return!0}).map(t=>[t.placement,t.overflows.filter(t=>t>0).reduce((t,e)=>t+e,0)]).sort((t,e)=>t[1]-e[1])[0])?void 0:B[0];t&&(i=t);break}case"initialPlacement":i=o}if(s!==i)return{reset:{placement:i}}}return{}}}},br=function(t){return void 0===t&&(t={}),{name:"size",options:t,async fn(e){var i,r;const{placement:s,rects:a,platform:n,elements:o}=e,{apply:l=()=>{},...h}=oi(t,e),c=await Si(e,h),d=li(s),u=hi(s),p="y"===pi(s),{width:m,height:f}=a.floating;let g,b;"top"===d||"bottom"===d?(g=d,b=u===(await(null==n.isRTL?void 0:n.isRTL(o.floating))?"start":"end")?"left":"right"):(b=d,g="end"===u?"top":"bottom");const y=f-c.top-c.bottom,v=m-c.left-c.right,x=Je(f-c[g],y),w=Je(m-c[b],v),_=!e.middlewareData.shift;let k=x,S=w;if(null!=(i=e.middlewareData.shift)&&i.enabled.x&&(S=v),null!=(r=e.middlewareData.shift)&&r.enabled.y&&(k=y),_&&!u){const t=ti(c.left,0),e=ti(c.right,0),i=ti(c.top,0),r=ti(c.bottom,0);p?S=m-2*(0!==t||0!==e?t+e:ti(c.left,c.right)):k=f-2*(0!==i||0!==r?i+r:ti(c.top,c.bottom))}await l({...e,availableWidth:S,availableHeight:k});const C=await n.getDimensions(o.floating);return m!==C.width||f!==C.height?{reset:{rects:!0}}:{}}}};function yr(t){return function(t){for(let e=t;e;e=vr(e))if(e instanceof Element&&"none"===getComputedStyle(e).display)return null;for(let e=vr(t);e;e=vr(e)){if(!(e instanceof Element))continue;const t=getComputedStyle(e);if("contents"!==t.display){if("static"!==t.position||Ni(t))return e;if("BODY"===e.tagName)return e}}return null}(t)}function vr(t){return t.assignedSlot?t.assignedSlot:t.parentNode instanceof ShadowRoot?t.parentNode.host:t.parentNode}var xr=class extends he{constructor(){super(...arguments),this.localize=new ze(this),this.active=!1,this.placement="top",this.strategy="absolute",this.distance=0,this.skidding=0,this.arrow=!1,this.arrowPlacement="anchor",this.arrowPadding=10,this.flip=!1,this.flipFallbackPlacements="",this.flipFallbackStrategy="best-fit",this.flipPadding=0,this.shift=!1,this.shiftPadding=0,this.autoSizePadding=0,this.hoverBridge=!1,this.updateHoverBridge=()=>{if(this.hoverBridge&&this.anchorEl){const t=this.anchorEl.getBoundingClientRect(),e=this.popup.getBoundingClientRect();let i=0,r=0,s=0,a=0,n=0,o=0,l=0,h=0;this.placement.includes("top")||this.placement.includes("bottom")?t.top<e.top?(i=t.left,r=t.bottom,s=t.right,a=t.bottom,n=e.left,o=e.top,l=e.right,h=e.top):(i=e.left,r=e.bottom,s=e.right,a=e.bottom,n=t.left,o=t.top,l=t.right,h=t.top):t.left<e.left?(i=t.right,r=t.top,s=e.left,a=e.top,n=t.right,o=t.bottom,l=e.left,h=e.bottom):(i=e.right,r=e.top,s=t.left,a=t.top,n=e.right,o=e.bottom,l=t.left,h=t.bottom),this.style.setProperty("--hover-bridge-top-left-x",`${i}px`),this.style.setProperty("--hover-bridge-top-left-y",`${r}px`),this.style.setProperty("--hover-bridge-top-right-x",`${s}px`),this.style.setProperty("--hover-bridge-top-right-y",`${a}px`),this.style.setProperty("--hover-bridge-bottom-left-x",`${n}px`),this.style.setProperty("--hover-bridge-bottom-left-y",`${o}px`),this.style.setProperty("--hover-bridge-bottom-right-x",`${l}px`),this.style.setProperty("--hover-bridge-bottom-right-y",`${h}px`)}}}async connectedCallback(){super.connectedCallback(),await this.updateComplete,this.start()}disconnectedCallback(){super.disconnectedCallback(),this.stop()}async updated(t){super.updated(t),t.has("active")&&(this.active?this.start():this.stop()),t.has("anchor")&&this.handleAnchorChange(),this.active&&(await this.updateComplete,this.reposition())}async handleAnchorChange(){if(await this.stop(),this.anchor&&"string"==typeof this.anchor){const t=this.getRootNode();this.anchorEl=t.getElementById(this.anchor)}else this.anchor instanceof Element||function(t){return null!==t&&"object"==typeof t&&"getBoundingClientRect"in t&&(!("contextElement"in t)||t.contextElement instanceof Element)}(this.anchor)?this.anchorEl=this.anchor:this.anchorEl=this.querySelector('[slot="anchor"]');this.anchorEl instanceof HTMLSlotElement&&(this.anchorEl=this.anchorEl.assignedElements({flatten:!0})[0]),this.anchorEl&&this.active&&this.start()}start(){this.anchorEl&&this.active&&(this.cleanup=function(t,e,i,r){void 0===r&&(r={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:n="function"==typeof ResizeObserver,layoutShift:o="function"==typeof IntersectionObserver,animationFrame:l=!1}=r,h=tr(t),c=s||a?[...h?Zi(h):[],...Zi(e)]:[];c.forEach(t=>{s&&t.addEventListener("scroll",i,{passive:!0}),a&&t.addEventListener("resize",i)});const d=h&&o?function(t,e){let i,r=null;const s=Bi(t);function a(){var t;clearTimeout(i),null==(t=r)||t.disconnect(),r=null}return function n(o,l){void 0===o&&(o=!1),void 0===l&&(l=1),a();const h=t.getBoundingClientRect(),{left:c,top:d,width:u,height:p}=h;if(o||e(),!u||!p)return;const m={rootMargin:-ii(d)+"px "+-ii(s.clientWidth-(c+u))+"px "+-ii(s.clientHeight-(d+p))+"px "+-ii(c)+"px",threshold:ti(0,Je(1,l))||1};let f=!0;function g(e){const r=e[0].intersectionRatio;if(r!==l){if(!f)return n();r?n(!1,r):i=setTimeout(()=>{n(!1,1e-7)},1e3)}1!==r||fr(h,t.getBoundingClientRect())||n(),f=!1}try{r=new IntersectionObserver(g,{...m,root:s.ownerDocument})}catch(t){r=new IntersectionObserver(g,m)}r.observe(t)}(!0),a}(h,i):null;let u,p=-1,m=null;n&&(m=new ResizeObserver(t=>{let[r]=t;r&&r.target===h&&m&&(m.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var t;null==(t=m)||t.observe(e)})),i()}),h&&!l&&m.observe(h),m.observe(e));let f=l?sr(t):null;return l&&function e(){const r=sr(t);f&&!fr(f,r)&&i(),f=r,u=requestAnimationFrame(e)}(),i(),()=>{var t;c.forEach(t=>{s&&t.removeEventListener("scroll",i),a&&t.removeEventListener("resize",i)}),null==d||d(),null==(t=m)||t.disconnect(),m=null,l&&cancelAnimationFrame(u)}}(this.anchorEl,this.popup,()=>{this.reposition()}))}async stop(){return new Promise(t=>{this.cleanup?(this.cleanup(),this.cleanup=void 0,this.removeAttribute("data-current-placement"),this.style.removeProperty("--auto-size-available-width"),this.style.removeProperty("--auto-size-available-height"),requestAnimationFrame(()=>t())):t()})}reposition(){if(!this.active||!this.anchorEl)return;const t=[(e={mainAxis:this.distance,crossAxis:this.skidding},void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var i,r;const{x:s,y:a,placement:n,middlewareData:o}=t,l=await async function(t,e){const{placement:i,platform:r,elements:s}=t,a=await(null==r.isRTL?void 0:r.isRTL(s.floating)),n=li(i),o=hi(i),l="y"===pi(i),h=Ci.has(n)?-1:1,c=a&&l?-1:1,d=oi(e,t);let{mainAxis:u,crossAxis:p,alignmentAxis:m}="number"==typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return o&&"number"==typeof m&&(p="end"===o?-1*m:m),l?{x:p*c,y:u*h}:{x:u*h,y:p*c}}(t,e);return n===(null==(i=o.offset)?void 0:i.placement)&&null!=(r=o.arrow)&&r.alignmentOffset?{}:{x:s+l.x,y:a+l.y,data:{...l,placement:n}}}})];var e;this.sync?t.push(br({apply:({rects:t})=>{const e="width"===this.sync||"both"===this.sync,i="height"===this.sync||"both"===this.sync;this.popup.style.width=e?`${t.reference.width}px`:"",this.popup.style.height=i?`${t.reference.height}px`:""}})):(this.popup.style.width="",this.popup.style.height=""),this.flip&&t.push(gr({boundary:this.flipBoundary,fallbackPlacements:this.flipFallbackPlacements,fallbackStrategy:"best-fit"===this.flipFallbackStrategy?"bestFit":"initialPlacement",padding:this.flipPadding})),this.shift&&t.push(function(t){return void 0===t&&(t={}),{name:"shift",options:t,async fn(e){const{x:i,y:r,placement:s}=e,{mainAxis:a=!0,crossAxis:n=!1,limiter:o={fn:t=>{let{x:e,y:i}=t;return{x:e,y:i}}},...l}=oi(t,e),h={x:i,y:r},c=await Si(e,l),d=pi(li(s)),u=ci(d);let p=h[u],m=h[d];if(a){const t="y"===u?"bottom":"right";p=ni(p+c["y"===u?"top":"left"],p,p-c[t])}if(n){const t="y"===d?"bottom":"right";m=ni(m+c["y"===d?"top":"left"],m,m-c[t])}const f=o.fn({...e,[u]:p,[d]:m});return{...f,data:{x:f.x-i,y:f.y-r,enabled:{[u]:a,[d]:n}}}}}}({boundary:this.shiftBoundary,padding:this.shiftPadding})),this.autoSize?t.push(br({boundary:this.autoSizeBoundary,padding:this.autoSizePadding,apply:({availableWidth:t,availableHeight:e})=>{"vertical"===this.autoSize||"both"===this.autoSize?this.style.setProperty("--auto-size-available-height",`${e}px`):this.style.removeProperty("--auto-size-available-height"),"horizontal"===this.autoSize||"both"===this.autoSize?this.style.setProperty("--auto-size-available-width",`${t}px`):this.style.removeProperty("--auto-size-available-width")}})):(this.style.removeProperty("--auto-size-available-width"),this.style.removeProperty("--auto-size-available-height")),this.arrow&&t.push((t=>({name:"arrow",options:t,async fn(e){const{x:i,y:r,placement:s,rects:a,platform:n,elements:o,middlewareData:l}=e,{element:h,padding:c=0}=oi(t,e)||{};if(null==h)return{};const d=wi(c),u={x:i,y:r},p=mi(s),m=di(p),f=await n.getDimensions(h),g="y"===p,b=g?"top":"left",y=g?"bottom":"right",v=g?"clientHeight":"clientWidth",x=a.reference[m]+a.reference[p]-u[p]-a.floating[m],w=u[p]-a.reference[p],_=await(null==n.getOffsetParent?void 0:n.getOffsetParent(h));let k=_?_[v]:0;k&&await(null==n.isElement?void 0:n.isElement(_))||(k=o.floating[v]||a.floating[m]);const S=x/2-w/2,C=k/2-f[m]/2-1,A=Je(d[b],C),T=Je(d[y],C),M=A,B=k-f[m]-T,P=k/2-f[m]/2+S,O=ni(M,P,B),I=!l.arrow&&null!=hi(s)&&P!==O&&a.reference[m]/2-(P<M?A:T)-f[m]/2<0,E=I?P<M?P-M:P-B:0;return{[p]:u[p]+E,data:{[p]:O,centerOffset:P-O-E,...I&&{alignmentOffset:E}},reset:I}}}))({element:this.arrowEl,padding:this.arrowPadding}));const i="absolute"===this.strategy?t=>mr.getOffsetParent(t,yr):mr.getOffsetParent;((t,e,i)=>{const r=new Map,s={platform:mr,...i},a={...s.platform,_c:r};return(async(t,e,i)=>{const{placement:r="bottom",strategy:s="absolute",middleware:a=[],platform:n}=i,o=a.filter(Boolean),l=await(null==n.isRTL?void 0:n.isRTL(e));let h=await n.getElementRects({reference:t,floating:e,strategy:s}),{x:c,y:d}=ki(h,r,l),u=r,p={},m=0;for(let i=0;i<o.length;i++){const{name:a,fn:f}=o[i],{x:g,y:b,data:y,reset:v}=await f({x:c,y:d,initialPlacement:r,placement:u,strategy:s,middlewareData:p,rects:h,platform:n,elements:{reference:t,floating:e}});c=null!=g?g:c,d=null!=b?b:d,p={...p,[a]:{...p[a],...y}},v&&m<=50&&(m++,"object"==typeof v&&(v.placement&&(u=v.placement),v.rects&&(h=!0===v.rects?await n.getElementRects({reference:t,floating:e,strategy:s}):v.rects),({x:c,y:d}=ki(h,u,l))),i=-1)}return{x:c,y:d,placement:u,strategy:s,middlewareData:p}})(t,e,{...s,platform:a})})(this.anchorEl,this.popup,{placement:this.placement,middleware:t,strategy:this.strategy,platform:m(p({},mr),{getOffsetParent:i})}).then(({x:t,y:e,middlewareData:i,placement:r})=>{const s="rtl"===this.localize.dir(),a={top:"bottom",right:"left",bottom:"top",left:"right"}[r.split("-")[0]];if(this.setAttribute("data-current-placement",r),Object.assign(this.popup.style,{left:`${t}px`,top:`${e}px`}),this.arrow){const t=i.arrow.x,e=i.arrow.y;let r="",n="",o="",l="";if("start"===this.arrowPlacement){const i="number"==typeof t?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:"";r="number"==typeof e?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:"",n=s?i:"",l=s?"":i}else if("end"===this.arrowPlacement){const i="number"==typeof t?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:"";n=s?"":i,l=s?i:"",o="number"==typeof e?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:""}else"center"===this.arrowPlacement?(l="number"==typeof t?"calc(50% - var(--arrow-size-diagonal))":"",r="number"==typeof e?"calc(50% - var(--arrow-size-diagonal))":""):(l="number"==typeof t?`${t}px`:"",r="number"==typeof e?`${e}px`:"");Object.assign(this.arrowEl.style,{top:r,right:n,bottom:o,left:l,[a]:"calc(var(--arrow-size-diagonal) * -1)"})}}),requestAnimationFrame(()=>this.updateHoverBridge()),this.emit("sl-reposition")}render(){return bt`
      <slot name="anchor" @slotchange=${this.handleAnchorChange}></slot>

      <span
        part="hover-bridge"
        class=${xe({"popup-hover-bridge":!0,"popup-hover-bridge--visible":this.hoverBridge&&this.active})}
      ></span>

      <div
        part="popup"
        class=${xe({popup:!0,"popup--active":this.active,"popup--fixed":"fixed"===this.strategy,"popup--has-arrow":this.arrow})}
      >
        <slot></slot>
        ${this.arrow?bt`<div part="arrow" class="popup__arrow" role="presentation"></div>`:""}
      </div>
    `}};function wr(t,e){return new Promise(i=>{t.addEventListener(e,function r(s){s.target===t&&(t.removeEventListener(e,r),i())})})}xr.styles=[te,Qe],f([oe(".popup")],xr.prototype,"popup",2),f([oe(".popup__arrow")],xr.prototype,"arrowEl",2),f([re()],xr.prototype,"anchor",2),f([re({type:Boolean,reflect:!0})],xr.prototype,"active",2),f([re({reflect:!0})],xr.prototype,"placement",2),f([re({reflect:!0})],xr.prototype,"strategy",2),f([re({type:Number})],xr.prototype,"distance",2),f([re({type:Number})],xr.prototype,"skidding",2),f([re({type:Boolean})],xr.prototype,"arrow",2),f([re({attribute:"arrow-placement"})],xr.prototype,"arrowPlacement",2),f([re({attribute:"arrow-padding",type:Number})],xr.prototype,"arrowPadding",2),f([re({type:Boolean})],xr.prototype,"flip",2),f([re({attribute:"flip-fallback-placements",converter:{fromAttribute:t=>t.split(" ").map(t=>t.trim()).filter(t=>""!==t),toAttribute:t=>t.join(" ")}})],xr.prototype,"flipFallbackPlacements",2),f([re({attribute:"flip-fallback-strategy"})],xr.prototype,"flipFallbackStrategy",2),f([re({type:Object})],xr.prototype,"flipBoundary",2),f([re({attribute:"flip-padding",type:Number})],xr.prototype,"flipPadding",2),f([re({type:Boolean})],xr.prototype,"shift",2),f([re({type:Object})],xr.prototype,"shiftBoundary",2),f([re({attribute:"shift-padding",type:Number})],xr.prototype,"shiftPadding",2),f([re({attribute:"auto-size"})],xr.prototype,"autoSize",2),f([re()],xr.prototype,"sync",2),f([re({type:Object})],xr.prototype,"autoSizeBoundary",2),f([re({attribute:"auto-size-padding",type:Number})],xr.prototype,"autoSizePadding",2),f([re({attribute:"hover-bridge",type:Boolean})],xr.prototype,"hoverBridge",2);var _r=class extends he{constructor(){super(),this.localize=new ze(this),this.content="",this.placement="top",this.disabled=!1,this.distance=8,this.open=!1,this.skidding=0,this.trigger="hover focus",this.hoist=!1,this.handleBlur=()=>{this.hasTrigger("focus")&&this.hide()},this.handleClick=()=>{this.hasTrigger("click")&&(this.open?this.hide():this.show())},this.handleFocus=()=>{this.hasTrigger("focus")&&this.show()},this.handleDocumentKeyDown=t=>{"Escape"===t.key&&(t.stopPropagation(),this.hide())},this.handleMouseOver=()=>{if(this.hasTrigger("hover")){const t=Ye(getComputedStyle(this).getPropertyValue("--show-delay"));clearTimeout(this.hoverTimeout),this.hoverTimeout=window.setTimeout(()=>this.show(),t)}},this.handleMouseOut=()=>{if(this.hasTrigger("hover")){const t=Ye(getComputedStyle(this).getPropertyValue("--hide-delay"));clearTimeout(this.hoverTimeout),this.hoverTimeout=window.setTimeout(()=>this.hide(),t)}},this.addEventListener("blur",this.handleBlur,!0),this.addEventListener("focus",this.handleFocus,!0),this.addEventListener("click",this.handleClick),this.addEventListener("mouseover",this.handleMouseOver),this.addEventListener("mouseout",this.handleMouseOut)}disconnectedCallback(){var t;super.disconnectedCallback(),null==(t=this.closeWatcher)||t.destroy(),document.removeEventListener("keydown",this.handleDocumentKeyDown)}firstUpdated(){this.body.hidden=!this.open,this.open&&(this.popup.active=!0,this.popup.reposition())}hasTrigger(t){return this.trigger.split(" ").includes(t)}async handleOpenChange(){var t,e;if(this.open){if(this.disabled)return;this.emit("sl-show"),"CloseWatcher"in window?(null==(t=this.closeWatcher)||t.destroy(),this.closeWatcher=new CloseWatcher,this.closeWatcher.onclose=()=>{this.hide()}):document.addEventListener("keydown",this.handleDocumentKeyDown),await Ue(this.body),this.body.hidden=!1,this.popup.active=!0;const{keyframes:e,options:i}=He(this,"tooltip.show",{dir:this.localize.dir()});await Ne(this.popup.popup,e,i),this.popup.reposition(),this.emit("sl-after-show")}else{this.emit("sl-hide"),null==(e=this.closeWatcher)||e.destroy(),document.removeEventListener("keydown",this.handleDocumentKeyDown),await Ue(this.body);const{keyframes:t,options:i}=He(this,"tooltip.hide",{dir:this.localize.dir()});await Ne(this.popup.popup,t,i),this.popup.active=!1,this.body.hidden=!0,this.emit("sl-after-hide")}}async handleOptionsChange(){this.hasUpdated&&(await this.updateComplete,this.popup.reposition())}handleDisabledChange(){this.disabled&&this.open&&this.hide()}async show(){if(!this.open)return this.open=!0,wr(this,"sl-after-show")}async hide(){if(this.open)return this.open=!1,wr(this,"sl-after-hide")}render(){return bt`
      <sl-popup
        part="base"
        exportparts="
          popup:base__popup,
          arrow:base__arrow
        "
        class=${xe({tooltip:!0,"tooltip--open":this.open})}
        placement=${this.placement}
        distance=${this.distance}
        skidding=${this.skidding}
        strategy=${this.hoist?"fixed":"absolute"}
        flip
        shift
        arrow
        hover-bridge
      >
        ${""}
        <slot slot="anchor" aria-describedby="tooltip"></slot>

        ${""}
        <div part="body" id="tooltip" class="tooltip__body" role="tooltip" aria-live=${this.open?"polite":"off"}>
          <slot name="content">${this.content}</slot>
        </div>
      </sl-popup>
    `}};_r.styles=[te,Ze],_r.dependencies={"sl-popup":xr},f([oe("slot:not([name])")],_r.prototype,"defaultSlot",2),f([oe(".tooltip__body")],_r.prototype,"body",2),f([oe("sl-popup")],_r.prototype,"popup",2),f([re()],_r.prototype,"content",2),f([re()],_r.prototype,"placement",2),f([re({type:Boolean,reflect:!0})],_r.prototype,"disabled",2),f([re({type:Number})],_r.prototype,"distance",2),f([re({type:Boolean,reflect:!0})],_r.prototype,"open",2),f([re({type:Number})],_r.prototype,"skidding",2),f([re()],_r.prototype,"trigger",2),f([re({type:Boolean})],_r.prototype,"hoist",2),f([Jt("open",{waitUntilFirstUpdate:!0})],_r.prototype,"handleOpenChange",1),f([Jt(["content","distance","hoist","placement","skidding"])],_r.prototype,"handleOptionsChange",1),f([Jt("disabled")],_r.prototype,"handleDisabledChange",1),Ve("tooltip.show",{keyframes:[{opacity:0,scale:.8},{opacity:1,scale:1}],options:{duration:150,easing:"ease"}}),Ve("tooltip.hide",{keyframes:[{opacity:1,scale:1},{opacity:0,scale:.8}],options:{duration:150,easing:"ease"}}),_r.define("sl-tooltip");var kr=I`
  :host {
    /*
     * These are actually used by tree item, but we define them here so they can more easily be set and all tree items
     * stay consistent.
     */
    --indent-guide-color: var(--sl-color-neutral-200);
    --indent-guide-offset: 0;
    --indent-guide-style: solid;
    --indent-guide-width: 0;
    --indent-size: var(--sl-spacing-large);

    display: block;

    /*
     * Tree item indentation uses the "em" unit to increment its width on each level, so setting the font size to zero
     * here removes the indentation for all the nodes on the first level.
     */
    font-size: 0;
  }
`;function Sr(t,e,i){return(t=>Object.is(t,-0)?0:t)(t<e?e:t>i?i:t)}function Cr(t,e=!1){function i(t){const e=t.getChildrenItems({includeDisabled:!1});if(e.length){const i=e.every(t=>t.selected),r=e.every(t=>!t.selected&&!t.indeterminate);t.selected=i,t.indeterminate=!i&&!r}}!function t(r){for(const i of r.getChildrenItems())i.selected=e?r.selected||i.selected:!i.disabled&&r.selected,t(i);e&&i(r)}(t),function t(e){const r=e.parentElement;Ke.isTreeItem(r)&&(i(r),t(r))}(t)}var Ar=class extends he{constructor(){super(),this.selection="single",this.clickTarget=null,this.localize=new ze(this),this.initTreeItem=t=>{t.selectable="multiple"===this.selection,["expand","collapse"].filter(t=>!!this.querySelector(`[slot="${t}-icon"]`)).forEach(e=>{const i=t.querySelector(`[slot="${e}-icon"]`),r=this.getExpandButtonIcon(e);r&&(null===i?t.append(r):i.hasAttribute("data-default")&&i.replaceWith(r))})},this.handleTreeChanged=t=>{for(const e of t){const t=[...e.addedNodes].filter(Ke.isTreeItem),i=[...e.removedNodes].filter(Ke.isTreeItem);t.forEach(this.initTreeItem),this.lastFocusedItem&&i.includes(this.lastFocusedItem)&&(this.lastFocusedItem=null)}},this.handleFocusOut=t=>{const e=t.relatedTarget;e&&this.contains(e)||(this.tabIndex=0)},this.handleFocusIn=t=>{const e=t.target;t.target===this&&this.focusItem(this.lastFocusedItem||this.getAllTreeItems()[0]),Ke.isTreeItem(e)&&!e.disabled&&(this.lastFocusedItem&&(this.lastFocusedItem.tabIndex=-1),this.lastFocusedItem=e,this.tabIndex=-1,e.tabIndex=0)},this.addEventListener("focusin",this.handleFocusIn),this.addEventListener("focusout",this.handleFocusOut),this.addEventListener("sl-lazy-change",this.handleSlotChange)}async connectedCallback(){super.connectedCallback(),this.setAttribute("role","tree"),this.setAttribute("tabindex","0"),await this.updateComplete,this.mutationObserver=new MutationObserver(this.handleTreeChanged),this.mutationObserver.observe(this,{childList:!0,subtree:!0})}disconnectedCallback(){var t;super.disconnectedCallback(),null==(t=this.mutationObserver)||t.disconnect()}getExpandButtonIcon(t){const e=("expand"===t?this.expandedIconSlot:this.collapsedIconSlot).assignedElements({flatten:!0})[0];if(e){const i=e.cloneNode(!0);return[i,...i.querySelectorAll("[id]")].forEach(t=>t.removeAttribute("id")),i.setAttribute("data-default",""),i.slot=`${t}-icon`,i}return null}selectItem(t){const e=[...this.selectedItems];if("multiple"===this.selection)t.selected=!t.selected,t.lazy&&(t.expanded=!0),Cr(t);else if("single"===this.selection||t.isLeaf){const e=this.getAllTreeItems();for(const i of e)i.selected=i===t}else"leaf"===this.selection&&(t.expanded=!t.expanded);const i=this.selectedItems;(e.length!==i.length||i.some(t=>!e.includes(t)))&&Promise.all(i.map(t=>t.updateComplete)).then(()=>{this.emit("sl-selection-change",{detail:{selection:i}})})}getAllTreeItems(){return[...this.querySelectorAll("sl-tree-item")]}focusItem(t){null==t||t.focus()}handleKeyDown(t){if(!["ArrowDown","ArrowUp","ArrowRight","ArrowLeft","Home","End","Enter"," "].includes(t.key))return;if(t.composedPath().some(t=>{var e;return["input","textarea"].includes(null==(e=null==t?void 0:t.tagName)?void 0:e.toLowerCase())}))return;const e=this.getFocusableItems(),i="ltr"===this.localize.dir(),r="rtl"===this.localize.dir();if(e.length>0){t.preventDefault();const s=e.findIndex(t=>t.matches(":focus")),a=e[s],n=t=>{const i=e[Sr(t,0,e.length-1)];this.focusItem(i)},o=t=>{a.expanded=t};"ArrowDown"===t.key?n(s+1):"ArrowUp"===t.key?n(s-1):i&&"ArrowRight"===t.key||r&&"ArrowLeft"===t.key?!a||a.disabled||a.expanded||a.isLeaf&&!a.lazy?n(s+1):o(!0):i&&"ArrowLeft"===t.key||r&&"ArrowRight"===t.key?!a||a.disabled||a.isLeaf||!a.expanded?n(s-1):o(!1):"Home"===t.key?n(0):"End"===t.key?n(e.length-1):"Enter"!==t.key&&" "!==t.key||a.disabled||this.selectItem(a)}}handleClick(t){const e=t.target,i=e.closest("sl-tree-item"),r=t.composedPath().some(t=>{var e;return null==(e=null==t?void 0:t.classList)?void 0:e.contains("tree-item__expand-button")});i&&!i.disabled&&e===this.clickTarget&&(r?i.expanded=!i.expanded:this.selectItem(i))}handleMouseDown(t){this.clickTarget=t.target}handleSlotChange(){this.getAllTreeItems().forEach(this.initTreeItem)}async handleSelectionChange(){const t="multiple"===this.selection,e=this.getAllTreeItems();this.setAttribute("aria-multiselectable",t?"true":"false");for(const i of e)i.selectable=t;t&&(await this.updateComplete,[...this.querySelectorAll(":scope > sl-tree-item")].forEach(t=>Cr(t,!0)))}get selectedItems(){return this.getAllTreeItems().filter(t=>t.selected)}getFocusableItems(){const t=this.getAllTreeItems(),e=new Set;return t.filter(t=>{var i;if(t.disabled)return!1;const r=null==(i=t.parentElement)?void 0:i.closest("[role=treeitem]");return r&&(!r.expanded||r.loading||e.has(r))&&e.add(t),!e.has(t)})}render(){return bt`
      <div
        part="base"
        class="tree"
        @click=${this.handleClick}
        @keydown=${this.handleKeyDown}
        @mousedown=${this.handleMouseDown}
      >
        <slot @slotchange=${this.handleSlotChange}></slot>
        <span hidden aria-hidden="true"><slot name="expand-icon"></slot></span>
        <span hidden aria-hidden="true"><slot name="collapse-icon"></slot></span>
      </div>
    `}};Ar.styles=[te,kr],f([oe("slot:not([name])")],Ar.prototype,"defaultSlot",2),f([oe("slot[name=expand-icon]")],Ar.prototype,"expandedIconSlot",2),f([oe("slot[name=collapse-icon]")],Ar.prototype,"collapsedIconSlot",2),f([re()],Ar.prototype,"selection",2),f([Jt("selection")],Ar.prototype,"handleSelectionChange",1),Ar.define("sl-tree");var Tr=I`
  :host(:not(:focus-within)) {
    position: absolute !important;
    width: 1px !important;
    height: 1px !important;
    clip: rect(0 0 0 0) !important;
    clip-path: inset(50%) !important;
    border: none !important;
    overflow: hidden !important;
    white-space: nowrap !important;
    padding: 0 !important;
  }
`,Mr=class extends he{render(){return bt` <slot></slot> `}};Mr.styles=[te,Tr],Mr.define("sl-visually-hidden");var Br=I`
  :host {
    --padding: 0;

    display: none;
  }

  :host([active]) {
    display: block;
  }

  .tab-panel {
    display: block;
    padding: var(--padding);
  }
`,Pr=0,Or=class extends he{constructor(){super(...arguments),this.attrId=++Pr,this.componentId=`sl-tab-panel-${this.attrId}`,this.name="",this.active=!1}connectedCallback(){super.connectedCallback(),this.id=this.id.length>0?this.id:this.componentId,this.setAttribute("role","tabpanel")}handleActiveChange(){this.setAttribute("aria-hidden",this.active?"false":"true")}render(){return bt`
      <slot
        part="base"
        class=${xe({"tab-panel":!0,"tab-panel--active":this.active})}
      ></slot>
    `}};Or.styles=[te,Br],f([re({reflect:!0})],Or.prototype,"name",2),f([re({type:Boolean,reflect:!0})],Or.prototype,"active",2),f([Jt("active")],Or.prototype,"handleActiveChange",1),Or.define("sl-tab-panel");var Ir=I`
  :host {
    display: inline-block;
  }

  .tag {
    display: flex;
    align-items: center;
    border: solid 1px;
    line-height: 1;
    white-space: nowrap;
    user-select: none;
    -webkit-user-select: none;
  }

  .tag__remove::part(base) {
    color: inherit;
    padding: 0;
  }

  /*
   * Variant modifiers
   */

  .tag--primary {
    background-color: var(--sl-color-primary-50);
    border-color: var(--sl-color-primary-200);
    color: var(--sl-color-primary-800);
  }

  .tag--primary:active > sl-icon-button {
    color: var(--sl-color-primary-600);
  }

  .tag--success {
    background-color: var(--sl-color-success-50);
    border-color: var(--sl-color-success-200);
    color: var(--sl-color-success-800);
  }

  .tag--success:active > sl-icon-button {
    color: var(--sl-color-success-600);
  }

  .tag--neutral {
    background-color: var(--sl-color-neutral-50);
    border-color: var(--sl-color-neutral-200);
    color: var(--sl-color-neutral-800);
  }

  .tag--neutral:active > sl-icon-button {
    color: var(--sl-color-neutral-600);
  }

  .tag--warning {
    background-color: var(--sl-color-warning-50);
    border-color: var(--sl-color-warning-200);
    color: var(--sl-color-warning-800);
  }

  .tag--warning:active > sl-icon-button {
    color: var(--sl-color-warning-600);
  }

  .tag--danger {
    background-color: var(--sl-color-danger-50);
    border-color: var(--sl-color-danger-200);
    color: var(--sl-color-danger-800);
  }

  .tag--danger:active > sl-icon-button {
    color: var(--sl-color-danger-600);
  }

  /*
   * Size modifiers
   */

  .tag--small {
    font-size: var(--sl-button-font-size-small);
    height: calc(var(--sl-input-height-small) * 0.8);
    line-height: calc(var(--sl-input-height-small) - var(--sl-input-border-width) * 2);
    border-radius: var(--sl-input-border-radius-small);
    padding: 0 var(--sl-spacing-x-small);
  }

  .tag--medium {
    font-size: var(--sl-button-font-size-medium);
    height: calc(var(--sl-input-height-medium) * 0.8);
    line-height: calc(var(--sl-input-height-medium) - var(--sl-input-border-width) * 2);
    border-radius: var(--sl-input-border-radius-medium);
    padding: 0 var(--sl-spacing-small);
  }

  .tag--large {
    font-size: var(--sl-button-font-size-large);
    height: calc(var(--sl-input-height-large) * 0.8);
    line-height: calc(var(--sl-input-height-large) - var(--sl-input-border-width) * 2);
    border-radius: var(--sl-input-border-radius-large);
    padding: 0 var(--sl-spacing-medium);
  }

  .tag__remove {
    margin-inline-start: var(--sl-spacing-x-small);
  }

  /*
   * Pill modifier
   */

  .tag--pill {
    border-radius: var(--sl-border-radius-pill);
  }
`,Er=I`
  :host {
    display: inline-block;
    color: var(--sl-color-neutral-600);
  }

  .icon-button {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    background: none;
    border: none;
    border-radius: var(--sl-border-radius-medium);
    font-size: inherit;
    color: inherit;
    padding: var(--sl-spacing-x-small);
    cursor: pointer;
    transition: var(--sl-transition-x-fast) color;
    -webkit-appearance: none;
  }

  .icon-button:hover:not(.icon-button--disabled),
  .icon-button:focus-visible:not(.icon-button--disabled) {
    color: var(--sl-color-primary-600);
  }

  .icon-button:active:not(.icon-button--disabled) {
    color: var(--sl-color-primary-700);
  }

  .icon-button:focus {
    outline: none;
  }

  .icon-button--disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  .icon-button:focus-visible {
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  .icon-button__icon {
    pointer-events: none;
  }
`;const $r=Symbol.for(""),Rr=t=>{if(t?.r===$r)return t?._$litStatic$},zr=(t,...e)=>({_$litStatic$:e.reduce((e,i,r)=>e+(t=>{if(void 0!==t._$litStatic$)return t._$litStatic$;throw Error(`Value passed to 'literal' function must be a 'literal' result: ${t}. Use 'unsafeStatic' to pass non-literal values, but\n            take care to ensure page security.`)})(i)+t[r+1],t[0]),r:$r}),Fr=new Map,Lr=t=>(e,...i)=>{const r=i.length;let s,a;const n=[],o=[];let l,h=0,c=!1;for(;h<r;){for(l=e[h];h<r&&void 0!==(a=i[h],s=Rr(a));)l+=s+e[++h],c=!0;h!==r&&o.push(a),n.push(l),h++}if(h===r&&n.push(e[r]),c){const t=n.join("$$lit$$");void 0===(e=Fr.get(t))&&(n.raw=n,Fr.set(t,e=n)),i=o}return t(e,...i)},Dr=Lr(bt);Lr(yt),Lr(vt);var Wr=class extends he{constructor(){super(...arguments),this.hasFocus=!1,this.label="",this.disabled=!1}handleBlur(){this.hasFocus=!1,this.emit("sl-blur")}handleFocus(){this.hasFocus=!0,this.emit("sl-focus")}handleClick(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}click(){this.button.click()}focus(t){this.button.focus(t)}blur(){this.button.blur()}render(){const t=!!this.href,e=t?zr`a`:zr`button`;return Dr`
      <${e}
        part="base"
        class=${xe({"icon-button":!0,"icon-button--disabled":!t&&this.disabled,"icon-button--focused":this.hasFocus})}
        ?disabled=${we(t?void 0:this.disabled)}
        type=${we(t?void 0:"button")}
        href=${we(t?this.href:void 0)}
        target=${we(t?this.target:void 0)}
        download=${we(t?this.download:void 0)}
        rel=${we(t&&this.target?"noreferrer noopener":void 0)}
        role=${we(t?void 0:"button")}
        aria-disabled=${this.disabled?"true":"false"}
        aria-label="${this.label}"
        tabindex=${this.disabled?"-1":"0"}
        @blur=${this.handleBlur}
        @focus=${this.handleFocus}
        @click=${this.handleClick}
      >
        <sl-icon
          class="icon-button__icon"
          name=${we(this.name)}
          library=${we(this.library)}
          src=${we(this.src)}
          aria-hidden="true"
        ></sl-icon>
      </${e}>
    `}};Wr.styles=[te,Er],Wr.dependencies={"sl-icon":be},f([oe(".icon-button")],Wr.prototype,"button",2),f([se()],Wr.prototype,"hasFocus",2),f([re()],Wr.prototype,"name",2),f([re()],Wr.prototype,"library",2),f([re()],Wr.prototype,"src",2),f([re()],Wr.prototype,"href",2),f([re()],Wr.prototype,"target",2),f([re()],Wr.prototype,"download",2),f([re()],Wr.prototype,"label",2),f([re({type:Boolean,reflect:!0})],Wr.prototype,"disabled",2);var Vr=class extends he{constructor(){super(...arguments),this.localize=new ze(this),this.variant="neutral",this.size="medium",this.pill=!1,this.removable=!1}handleRemoveClick(){this.emit("sl-remove")}render(){return bt`
      <span
        part="base"
        class=${xe({tag:!0,"tag--primary":"primary"===this.variant,"tag--success":"success"===this.variant,"tag--neutral":"neutral"===this.variant,"tag--warning":"warning"===this.variant,"tag--danger":"danger"===this.variant,"tag--text":"text"===this.variant,"tag--small":"small"===this.size,"tag--medium":"medium"===this.size,"tag--large":"large"===this.size,"tag--pill":this.pill,"tag--removable":this.removable})}
      >
        <slot part="content" class="tag__content"></slot>

        ${this.removable?bt`
              <sl-icon-button
                part="remove-button"
                exportparts="base:remove-button__base"
                name="x-lg"
                library="system"
                label=${this.localize.term("remove")}
                class="tag__remove"
                @click=${this.handleRemoveClick}
                tabindex="-1"
              ></sl-icon-button>
            `:""}
      </span>
    `}};Vr.styles=[te,Ir],Vr.dependencies={"sl-icon-button":Wr},f([re({reflect:!0})],Vr.prototype,"variant",2),f([re({reflect:!0})],Vr.prototype,"size",2),f([re({type:Boolean,reflect:!0})],Vr.prototype,"pill",2),f([re({type:Boolean})],Vr.prototype,"removable",2),Vr.define("sl-tag");var Hr=I`
  :host {
    display: block;
  }

  .textarea {
    display: grid;
    align-items: center;
    position: relative;
    width: 100%;
    font-family: var(--sl-input-font-family);
    font-weight: var(--sl-input-font-weight);
    line-height: var(--sl-line-height-normal);
    letter-spacing: var(--sl-input-letter-spacing);
    vertical-align: middle;
    transition:
      var(--sl-transition-fast) color,
      var(--sl-transition-fast) border,
      var(--sl-transition-fast) box-shadow,
      var(--sl-transition-fast) background-color;
    cursor: text;
  }

  /* Standard textareas */
  .textarea--standard {
    background-color: var(--sl-input-background-color);
    border: solid var(--sl-input-border-width) var(--sl-input-border-color);
  }

  .textarea--standard:hover:not(.textarea--disabled) {
    background-color: var(--sl-input-background-color-hover);
    border-color: var(--sl-input-border-color-hover);
  }
  .textarea--standard:hover:not(.textarea--disabled) .textarea__control {
    color: var(--sl-input-color-hover);
  }

  .textarea--standard.textarea--focused:not(.textarea--disabled) {
    background-color: var(--sl-input-background-color-focus);
    border-color: var(--sl-input-border-color-focus);
    color: var(--sl-input-color-focus);
    box-shadow: 0 0 0 var(--sl-focus-ring-width) var(--sl-input-focus-ring-color);
  }

  .textarea--standard.textarea--focused:not(.textarea--disabled) .textarea__control {
    color: var(--sl-input-color-focus);
  }

  .textarea--standard.textarea--disabled {
    background-color: var(--sl-input-background-color-disabled);
    border-color: var(--sl-input-border-color-disabled);
    opacity: 0.5;
    cursor: not-allowed;
  }

  .textarea__control,
  .textarea__size-adjuster {
    grid-area: 1 / 1 / 2 / 2;
  }

  .textarea__size-adjuster {
    visibility: hidden;
    pointer-events: none;
    opacity: 0;
  }

  .textarea--standard.textarea--disabled .textarea__control {
    color: var(--sl-input-color-disabled);
  }

  .textarea--standard.textarea--disabled .textarea__control::placeholder {
    color: var(--sl-input-placeholder-color-disabled);
  }

  /* Filled textareas */
  .textarea--filled {
    border: none;
    background-color: var(--sl-input-filled-background-color);
    color: var(--sl-input-color);
  }

  .textarea--filled:hover:not(.textarea--disabled) {
    background-color: var(--sl-input-filled-background-color-hover);
  }

  .textarea--filled.textarea--focused:not(.textarea--disabled) {
    background-color: var(--sl-input-filled-background-color-focus);
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  .textarea--filled.textarea--disabled {
    background-color: var(--sl-input-filled-background-color-disabled);
    opacity: 0.5;
    cursor: not-allowed;
  }

  .textarea__control {
    font-family: inherit;
    font-size: inherit;
    font-weight: inherit;
    line-height: 1.4;
    color: var(--sl-input-color);
    border: none;
    background: none;
    box-shadow: none;
    cursor: inherit;
    -webkit-appearance: none;
  }

  .textarea__control::-webkit-search-decoration,
  .textarea__control::-webkit-search-cancel-button,
  .textarea__control::-webkit-search-results-button,
  .textarea__control::-webkit-search-results-decoration {
    -webkit-appearance: none;
  }

  .textarea__control::placeholder {
    color: var(--sl-input-placeholder-color);
    user-select: none;
    -webkit-user-select: none;
  }

  .textarea__control:focus {
    outline: none;
  }

  /*
   * Size modifiers
   */

  .textarea--small {
    border-radius: var(--sl-input-border-radius-small);
    font-size: var(--sl-input-font-size-small);
  }

  .textarea--small .textarea__control {
    padding: 0.5em var(--sl-input-spacing-small);
  }

  .textarea--medium {
    border-radius: var(--sl-input-border-radius-medium);
    font-size: var(--sl-input-font-size-medium);
  }

  .textarea--medium .textarea__control {
    padding: 0.5em var(--sl-input-spacing-medium);
  }

  .textarea--large {
    border-radius: var(--sl-input-border-radius-large);
    font-size: var(--sl-input-font-size-large);
  }

  .textarea--large .textarea__control {
    padding: 0.5em var(--sl-input-spacing-large);
  }

  /*
   * Resize types
   */

  .textarea--resize-none .textarea__control {
    resize: none;
  }

  .textarea--resize-vertical .textarea__control {
    resize: vertical;
  }

  .textarea--resize-auto .textarea__control {
    height: auto;
    resize: none;
    overflow-y: hidden;
  }
`,Nr=class extends he{constructor(){super(...arguments),this.formControlController=new k(this,{assumeInteractionOn:["sl-blur","sl-input"]}),this.hasSlotController=new Yt(this,"help-text","label"),this.hasFocus=!1,this.title="",this.name="",this.value="",this.size="medium",this.filled=!1,this.label="",this.helpText="",this.placeholder="",this.rows=4,this.resize="vertical",this.disabled=!1,this.readonly=!1,this.form="",this.required=!1,this.spellcheck=!0,this.defaultValue=""}get validity(){return this.input.validity}get validationMessage(){return this.input.validationMessage}connectedCallback(){super.connectedCallback(),this.resizeObserver=new ResizeObserver(()=>this.setTextareaHeight()),this.updateComplete.then(()=>{this.setTextareaHeight(),this.resizeObserver.observe(this.input)})}firstUpdated(){this.formControlController.updateValidity()}disconnectedCallback(){var t;super.disconnectedCallback(),this.input&&(null==(t=this.resizeObserver)||t.unobserve(this.input))}handleBlur(){this.hasFocus=!1,this.emit("sl-blur")}handleChange(){this.value=this.input.value,this.setTextareaHeight(),this.emit("sl-change")}handleFocus(){this.hasFocus=!0,this.emit("sl-focus")}handleInput(){this.value=this.input.value,this.emit("sl-input")}handleInvalid(t){this.formControlController.setValidity(!1),this.formControlController.emitInvalidEvent(t)}setTextareaHeight(){"auto"===this.resize?(this.sizeAdjuster.style.height=`${this.input.clientHeight}px`,this.input.style.height="auto",this.input.style.height=`${this.input.scrollHeight}px`):this.input.style.height=""}handleDisabledChange(){this.formControlController.setValidity(this.disabled)}handleRowsChange(){this.setTextareaHeight()}async handleValueChange(){await this.updateComplete,this.formControlController.updateValidity(),this.setTextareaHeight()}focus(t){this.input.focus(t)}blur(){this.input.blur()}select(){this.input.select()}scrollPosition(t){return t?("number"==typeof t.top&&(this.input.scrollTop=t.top),void("number"==typeof t.left&&(this.input.scrollLeft=t.left))):{top:this.input.scrollTop,left:this.input.scrollTop}}setSelectionRange(t,e,i="none"){this.input.setSelectionRange(t,e,i)}setRangeText(t,e,i,r="preserve"){const s=null!=e?e:this.input.selectionStart,a=null!=i?i:this.input.selectionEnd;this.input.setRangeText(t,s,a,r),this.value!==this.input.value&&(this.value=this.input.value,this.setTextareaHeight())}checkValidity(){return this.input.checkValidity()}getForm(){return this.formControlController.getForm()}reportValidity(){return this.input.reportValidity()}setCustomValidity(t){this.input.setCustomValidity(t),this.formControlController.updateValidity()}render(){const t=this.hasSlotController.test("label"),e=this.hasSlotController.test("help-text"),i=!!this.label||!!t,r=!!this.helpText||!!e;return bt`
      <div
        part="form-control"
        class=${xe({"form-control":!0,"form-control--small":"small"===this.size,"form-control--medium":"medium"===this.size,"form-control--large":"large"===this.size,"form-control--has-label":i,"form-control--has-help-text":r})}
      >
        <label
          part="form-control-label"
          class="form-control__label"
          for="input"
          aria-hidden=${i?"false":"true"}
        >
          <slot name="label">${this.label}</slot>
        </label>

        <div part="form-control-input" class="form-control-input">
          <div
            part="base"
            class=${xe({textarea:!0,"textarea--small":"small"===this.size,"textarea--medium":"medium"===this.size,"textarea--large":"large"===this.size,"textarea--standard":!this.filled,"textarea--filled":this.filled,"textarea--disabled":this.disabled,"textarea--focused":this.hasFocus,"textarea--empty":!this.value,"textarea--resize-none":"none"===this.resize,"textarea--resize-vertical":"vertical"===this.resize,"textarea--resize-auto":"auto"===this.resize})}
          >
            <textarea
              part="textarea"
              id="input"
              class="textarea__control"
              title=${this.title}
              name=${we(this.name)}
              .value=${_e(this.value)}
              ?disabled=${this.disabled}
              ?readonly=${this.readonly}
              ?required=${this.required}
              placeholder=${we(this.placeholder)}
              rows=${we(this.rows)}
              minlength=${we(this.minlength)}
              maxlength=${we(this.maxlength)}
              autocapitalize=${we(this.autocapitalize)}
              autocorrect=${we(this.autocorrect)}
              ?autofocus=${this.autofocus}
              spellcheck=${we(this.spellcheck)}
              enterkeyhint=${we(this.enterkeyhint)}
              inputmode=${we(this.inputmode)}
              aria-describedby="help-text"
              @change=${this.handleChange}
              @input=${this.handleInput}
              @invalid=${this.handleInvalid}
              @focus=${this.handleFocus}
              @blur=${this.handleBlur}
            ></textarea>
            <!-- This "adjuster" exists to prevent layout shifting. https://github.com/shoelace-style/shoelace/issues/2180 -->
            <div part="textarea-adjuster" class="textarea__size-adjuster" ?hidden=${"auto"!==this.resize}></div>
          </div>
        </div>

        <div
          part="form-control-help-text"
          id="help-text"
          class="form-control__help-text"
          aria-hidden=${r?"false":"true"}
        >
          <slot name="help-text">${this.helpText}</slot>
        </div>
      </div>
    `}};Nr.styles=[te,Nt,Hr],f([oe(".textarea__control")],Nr.prototype,"input",2),f([oe(".textarea__size-adjuster")],Nr.prototype,"sizeAdjuster",2),f([se()],Nr.prototype,"hasFocus",2),f([re()],Nr.prototype,"title",2),f([re()],Nr.prototype,"name",2),f([re()],Nr.prototype,"value",2),f([re({reflect:!0})],Nr.prototype,"size",2),f([re({type:Boolean,reflect:!0})],Nr.prototype,"filled",2),f([re()],Nr.prototype,"label",2),f([re({attribute:"help-text"})],Nr.prototype,"helpText",2),f([re()],Nr.prototype,"placeholder",2),f([re({type:Number})],Nr.prototype,"rows",2),f([re()],Nr.prototype,"resize",2),f([re({type:Boolean,reflect:!0})],Nr.prototype,"disabled",2),f([re({type:Boolean,reflect:!0})],Nr.prototype,"readonly",2),f([re({reflect:!0})],Nr.prototype,"form",2),f([re({type:Boolean,reflect:!0})],Nr.prototype,"required",2),f([re({type:Number})],Nr.prototype,"minlength",2),f([re({type:Number})],Nr.prototype,"maxlength",2),f([re()],Nr.prototype,"autocapitalize",2),f([re()],Nr.prototype,"autocorrect",2),f([re()],Nr.prototype,"autocomplete",2),f([re({type:Boolean})],Nr.prototype,"autofocus",2),f([re()],Nr.prototype,"enterkeyhint",2),f([re({type:Boolean,converter:{fromAttribute:t=>!(!t||"false"===t),toAttribute:t=>t?"true":"false"}})],Nr.prototype,"spellcheck",2),f([re()],Nr.prototype,"inputmode",2),f([Ht()],Nr.prototype,"defaultValue",2),f([Jt("disabled",{waitUntilFirstUpdate:!0})],Nr.prototype,"handleDisabledChange",1),f([Jt("rows",{waitUntilFirstUpdate:!0})],Nr.prototype,"handleRowsChange",1),f([Jt("value",{waitUntilFirstUpdate:!0})],Nr.prototype,"handleValueChange",1),Nr.define("sl-textarea");var Yr=I`
  :host {
    display: inline-block;
  }

  .tab {
    display: inline-flex;
    align-items: center;
    font-family: var(--sl-font-sans);
    font-size: var(--sl-font-size-small);
    font-weight: var(--sl-font-weight-semibold);
    border-radius: var(--sl-border-radius-medium);
    color: var(--sl-color-neutral-600);
    padding: var(--sl-spacing-medium) var(--sl-spacing-large);
    white-space: nowrap;
    user-select: none;
    -webkit-user-select: none;
    cursor: pointer;
    transition:
      var(--transition-speed) box-shadow,
      var(--transition-speed) color;
  }

  .tab:hover:not(.tab--disabled) {
    color: var(--sl-color-primary-600);
  }

  :host(:focus) {
    outline: transparent;
  }

  :host(:focus-visible) {
    color: var(--sl-color-primary-600);
    outline: var(--sl-focus-ring);
    outline-offset: calc(-1 * var(--sl-focus-ring-width) - var(--sl-focus-ring-offset));
  }

  .tab.tab--active:not(.tab--disabled) {
    color: var(--sl-color-primary-600);
  }

  .tab.tab--closable {
    padding-inline-end: var(--sl-spacing-small);
  }

  .tab.tab--disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  .tab__close-button {
    font-size: var(--sl-font-size-small);
    margin-inline-start: var(--sl-spacing-small);
  }

  .tab__close-button::part(base) {
    padding: var(--sl-spacing-3x-small);
  }

  @media (forced-colors: active) {
    .tab.tab--active:not(.tab--disabled) {
      outline: solid 1px transparent;
      outline-offset: -3px;
    }
  }
`,Xr=0,Ur=class extends he{constructor(){super(...arguments),this.localize=new ze(this),this.attrId=++Xr,this.componentId=`sl-tab-${this.attrId}`,this.panel="",this.active=!1,this.closable=!1,this.disabled=!1,this.tabIndex=0}connectedCallback(){super.connectedCallback(),this.setAttribute("role","tab")}handleCloseClick(t){t.stopPropagation(),this.emit("sl-close")}handleActiveChange(){this.setAttribute("aria-selected",this.active?"true":"false")}handleDisabledChange(){this.setAttribute("aria-disabled",this.disabled?"true":"false"),this.disabled&&!this.active?this.tabIndex=-1:this.tabIndex=0}render(){return this.id=this.id.length>0?this.id:this.componentId,bt`
      <div
        part="base"
        class=${xe({tab:!0,"tab--active":this.active,"tab--closable":this.closable,"tab--disabled":this.disabled})}
      >
        <slot></slot>
        ${this.closable?bt`
              <sl-icon-button
                part="close-button"
                exportparts="base:close-button__base"
                name="x-lg"
                library="system"
                label=${this.localize.term("close")}
                class="tab__close-button"
                @click=${this.handleCloseClick}
                tabindex="-1"
              ></sl-icon-button>
            `:""}
      </div>
    `}};Ur.styles=[te,Yr],Ur.dependencies={"sl-icon-button":Wr},f([oe(".tab")],Ur.prototype,"tab",2),f([re({reflect:!0})],Ur.prototype,"panel",2),f([re({type:Boolean,reflect:!0})],Ur.prototype,"active",2),f([re({type:Boolean,reflect:!0})],Ur.prototype,"closable",2),f([re({type:Boolean,reflect:!0})],Ur.prototype,"disabled",2),f([re({type:Number,reflect:!0})],Ur.prototype,"tabIndex",2),f([Jt("active")],Ur.prototype,"handleActiveChange",1),f([Jt("disabled")],Ur.prototype,"handleDisabledChange",1),Ur.define("sl-tab");var Gr=I`
  :host {
    --indicator-color: var(--sl-color-primary-600);
    --track-color: var(--sl-color-neutral-200);
    --track-width: 2px;

    display: block;
  }

  .tab-group {
    display: flex;
    border-radius: 0;
  }

  .tab-group__tabs {
    display: flex;
    position: relative;
  }

  .tab-group__indicator {
    position: absolute;
    transition:
      var(--sl-transition-fast) translate ease,
      var(--sl-transition-fast) width ease;
  }

  .tab-group--has-scroll-controls .tab-group__nav-container {
    position: relative;
    padding: 0 var(--sl-spacing-x-large);
  }

  .tab-group--has-scroll-controls .tab-group__scroll-button--start--hidden,
  .tab-group--has-scroll-controls .tab-group__scroll-button--end--hidden {
    visibility: hidden;
  }

  .tab-group__body {
    display: block;
    overflow: auto;
  }

  .tab-group__scroll-button {
    display: flex;
    align-items: center;
    justify-content: center;
    position: absolute;
    top: 0;
    bottom: 0;
    width: var(--sl-spacing-x-large);
  }

  .tab-group__scroll-button--start {
    left: 0;
  }

  .tab-group__scroll-button--end {
    right: 0;
  }

  .tab-group--rtl .tab-group__scroll-button--start {
    left: auto;
    right: 0;
  }

  .tab-group--rtl .tab-group__scroll-button--end {
    left: 0;
    right: auto;
  }

  /*
   * Top
   */

  .tab-group--top {
    flex-direction: column;
  }

  .tab-group--top .tab-group__nav-container {
    order: 1;
  }

  .tab-group--top .tab-group__nav {
    display: flex;
    overflow-x: auto;

    /* Hide scrollbar in Firefox */
    scrollbar-width: none;
  }

  /* Hide scrollbar in Chrome/Safari */
  .tab-group--top .tab-group__nav::-webkit-scrollbar {
    width: 0;
    height: 0;
  }

  .tab-group--top .tab-group__tabs {
    flex: 1 1 auto;
    position: relative;
    flex-direction: row;
    border-bottom: solid var(--track-width) var(--track-color);
  }

  .tab-group--top .tab-group__indicator {
    bottom: calc(-1 * var(--track-width));
    border-bottom: solid var(--track-width) var(--indicator-color);
  }

  .tab-group--top .tab-group__body {
    order: 2;
  }

  .tab-group--top ::slotted(sl-tab-panel) {
    --padding: var(--sl-spacing-medium) 0;
  }

  /*
   * Bottom
   */

  .tab-group--bottom {
    flex-direction: column;
  }

  .tab-group--bottom .tab-group__nav-container {
    order: 2;
  }

  .tab-group--bottom .tab-group__nav {
    display: flex;
    overflow-x: auto;

    /* Hide scrollbar in Firefox */
    scrollbar-width: none;
  }

  /* Hide scrollbar in Chrome/Safari */
  .tab-group--bottom .tab-group__nav::-webkit-scrollbar {
    width: 0;
    height: 0;
  }

  .tab-group--bottom .tab-group__tabs {
    flex: 1 1 auto;
    position: relative;
    flex-direction: row;
    border-top: solid var(--track-width) var(--track-color);
  }

  .tab-group--bottom .tab-group__indicator {
    top: calc(-1 * var(--track-width));
    border-top: solid var(--track-width) var(--indicator-color);
  }

  .tab-group--bottom .tab-group__body {
    order: 1;
  }

  .tab-group--bottom ::slotted(sl-tab-panel) {
    --padding: var(--sl-spacing-medium) 0;
  }

  /*
   * Start
   */

  .tab-group--start {
    flex-direction: row;
  }

  .tab-group--start .tab-group__nav-container {
    order: 1;
  }

  .tab-group--start .tab-group__tabs {
    flex: 0 0 auto;
    flex-direction: column;
    border-inline-end: solid var(--track-width) var(--track-color);
  }

  .tab-group--start .tab-group__indicator {
    right: calc(-1 * var(--track-width));
    border-right: solid var(--track-width) var(--indicator-color);
  }

  .tab-group--start.tab-group--rtl .tab-group__indicator {
    right: auto;
    left: calc(-1 * var(--track-width));
  }

  .tab-group--start .tab-group__body {
    flex: 1 1 auto;
    order: 2;
  }

  .tab-group--start ::slotted(sl-tab-panel) {
    --padding: 0 var(--sl-spacing-medium);
  }

  /*
   * End
   */

  .tab-group--end {
    flex-direction: row;
  }

  .tab-group--end .tab-group__nav-container {
    order: 2;
  }

  .tab-group--end .tab-group__tabs {
    flex: 0 0 auto;
    flex-direction: column;
    border-left: solid var(--track-width) var(--track-color);
  }

  .tab-group--end .tab-group__indicator {
    left: calc(-1 * var(--track-width));
    border-inline-start: solid var(--track-width) var(--indicator-color);
  }

  .tab-group--end.tab-group--rtl .tab-group__indicator {
    right: calc(-1 * var(--track-width));
    left: auto;
  }

  .tab-group--end .tab-group__body {
    flex: 1 1 auto;
    order: 1;
  }

  .tab-group--end ::slotted(sl-tab-panel) {
    --padding: 0 var(--sl-spacing-medium);
  }
`,jr=I`
  :host {
    display: contents;
  }
`,qr=class extends he{constructor(){super(...arguments),this.observedElements=[],this.disabled=!1}connectedCallback(){super.connectedCallback(),this.resizeObserver=new ResizeObserver(t=>{this.emit("sl-resize",{detail:{entries:t}})}),this.disabled||this.startObserver()}disconnectedCallback(){super.disconnectedCallback(),this.stopObserver()}handleSlotChange(){this.disabled||this.startObserver()}startObserver(){const t=this.shadowRoot.querySelector("slot");if(null!==t){const e=t.assignedElements({flatten:!0});this.observedElements.forEach(t=>this.resizeObserver.unobserve(t)),this.observedElements=[],e.forEach(t=>{this.resizeObserver.observe(t),this.observedElements.push(t)})}}stopObserver(){this.resizeObserver.disconnect()}handleDisabledChange(){this.disabled?this.stopObserver():this.startObserver()}render(){return bt` <slot @slotchange=${this.handleSlotChange}></slot> `}};qr.styles=[te,jr],f([re({type:Boolean,reflect:!0})],qr.prototype,"disabled",2),f([Jt("disabled",{waitUntilFirstUpdate:!0})],qr.prototype,"handleDisabledChange",1);var Kr=new Set;function Zr(t){if(Kr.add(t),!document.documentElement.classList.contains("sl-scroll-lock")){const t=function(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}()+function(){const t=Number(getComputedStyle(document.body).paddingRight.replace(/px/,""));return isNaN(t)||!t?0:t}();let e=getComputedStyle(document.documentElement).scrollbarGutter;e&&"auto"!==e||(e="stable"),t<2&&(e=""),document.documentElement.style.setProperty("--sl-scroll-lock-gutter",e),document.documentElement.classList.add("sl-scroll-lock"),document.documentElement.style.setProperty("--sl-scroll-lock-size",`${t}px`)}}function Qr(t){Kr.delete(t),0===Kr.size&&(document.documentElement.classList.remove("sl-scroll-lock"),document.documentElement.style.removeProperty("--sl-scroll-lock-size"))}function Jr(t,e,i="vertical",r="smooth"){const s=function(t,e){return{top:Math.round(t.getBoundingClientRect().top-e.getBoundingClientRect().top),left:Math.round(t.getBoundingClientRect().left-e.getBoundingClientRect().left)}}(t,e),a=s.top+e.scrollTop,n=s.left+e.scrollLeft,o=e.scrollLeft,l=e.scrollLeft+e.offsetWidth,h=e.scrollTop,c=e.scrollTop+e.offsetHeight;"horizontal"!==i&&"both"!==i||(n<o?e.scrollTo({left:n,behavior:r}):n+t.clientWidth>l&&e.scrollTo({left:n-e.offsetWidth+t.clientWidth,behavior:r})),"vertical"!==i&&"both"!==i||(a<h?e.scrollTo({top:a,behavior:r}):a+t.clientHeight>c&&e.scrollTo({top:a-e.offsetHeight+t.clientHeight,behavior:r}))}var ts=class extends he{constructor(){super(...arguments),this.tabs=[],this.focusableTabs=[],this.panels=[],this.localize=new ze(this),this.hasScrollControls=!1,this.shouldHideScrollStartButton=!1,this.shouldHideScrollEndButton=!1,this.placement="top",this.activation="auto",this.noScrollControls=!1,this.fixedScrollControls=!1,this.scrollOffset=1}connectedCallback(){const t=Promise.all([customElements.whenDefined("sl-tab"),customElements.whenDefined("sl-tab-panel")]);super.connectedCallback(),this.resizeObserver=new ResizeObserver(()=>{this.repositionIndicator(),this.updateScrollControls()}),this.mutationObserver=new MutationObserver(t=>{const e=t.filter(({target:t})=>{if(t===this)return!0;if(t.closest("sl-tab-group")!==this)return!1;const e=t.tagName.toLowerCase();return"sl-tab"===e||"sl-tab-panel"===e});if(0!==e.length)if(e.some(t=>!["aria-labelledby","aria-controls"].includes(t.attributeName))&&setTimeout(()=>this.setAriaLabels()),e.some(t=>"disabled"===t.attributeName))this.syncTabsAndPanels();else if(e.some(t=>"active"===t.attributeName)){const t=e.filter(t=>"active"===t.attributeName&&"sl-tab"===t.target.tagName.toLowerCase()).map(t=>t.target),i=t.find(t=>t.active);i&&this.setActiveTab(i)}}),this.updateComplete.then(()=>{this.syncTabsAndPanels(),this.mutationObserver.observe(this,{attributes:!0,attributeFilter:["active","disabled","name","panel"],childList:!0,subtree:!0}),this.resizeObserver.observe(this.nav),t.then(()=>{new IntersectionObserver((t,e)=>{var i;t[0].intersectionRatio>0&&(this.setAriaLabels(),this.setActiveTab(null!=(i=this.getActiveTab())?i:this.tabs[0],{emitEvents:!1}),e.unobserve(t[0].target))}).observe(this.tabGroup)})})}disconnectedCallback(){var t,e;super.disconnectedCallback(),null==(t=this.mutationObserver)||t.disconnect(),this.nav&&(null==(e=this.resizeObserver)||e.unobserve(this.nav))}getAllTabs(){return this.shadowRoot.querySelector('slot[name="nav"]').assignedElements()}getAllPanels(){return[...this.body.assignedElements()].filter(t=>"sl-tab-panel"===t.tagName.toLowerCase())}getActiveTab(){return this.tabs.find(t=>t.active)}handleClick(t){const e=t.target.closest("sl-tab");(null==e?void 0:e.closest("sl-tab-group"))===this&&null!==e&&this.setActiveTab(e,{scrollBehavior:"smooth"})}handleKeyDown(t){const e=t.target.closest("sl-tab");if((null==e?void 0:e.closest("sl-tab-group"))===this&&(["Enter"," "].includes(t.key)&&null!==e&&(this.setActiveTab(e,{scrollBehavior:"smooth"}),t.preventDefault()),["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Home","End"].includes(t.key))){const e=this.tabs.find(t=>t.matches(":focus")),i="rtl"===this.localize.dir();let r=null;if("sl-tab"===(null==e?void 0:e.tagName.toLowerCase())){if("Home"===t.key)r=this.focusableTabs[0];else if("End"===t.key)r=this.focusableTabs[this.focusableTabs.length-1];else if(["top","bottom"].includes(this.placement)&&t.key===(i?"ArrowRight":"ArrowLeft")||["start","end"].includes(this.placement)&&"ArrowUp"===t.key){const t=this.tabs.findIndex(t=>t===e);r=this.findNextFocusableTab(t,"backward")}else if(["top","bottom"].includes(this.placement)&&t.key===(i?"ArrowLeft":"ArrowRight")||["start","end"].includes(this.placement)&&"ArrowDown"===t.key){const t=this.tabs.findIndex(t=>t===e);r=this.findNextFocusableTab(t,"forward")}if(!r)return;r.tabIndex=0,r.focus({preventScroll:!0}),"auto"===this.activation?this.setActiveTab(r,{scrollBehavior:"smooth"}):this.tabs.forEach(t=>{t.tabIndex=t===r?0:-1}),["top","bottom"].includes(this.placement)&&Jr(r,this.nav,"horizontal"),t.preventDefault()}}}handleScrollToStart(){this.nav.scroll({left:"rtl"===this.localize.dir()?this.nav.scrollLeft+this.nav.clientWidth:this.nav.scrollLeft-this.nav.clientWidth,behavior:"smooth"})}handleScrollToEnd(){this.nav.scroll({left:"rtl"===this.localize.dir()?this.nav.scrollLeft-this.nav.clientWidth:this.nav.scrollLeft+this.nav.clientWidth,behavior:"smooth"})}setActiveTab(t,e){if(e=p({emitEvents:!0,scrollBehavior:"auto"},e),t!==this.activeTab&&!t.disabled){const i=this.activeTab;this.activeTab=t,this.tabs.forEach(t=>{t.active=t===this.activeTab,t.tabIndex=t===this.activeTab?0:-1}),this.panels.forEach(t=>{var e;return t.active=t.name===(null==(e=this.activeTab)?void 0:e.panel)}),this.syncIndicator(),["top","bottom"].includes(this.placement)&&Jr(this.activeTab,this.nav,"horizontal",e.scrollBehavior),e.emitEvents&&(i&&this.emit("sl-tab-hide",{detail:{name:i.panel}}),this.emit("sl-tab-show",{detail:{name:this.activeTab.panel}}))}}setAriaLabels(){this.tabs.forEach(t=>{const e=this.panels.find(e=>e.name===t.panel);e&&(t.setAttribute("aria-controls",e.getAttribute("id")),e.setAttribute("aria-labelledby",t.getAttribute("id")))})}repositionIndicator(){const t=this.getActiveTab();if(!t)return;const e=t.clientWidth,i=t.clientHeight,r="rtl"===this.localize.dir(),s=this.getAllTabs(),a=s.slice(0,s.indexOf(t)).reduce((t,e)=>({left:t.left+e.clientWidth,top:t.top+e.clientHeight}),{left:0,top:0});switch(this.placement){case"top":case"bottom":this.indicator.style.width=`${e}px`,this.indicator.style.height="auto",this.indicator.style.translate=r?-1*a.left+"px":`${a.left}px`;break;case"start":case"end":this.indicator.style.width="auto",this.indicator.style.height=`${i}px`,this.indicator.style.translate=`0 ${a.top}px`}}syncTabsAndPanels(){this.tabs=this.getAllTabs(),this.focusableTabs=this.tabs.filter(t=>!t.disabled),this.panels=this.getAllPanels(),this.syncIndicator(),this.updateComplete.then(()=>this.updateScrollControls())}findNextFocusableTab(t,e){let i=null;const r="forward"===e?1:-1;let s=t+r;for(;t<this.tabs.length;){if(i=this.tabs[s]||null,null===i){i="forward"===e?this.focusableTabs[0]:this.focusableTabs[this.focusableTabs.length-1];break}if(!i.disabled)break;s+=r}return i}updateScrollButtons(){this.hasScrollControls&&!this.fixedScrollControls&&(this.shouldHideScrollStartButton=this.scrollFromStart()<=this.scrollOffset,this.shouldHideScrollEndButton=this.isScrolledToEnd())}isScrolledToEnd(){return this.scrollFromStart()+this.nav.clientWidth>=this.nav.scrollWidth-this.scrollOffset}scrollFromStart(){return"rtl"===this.localize.dir()?-this.nav.scrollLeft:this.nav.scrollLeft}updateScrollControls(){this.noScrollControls?this.hasScrollControls=!1:this.hasScrollControls=["top","bottom"].includes(this.placement)&&this.nav.scrollWidth>this.nav.clientWidth+1,this.updateScrollButtons()}syncIndicator(){this.getActiveTab()?(this.indicator.style.display="block",this.repositionIndicator()):this.indicator.style.display="none"}show(t){const e=this.tabs.find(e=>e.panel===t);e&&this.setActiveTab(e,{scrollBehavior:"smooth"})}render(){const t="rtl"===this.localize.dir();return bt`
      <div
        part="base"
        class=${xe({"tab-group":!0,"tab-group--top":"top"===this.placement,"tab-group--bottom":"bottom"===this.placement,"tab-group--start":"start"===this.placement,"tab-group--end":"end"===this.placement,"tab-group--rtl":"rtl"===this.localize.dir(),"tab-group--has-scroll-controls":this.hasScrollControls})}
        @click=${this.handleClick}
        @keydown=${this.handleKeyDown}
      >
        <div class="tab-group__nav-container" part="nav">
          ${this.hasScrollControls?bt`
                <sl-icon-button
                  part="scroll-button scroll-button--start"
                  exportparts="base:scroll-button__base"
                  class=${xe({"tab-group__scroll-button":!0,"tab-group__scroll-button--start":!0,"tab-group__scroll-button--start--hidden":this.shouldHideScrollStartButton})}
                  name=${t?"chevron-right":"chevron-left"}
                  library="system"
                  tabindex="-1"
                  aria-hidden="true"
                  label=${this.localize.term("scrollToStart")}
                  @click=${this.handleScrollToStart}
                ></sl-icon-button>
              `:""}

          <div class="tab-group__nav" @scrollend=${this.updateScrollButtons}>
            <div part="tabs" class="tab-group__tabs" role="tablist">
              <div part="active-tab-indicator" class="tab-group__indicator"></div>
              <sl-resize-observer @sl-resize=${this.syncIndicator}>
                <slot name="nav" @slotchange=${this.syncTabsAndPanels}></slot>
              </sl-resize-observer>
            </div>
          </div>

          ${this.hasScrollControls?bt`
                <sl-icon-button
                  part="scroll-button scroll-button--end"
                  exportparts="base:scroll-button__base"
                  class=${xe({"tab-group__scroll-button":!0,"tab-group__scroll-button--end":!0,"tab-group__scroll-button--end--hidden":this.shouldHideScrollEndButton})}
                  name=${t?"chevron-left":"chevron-right"}
                  library="system"
                  tabindex="-1"
                  aria-hidden="true"
                  label=${this.localize.term("scrollToEnd")}
                  @click=${this.handleScrollToEnd}
                ></sl-icon-button>
              `:""}
        </div>

        <slot part="body" class="tab-group__body" @slotchange=${this.syncTabsAndPanels}></slot>
      </div>
    `}};ts.styles=[te,Gr],ts.dependencies={"sl-icon-button":Wr,"sl-resize-observer":qr},f([oe(".tab-group")],ts.prototype,"tabGroup",2),f([oe(".tab-group__body")],ts.prototype,"body",2),f([oe(".tab-group__nav")],ts.prototype,"nav",2),f([oe(".tab-group__indicator")],ts.prototype,"indicator",2),f([se()],ts.prototype,"hasScrollControls",2),f([se()],ts.prototype,"shouldHideScrollStartButton",2),f([se()],ts.prototype,"shouldHideScrollEndButton",2),f([re()],ts.prototype,"placement",2),f([re()],ts.prototype,"activation",2),f([re({attribute:"no-scroll-controls",type:Boolean})],ts.prototype,"noScrollControls",2),f([re({attribute:"fixed-scroll-controls",type:Boolean})],ts.prototype,"fixedScrollControls",2),f([ae({passive:!0})],ts.prototype,"updateScrollButtons",1),f([Jt("noScrollControls",{waitUntilFirstUpdate:!0})],ts.prototype,"updateScrollControls",1),f([Jt("placement",{waitUntilFirstUpdate:!0})],ts.prototype,"syncIndicator",1),ts.define("sl-tab-group");var es=I`
  :host {
    --border-radius: var(--sl-border-radius-pill);
    --color: var(--sl-color-neutral-200);
    --sheen-color: var(--sl-color-neutral-300);

    display: block;
    position: relative;
  }

  .skeleton {
    display: flex;
    width: 100%;
    height: 100%;
    min-height: 1rem;
  }

  .skeleton__indicator {
    flex: 1 1 auto;
    background: var(--color);
    border-radius: var(--border-radius);
  }

  .skeleton--sheen .skeleton__indicator {
    background: linear-gradient(270deg, var(--sheen-color), var(--color), var(--color), var(--sheen-color));
    background-size: 400% 100%;
    animation: sheen 8s ease-in-out infinite;
  }

  .skeleton--pulse .skeleton__indicator {
    animation: pulse 2s ease-in-out 0.5s infinite;
  }

  /* Forced colors mode */
  @media (forced-colors: active) {
    :host {
      --color: GrayText;
    }
  }

  @keyframes sheen {
    0% {
      background-position: 200% 0;
    }
    to {
      background-position: -200% 0;
    }
  }

  @keyframes pulse {
    0% {
      opacity: 1;
    }
    50% {
      opacity: 0.4;
    }
    100% {
      opacity: 1;
    }
  }
`,is=class extends he{constructor(){super(...arguments),this.effect="none"}render(){return bt`
      <div
        part="base"
        class=${xe({skeleton:!0,"skeleton--pulse":"pulse"===this.effect,"skeleton--sheen":"sheen"===this.effect})}
      >
        <div part="indicator" class="skeleton__indicator"></div>
      </div>
    `}};is.styles=[te,es],f([re()],is.prototype,"effect",2),is.define("sl-skeleton");var rs=I`
  :host {
    --divider-width: 4px;
    --divider-hit-area: 12px;
    --min: 0%;
    --max: 100%;

    display: grid;
  }

  .start,
  .end {
    overflow: hidden;
  }

  .divider {
    flex: 0 0 var(--divider-width);
    display: flex;
    position: relative;
    align-items: center;
    justify-content: center;
    background-color: var(--sl-color-neutral-200);
    color: var(--sl-color-neutral-900);
    z-index: 1;
  }

  .divider:focus {
    outline: none;
  }

  :host(:not([disabled])) .divider:focus-visible {
    background-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
  }

  :host([disabled]) .divider {
    cursor: not-allowed;
  }

  /* Horizontal */
  :host(:not([vertical], [disabled])) .divider {
    cursor: col-resize;
  }

  :host(:not([vertical])) .divider::after {
    display: flex;
    content: '';
    position: absolute;
    height: 100%;
    left: calc(var(--divider-hit-area) / -2 + var(--divider-width) / 2);
    width: var(--divider-hit-area);
  }

  /* Vertical */
  :host([vertical]) {
    flex-direction: column;
  }

  :host([vertical]:not([disabled])) .divider {
    cursor: row-resize;
  }

  :host([vertical]) .divider::after {
    content: '';
    position: absolute;
    width: 100%;
    top: calc(var(--divider-hit-area) / -2 + var(--divider-width) / 2);
    height: var(--divider-hit-area);
  }

  @media (forced-colors: active) {
    .divider {
      outline: solid 1px transparent;
    }
  }
`;function ss(t,e){function i(i){const r=t.getBoundingClientRect(),s=t.ownerDocument.defaultView,a=r.left+s.scrollX,n=r.top+s.scrollY,o=i.pageX-a,l=i.pageY-n;(null==e?void 0:e.onMove)&&e.onMove(o,l)}document.addEventListener("pointermove",i,{passive:!0}),document.addEventListener("pointerup",function t(){document.removeEventListener("pointermove",i),document.removeEventListener("pointerup",t),(null==e?void 0:e.onStop)&&e.onStop()}),(null==e?void 0:e.initialEvent)instanceof PointerEvent&&i(e.initialEvent)}var as=()=>null,ns=class extends he{constructor(){super(...arguments),this.isCollapsed=!1,this.localize=new ze(this),this.positionBeforeCollapsing=0,this.position=50,this.vertical=!1,this.disabled=!1,this.snapValue="",this.snapFunction=as,this.snapThreshold=12}toSnapFunction(t){const e=t.split(" ");return({pos:i,size:r,snapThreshold:s,isRtl:a,vertical:n})=>{let o=i,l=Number.POSITIVE_INFINITY;return e.forEach(e=>{let h;if(e.startsWith("repeat(")){const e=t.substring(7,t.length-1),s=e.endsWith("%"),o=Number.parseFloat(e),l=s?r*(o/100):o;h=Math.round((a&&!n?r-i:i)/l)*l}else h=e.endsWith("%")?r*(Number.parseFloat(e)/100):Number.parseFloat(e);a&&!n&&(h=r-h);const c=Math.abs(i-h);c<=s&&c<l&&(o=h,l=c)}),o}}set snap(t){this.snapValue=null!=t?t:"",this.snapFunction=t?"string"==typeof t?this.toSnapFunction(t):t:as}get snap(){return this.snapValue}connectedCallback(){super.connectedCallback(),this.resizeObserver=new ResizeObserver(t=>this.handleResize(t)),this.updateComplete.then(()=>this.resizeObserver.observe(this)),this.detectSize(),this.cachedPositionInPixels=this.percentageToPixels(this.position)}disconnectedCallback(){var t;super.disconnectedCallback(),null==(t=this.resizeObserver)||t.unobserve(this)}detectSize(){const{width:t,height:e}=this.getBoundingClientRect();this.size=this.vertical?e:t}percentageToPixels(t){return this.size*(t/100)}pixelsToPercentage(t){return t/this.size*100}handleDrag(t){const e="rtl"===this.localize.dir();this.disabled||(t.cancelable&&t.preventDefault(),ss(this,{onMove:(t,i)=>{var r;let s=this.vertical?i:t;"end"===this.primary&&(s=this.size-s),s=null!=(r=this.snapFunction({pos:s,size:this.size,snapThreshold:this.snapThreshold,isRtl:e,vertical:this.vertical}))?r:s,this.position=Sr(this.pixelsToPercentage(s),0,100)},initialEvent:t}))}handleKeyDown(t){if(!this.disabled&&["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Home","End","Enter"].includes(t.key)){let e=this.position;const i=(t.shiftKey?10:1)*("end"===this.primary?-1:1);if(t.preventDefault(),("ArrowLeft"===t.key&&!this.vertical||"ArrowUp"===t.key&&this.vertical)&&(e-=i),("ArrowRight"===t.key&&!this.vertical||"ArrowDown"===t.key&&this.vertical)&&(e+=i),"Home"===t.key&&(e="end"===this.primary?100:0),"End"===t.key&&(e="end"===this.primary?0:100),"Enter"===t.key)if(this.isCollapsed)e=this.positionBeforeCollapsing,this.isCollapsed=!1;else{const t=this.position;e=0,requestAnimationFrame(()=>{this.isCollapsed=!0,this.positionBeforeCollapsing=t})}this.position=Sr(e,0,100)}}handleResize(t){const{width:e,height:i}=t[0].contentRect;this.size=this.vertical?i:e,(isNaN(this.cachedPositionInPixels)||this.position===1/0)&&(this.cachedPositionInPixels=Number(this.getAttribute("position-in-pixels")),this.positionInPixels=Number(this.getAttribute("position-in-pixels")),this.position=this.pixelsToPercentage(this.positionInPixels)),this.primary&&(this.position=this.pixelsToPercentage(this.cachedPositionInPixels))}handlePositionChange(){this.cachedPositionInPixels=this.percentageToPixels(this.position),this.isCollapsed=!1,this.positionBeforeCollapsing=0,this.positionInPixels=this.percentageToPixels(this.position),this.emit("sl-reposition")}handlePositionInPixelsChange(){this.position=this.pixelsToPercentage(this.positionInPixels)}handleVerticalChange(){this.detectSize()}render(){const t=this.vertical?"gridTemplateRows":"gridTemplateColumns",e=this.vertical?"gridTemplateColumns":"gridTemplateRows",i="rtl"===this.localize.dir(),r=`\n      clamp(\n        0%,\n        clamp(\n          var(--min),\n          ${this.position}% - var(--divider-width) / 2,\n          var(--max)\n        ),\n        calc(100% - var(--divider-width))\n      )\n    `,s="auto";return"end"===this.primary?i&&!this.vertical?this.style[t]=`${r} var(--divider-width) ${s}`:this.style[t]=`${s} var(--divider-width) ${r}`:i&&!this.vertical?this.style[t]=`${s} var(--divider-width) ${r}`:this.style[t]=`${r} var(--divider-width) ${s}`,this.style[e]="",bt`
      <slot name="start" part="panel start" class="start"></slot>

      <div
        part="divider"
        class="divider"
        tabindex=${we(this.disabled?void 0:"0")}
        role="separator"
        aria-valuenow=${this.position}
        aria-valuemin="0"
        aria-valuemax="100"
        aria-label=${this.localize.term("resize")}
        @keydown=${this.handleKeyDown}
        @mousedown=${this.handleDrag}
        @touchstart=${this.handleDrag}
      >
        <slot name="divider"></slot>
      </div>

      <slot name="end" part="panel end" class="end"></slot>
    `}};ns.styles=[te,rs],f([oe(".divider")],ns.prototype,"divider",2),f([re({type:Number,reflect:!0})],ns.prototype,"position",2),f([re({attribute:"position-in-pixels",type:Number})],ns.prototype,"positionInPixels",2),f([re({type:Boolean,reflect:!0})],ns.prototype,"vertical",2),f([re({type:Boolean,reflect:!0})],ns.prototype,"disabled",2),f([re()],ns.prototype,"primary",2),f([re({reflect:!0})],ns.prototype,"snap",1),f([re({type:Number,attribute:"snap-threshold"})],ns.prototype,"snapThreshold",2),f([Jt("position")],ns.prototype,"handlePositionChange",1),f([Jt("positionInPixels")],ns.prototype,"handlePositionInPixelsChange",1),f([Jt("vertical")],ns.prototype,"handleVerticalChange",1),ns.define("sl-split-panel");var os=I`
  :host {
    display: inline-block;
  }

  :host([size='small']) {
    --height: var(--sl-toggle-size-small);
    --thumb-size: calc(var(--sl-toggle-size-small) + 4px);
    --width: calc(var(--height) * 2);

    font-size: var(--sl-input-font-size-small);
  }

  :host([size='medium']) {
    --height: var(--sl-toggle-size-medium);
    --thumb-size: calc(var(--sl-toggle-size-medium) + 4px);
    --width: calc(var(--height) * 2);

    font-size: var(--sl-input-font-size-medium);
  }

  :host([size='large']) {
    --height: var(--sl-toggle-size-large);
    --thumb-size: calc(var(--sl-toggle-size-large) + 4px);
    --width: calc(var(--height) * 2);

    font-size: var(--sl-input-font-size-large);
  }

  .switch {
    position: relative;
    display: inline-flex;
    align-items: center;
    font-family: var(--sl-input-font-family);
    font-size: inherit;
    font-weight: var(--sl-input-font-weight);
    color: var(--sl-input-label-color);
    vertical-align: middle;
    cursor: pointer;
  }

  .switch__control {
    flex: 0 0 auto;
    position: relative;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: var(--width);
    height: var(--height);
    background-color: var(--sl-color-neutral-400);
    border: solid var(--sl-input-border-width) var(--sl-color-neutral-400);
    border-radius: var(--height);
    transition:
      var(--sl-transition-fast) border-color,
      var(--sl-transition-fast) background-color;
  }

  .switch__control .switch__thumb {
    width: var(--thumb-size);
    height: var(--thumb-size);
    background-color: var(--sl-color-neutral-0);
    border-radius: 50%;
    border: solid var(--sl-input-border-width) var(--sl-color-neutral-400);
    translate: calc((var(--width) - var(--height)) / -2);
    transition:
      var(--sl-transition-fast) translate ease,
      var(--sl-transition-fast) background-color,
      var(--sl-transition-fast) border-color,
      var(--sl-transition-fast) box-shadow;
  }

  .switch__input {
    position: absolute;
    opacity: 0;
    padding: 0;
    margin: 0;
    pointer-events: none;
  }

  /* Hover */
  .switch:not(.switch--checked):not(.switch--disabled) .switch__control:hover {
    background-color: var(--sl-color-neutral-400);
    border-color: var(--sl-color-neutral-400);
  }

  .switch:not(.switch--checked):not(.switch--disabled) .switch__control:hover .switch__thumb {
    background-color: var(--sl-color-neutral-0);
    border-color: var(--sl-color-neutral-400);
  }

  /* Focus */
  .switch:not(.switch--checked):not(.switch--disabled) .switch__input:focus-visible ~ .switch__control {
    background-color: var(--sl-color-neutral-400);
    border-color: var(--sl-color-neutral-400);
  }

  .switch:not(.switch--checked):not(.switch--disabled) .switch__input:focus-visible ~ .switch__control .switch__thumb {
    background-color: var(--sl-color-neutral-0);
    border-color: var(--sl-color-primary-600);
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  /* Checked */
  .switch--checked .switch__control {
    background-color: var(--sl-color-primary-600);
    border-color: var(--sl-color-primary-600);
  }

  .switch--checked .switch__control .switch__thumb {
    background-color: var(--sl-color-neutral-0);
    border-color: var(--sl-color-primary-600);
    translate: calc((var(--width) - var(--height)) / 2);
  }

  /* Checked + hover */
  .switch.switch--checked:not(.switch--disabled) .switch__control:hover {
    background-color: var(--sl-color-primary-600);
    border-color: var(--sl-color-primary-600);
  }

  .switch.switch--checked:not(.switch--disabled) .switch__control:hover .switch__thumb {
    background-color: var(--sl-color-neutral-0);
    border-color: var(--sl-color-primary-600);
  }

  /* Checked + focus */
  .switch.switch--checked:not(.switch--disabled) .switch__input:focus-visible ~ .switch__control {
    background-color: var(--sl-color-primary-600);
    border-color: var(--sl-color-primary-600);
  }

  .switch.switch--checked:not(.switch--disabled) .switch__input:focus-visible ~ .switch__control .switch__thumb {
    background-color: var(--sl-color-neutral-0);
    border-color: var(--sl-color-primary-600);
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  /* Disabled */
  .switch--disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  .switch__label {
    display: inline-block;
    line-height: var(--height);
    margin-inline-start: 0.5em;
    user-select: none;
    -webkit-user-select: none;
  }

  :host([required]) .switch__label::after {
    content: var(--sl-input-required-content);
    color: var(--sl-input-required-content-color);
    margin-inline-start: var(--sl-input-required-content-offset);
  }

  @media (forced-colors: active) {
    .switch.switch--checked:not(.switch--disabled) .switch__control:hover .switch__thumb,
    .switch--checked .switch__control .switch__thumb {
      background-color: ButtonText;
    }
  }
`,ls=class extends he{constructor(){super(...arguments),this.formControlController=new k(this,{value:t=>t.checked?t.value||"on":void 0,defaultValue:t=>t.defaultChecked,setValue:(t,e)=>t.checked=e}),this.hasSlotController=new Yt(this,"help-text"),this.hasFocus=!1,this.title="",this.name="",this.size="medium",this.disabled=!1,this.checked=!1,this.defaultChecked=!1,this.form="",this.required=!1,this.helpText=""}get validity(){return this.input.validity}get validationMessage(){return this.input.validationMessage}firstUpdated(){this.formControlController.updateValidity()}handleBlur(){this.hasFocus=!1,this.emit("sl-blur")}handleInput(){this.emit("sl-input")}handleInvalid(t){this.formControlController.setValidity(!1),this.formControlController.emitInvalidEvent(t)}handleClick(){this.checked=!this.checked,this.emit("sl-change")}handleFocus(){this.hasFocus=!0,this.emit("sl-focus")}handleKeyDown(t){"ArrowLeft"===t.key&&(t.preventDefault(),this.checked=!1,this.emit("sl-change"),this.emit("sl-input")),"ArrowRight"===t.key&&(t.preventDefault(),this.checked=!0,this.emit("sl-change"),this.emit("sl-input"))}handleCheckedChange(){this.input.checked=this.checked,this.formControlController.updateValidity()}handleDisabledChange(){this.formControlController.setValidity(!0)}click(){this.input.click()}focus(t){this.input.focus(t)}blur(){this.input.blur()}checkValidity(){return this.input.checkValidity()}getForm(){return this.formControlController.getForm()}reportValidity(){return this.input.reportValidity()}setCustomValidity(t){this.input.setCustomValidity(t),this.formControlController.updateValidity()}render(){const t=this.hasSlotController.test("help-text"),e=!!this.helpText||!!t;return bt`
      <div
        class=${xe({"form-control":!0,"form-control--small":"small"===this.size,"form-control--medium":"medium"===this.size,"form-control--large":"large"===this.size,"form-control--has-help-text":e})}
      >
        <label
          part="base"
          class=${xe({switch:!0,"switch--checked":this.checked,"switch--disabled":this.disabled,"switch--focused":this.hasFocus,"switch--small":"small"===this.size,"switch--medium":"medium"===this.size,"switch--large":"large"===this.size})}
        >
          <input
            class="switch__input"
            type="checkbox"
            title=${this.title}
            name=${this.name}
            value=${we(this.value)}
            .checked=${_e(this.checked)}
            .disabled=${this.disabled}
            .required=${this.required}
            role="switch"
            aria-checked=${this.checked?"true":"false"}
            aria-describedby="help-text"
            @click=${this.handleClick}
            @input=${this.handleInput}
            @invalid=${this.handleInvalid}
            @blur=${this.handleBlur}
            @focus=${this.handleFocus}
            @keydown=${this.handleKeyDown}
          />

          <span part="control" class="switch__control">
            <span part="thumb" class="switch__thumb"></span>
          </span>

          <div part="label" class="switch__label">
            <slot></slot>
          </div>
        </label>

        <div
          aria-hidden=${e?"false":"true"}
          class="form-control__help-text"
          id="help-text"
          part="form-control-help-text"
        >
          <slot name="help-text">${this.helpText}</slot>
        </div>
      </div>
    `}};ls.styles=[te,Nt,os],f([oe('input[type="checkbox"]')],ls.prototype,"input",2),f([se()],ls.prototype,"hasFocus",2),f([re()],ls.prototype,"title",2),f([re()],ls.prototype,"name",2),f([re()],ls.prototype,"value",2),f([re({reflect:!0})],ls.prototype,"size",2),f([re({type:Boolean,reflect:!0})],ls.prototype,"disabled",2),f([re({type:Boolean,reflect:!0})],ls.prototype,"checked",2),f([Ht("checked")],ls.prototype,"defaultChecked",2),f([re({reflect:!0})],ls.prototype,"form",2),f([re({type:Boolean,reflect:!0})],ls.prototype,"required",2),f([re({attribute:"help-text"})],ls.prototype,"helpText",2),f([Jt("checked",{waitUntilFirstUpdate:!0})],ls.prototype,"handleCheckedChange",1),f([Jt("disabled",{waitUntilFirstUpdate:!0})],ls.prototype,"handleDisabledChange",1),ls.define("sl-switch"),qr.define("sl-resize-observer");var hs=I`
  :host {
    display: block;
  }

  /** The popup */
  .select {
    flex: 1 1 auto;
    display: inline-flex;
    width: 100%;
    position: relative;
    vertical-align: middle;
  }

  .select::part(popup) {
    z-index: var(--sl-z-index-dropdown);
  }

  .select[data-current-placement^='top']::part(popup) {
    transform-origin: bottom;
  }

  .select[data-current-placement^='bottom']::part(popup) {
    transform-origin: top;
  }

  /* Combobox */
  .select__combobox {
    flex: 1;
    display: flex;
    width: 100%;
    min-width: 0;
    position: relative;
    align-items: center;
    justify-content: start;
    font-family: var(--sl-input-font-family);
    font-weight: var(--sl-input-font-weight);
    letter-spacing: var(--sl-input-letter-spacing);
    vertical-align: middle;
    overflow: hidden;
    cursor: pointer;
    transition:
      var(--sl-transition-fast) color,
      var(--sl-transition-fast) border,
      var(--sl-transition-fast) box-shadow,
      var(--sl-transition-fast) background-color;
  }

  .select__display-input {
    position: relative;
    width: 100%;
    font: inherit;
    border: none;
    background: none;
    color: var(--sl-input-color);
    cursor: inherit;
    overflow: hidden;
    padding: 0;
    margin: 0;
    -webkit-appearance: none;
  }

  .select__display-input::placeholder {
    color: var(--sl-input-placeholder-color);
  }

  .select:not(.select--disabled):hover .select__display-input {
    color: var(--sl-input-color-hover);
  }

  .select__display-input:focus {
    outline: none;
  }

  /* Visually hide the display input when multiple is enabled */
  .select--multiple:not(.select--placeholder-visible) .select__display-input {
    position: absolute;
    z-index: -1;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    opacity: 0;
  }

  .select__value-input {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    padding: 0;
    margin: 0;
    opacity: 0;
    z-index: -1;
  }

  .select__tags {
    display: flex;
    flex: 1;
    align-items: center;
    flex-wrap: wrap;
    margin-inline-start: var(--sl-spacing-2x-small);
  }

  .select__tags::slotted(sl-tag) {
    cursor: pointer !important;
  }

  .select--disabled .select__tags,
  .select--disabled .select__tags::slotted(sl-tag) {
    cursor: not-allowed !important;
  }

  /* Standard selects */
  .select--standard .select__combobox {
    background-color: var(--sl-input-background-color);
    border: solid var(--sl-input-border-width) var(--sl-input-border-color);
  }

  .select--standard.select--disabled .select__combobox {
    background-color: var(--sl-input-background-color-disabled);
    border-color: var(--sl-input-border-color-disabled);
    color: var(--sl-input-color-disabled);
    opacity: 0.5;
    cursor: not-allowed;
    outline: none;
  }

  .select--standard:not(.select--disabled).select--open .select__combobox,
  .select--standard:not(.select--disabled).select--focused .select__combobox {
    background-color: var(--sl-input-background-color-focus);
    border-color: var(--sl-input-border-color-focus);
    box-shadow: 0 0 0 var(--sl-focus-ring-width) var(--sl-input-focus-ring-color);
  }

  /* Filled selects */
  .select--filled .select__combobox {
    border: none;
    background-color: var(--sl-input-filled-background-color);
    color: var(--sl-input-color);
  }

  .select--filled:hover:not(.select--disabled) .select__combobox {
    background-color: var(--sl-input-filled-background-color-hover);
  }

  .select--filled.select--disabled .select__combobox {
    background-color: var(--sl-input-filled-background-color-disabled);
    opacity: 0.5;
    cursor: not-allowed;
  }

  .select--filled:not(.select--disabled).select--open .select__combobox,
  .select--filled:not(.select--disabled).select--focused .select__combobox {
    background-color: var(--sl-input-filled-background-color-focus);
    outline: var(--sl-focus-ring);
  }

  /* Sizes */
  .select--small .select__combobox {
    border-radius: var(--sl-input-border-radius-small);
    font-size: var(--sl-input-font-size-small);
    min-height: var(--sl-input-height-small);
    padding-block: 0;
    padding-inline: var(--sl-input-spacing-small);
  }

  .select--small .select__clear {
    margin-inline-start: var(--sl-input-spacing-small);
  }

  .select--small .select__prefix::slotted(*) {
    margin-inline-end: var(--sl-input-spacing-small);
  }

  .select--small.select--multiple:not(.select--placeholder-visible) .select__prefix::slotted(*) {
    margin-inline-start: var(--sl-input-spacing-small);
  }

  .select--small.select--multiple:not(.select--placeholder-visible) .select__combobox {
    padding-block: 2px;
    padding-inline-start: 0;
  }

  .select--small .select__tags {
    gap: 2px;
  }

  .select--medium .select__combobox {
    border-radius: var(--sl-input-border-radius-medium);
    font-size: var(--sl-input-font-size-medium);
    min-height: var(--sl-input-height-medium);
    padding-block: 0;
    padding-inline: var(--sl-input-spacing-medium);
  }

  .select--medium .select__clear {
    margin-inline-start: var(--sl-input-spacing-medium);
  }

  .select--medium .select__prefix::slotted(*) {
    margin-inline-end: var(--sl-input-spacing-medium);
  }

  .select--medium.select--multiple:not(.select--placeholder-visible) .select__prefix::slotted(*) {
    margin-inline-start: var(--sl-input-spacing-medium);
  }

  .select--medium.select--multiple:not(.select--placeholder-visible) .select__combobox {
    padding-inline-start: 0;
    padding-block: 3px;
  }

  .select--medium .select__tags {
    gap: 3px;
  }

  .select--large .select__combobox {
    border-radius: var(--sl-input-border-radius-large);
    font-size: var(--sl-input-font-size-large);
    min-height: var(--sl-input-height-large);
    padding-block: 0;
    padding-inline: var(--sl-input-spacing-large);
  }

  .select--large .select__clear {
    margin-inline-start: var(--sl-input-spacing-large);
  }

  .select--large .select__prefix::slotted(*) {
    margin-inline-end: var(--sl-input-spacing-large);
  }

  .select--large.select--multiple:not(.select--placeholder-visible) .select__prefix::slotted(*) {
    margin-inline-start: var(--sl-input-spacing-large);
  }

  .select--large.select--multiple:not(.select--placeholder-visible) .select__combobox {
    padding-inline-start: 0;
    padding-block: 4px;
  }

  .select--large .select__tags {
    gap: 4px;
  }

  /* Pills */
  .select--pill.select--small .select__combobox {
    border-radius: var(--sl-input-height-small);
  }

  .select--pill.select--medium .select__combobox {
    border-radius: var(--sl-input-height-medium);
  }

  .select--pill.select--large .select__combobox {
    border-radius: var(--sl-input-height-large);
  }

  /* Prefix and Suffix */
  .select__prefix,
  .select__suffix {
    flex: 0;
    display: inline-flex;
    align-items: center;
    color: var(--sl-input-placeholder-color);
  }

  .select__suffix::slotted(*) {
    margin-inline-start: var(--sl-spacing-small);
  }

  /* Clear button */
  .select__clear {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    font-size: inherit;
    color: var(--sl-input-icon-color);
    border: none;
    background: none;
    padding: 0;
    transition: var(--sl-transition-fast) color;
    cursor: pointer;
  }

  .select__clear:hover {
    color: var(--sl-input-icon-color-hover);
  }

  .select__clear:focus {
    outline: none;
  }

  /* Expand icon */
  .select__expand-icon {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    transition: var(--sl-transition-medium) rotate ease;
    rotate: 0;
    margin-inline-start: var(--sl-spacing-small);
  }

  .select--open .select__expand-icon {
    rotate: -180deg;
  }

  /* Listbox */
  .select__listbox {
    display: block;
    position: relative;
    font-family: var(--sl-font-sans);
    font-size: var(--sl-font-size-medium);
    font-weight: var(--sl-font-weight-normal);
    box-shadow: var(--sl-shadow-large);
    background: var(--sl-panel-background-color);
    border: solid var(--sl-panel-border-width) var(--sl-panel-border-color);
    border-radius: var(--sl-border-radius-medium);
    padding-block: var(--sl-spacing-x-small);
    padding-inline: 0;
    overflow: auto;
    overscroll-behavior: none;

    /* Make sure it adheres to the popup's auto size */
    max-width: var(--auto-size-available-width);
    max-height: var(--auto-size-available-height);
  }

  .select__listbox ::slotted(sl-divider) {
    --spacing: var(--sl-spacing-x-small);
  }

  .select__listbox ::slotted(small) {
    display: block;
    font-size: var(--sl-font-size-small);
    font-weight: var(--sl-font-weight-semibold);
    color: var(--sl-color-neutral-500);
    padding-block: var(--sl-spacing-2x-small);
    padding-inline: var(--sl-spacing-x-large);
  }
`;class cs extends ve{constructor(t){if(super(t),this.it=wt,2!==t.type)throw Error(this.constructor.directiveName+"() can only be used in child bindings")}render(t){if(t===wt||null==t)return this._t=void 0,this.it=t;if(t===xt)return t;if("string"!=typeof t)throw Error(this.constructor.directiveName+"() called with a non-string value");if(t===this.it)return this._t;this.it=t;const e=[t];return e.raw=e,this._t={_$litType$:this.constructor.resultType,strings:e,values:[]}}}cs.directiveName="unsafeHTML",cs.resultType=1;const ds=ye(cs);var us=class extends he{constructor(){super(...arguments),this.formControlController=new k(this,{assumeInteractionOn:["sl-blur","sl-input"]}),this.hasSlotController=new Yt(this,"help-text","label"),this.localize=new ze(this),this.typeToSelectString="",this.hasFocus=!1,this.displayLabel="",this.selectedOptions=[],this.valueHasChanged=!1,this.name="",this._value="",this.defaultValue="",this.size="medium",this.placeholder="",this.multiple=!1,this.maxOptionsVisible=3,this.disabled=!1,this.clearable=!1,this.open=!1,this.hoist=!1,this.filled=!1,this.pill=!1,this.label="",this.placement="bottom",this.helpText="",this.form="",this.required=!1,this.getTag=t=>bt`
      <sl-tag
        part="tag"
        exportparts="
              base:tag__base,
              content:tag__content,
              remove-button:tag__remove-button,
              remove-button__base:tag__remove-button__base
            "
        ?pill=${this.pill}
        size=${this.size}
        removable
        @sl-remove=${e=>this.handleTagRemove(e,t)}
      >
        ${t.getTextLabel()}
      </sl-tag>
    `,this.handleDocumentFocusIn=t=>{const e=t.composedPath();this&&!e.includes(this)&&this.hide()},this.handleDocumentKeyDown=t=>{const e=t.target,i=null!==e.closest(".select__clear"),r=null!==e.closest("sl-icon-button");if(!i&&!r){if("Escape"===t.key&&this.open&&!this.closeWatcher&&(t.preventDefault(),t.stopPropagation(),this.hide(),this.displayInput.focus({preventScroll:!0})),"Enter"===t.key||" "===t.key&&""===this.typeToSelectString)return t.preventDefault(),t.stopImmediatePropagation(),this.open?void(this.currentOption&&!this.currentOption.disabled&&(this.valueHasChanged=!0,this.multiple?this.toggleOptionSelection(this.currentOption):this.setSelectedOptions(this.currentOption),this.updateComplete.then(()=>{this.emit("sl-input"),this.emit("sl-change")}),this.multiple||(this.hide(),this.displayInput.focus({preventScroll:!0})))):void this.show();if(["ArrowUp","ArrowDown","Home","End"].includes(t.key)){const e=this.getAllOptions(),i=e.indexOf(this.currentOption);let r=Math.max(0,i);if(t.preventDefault(),!this.open&&(this.show(),this.currentOption))return;"ArrowDown"===t.key?(r=i+1,r>e.length-1&&(r=0)):"ArrowUp"===t.key?(r=i-1,r<0&&(r=e.length-1)):"Home"===t.key?r=0:"End"===t.key&&(r=e.length-1),this.setCurrentOption(e[r])}if(t.key&&1===t.key.length||"Backspace"===t.key){const e=this.getAllOptions();if(t.metaKey||t.ctrlKey||t.altKey)return;if(!this.open){if("Backspace"===t.key)return;this.show()}t.stopPropagation(),t.preventDefault(),clearTimeout(this.typeToSelectTimeout),this.typeToSelectTimeout=window.setTimeout(()=>this.typeToSelectString="",1e3),"Backspace"===t.key?this.typeToSelectString=this.typeToSelectString.slice(0,-1):this.typeToSelectString+=t.key.toLowerCase();for(const t of e)if(t.getTextLabel().toLowerCase().startsWith(this.typeToSelectString)){this.setCurrentOption(t);break}}}},this.handleDocumentMouseDown=t=>{const e=t.composedPath();this&&!e.includes(this)&&this.hide()}}get value(){return this._value}set value(t){t=this.multiple?Array.isArray(t)?t:t.split(" "):Array.isArray(t)?t.join(" "):t,this._value!==t&&(this.valueHasChanged=!0,this._value=t)}get validity(){return this.valueInput.validity}get validationMessage(){return this.valueInput.validationMessage}connectedCallback(){super.connectedCallback(),setTimeout(()=>{this.handleDefaultSlotChange()}),this.open=!1}addOpenListeners(){var t;document.addEventListener("focusin",this.handleDocumentFocusIn),document.addEventListener("keydown",this.handleDocumentKeyDown),document.addEventListener("mousedown",this.handleDocumentMouseDown),this.getRootNode()!==document&&this.getRootNode().addEventListener("focusin",this.handleDocumentFocusIn),"CloseWatcher"in window&&(null==(t=this.closeWatcher)||t.destroy(),this.closeWatcher=new CloseWatcher,this.closeWatcher.onclose=()=>{this.open&&(this.hide(),this.displayInput.focus({preventScroll:!0}))})}removeOpenListeners(){var t;document.removeEventListener("focusin",this.handleDocumentFocusIn),document.removeEventListener("keydown",this.handleDocumentKeyDown),document.removeEventListener("mousedown",this.handleDocumentMouseDown),this.getRootNode()!==document&&this.getRootNode().removeEventListener("focusin",this.handleDocumentFocusIn),null==(t=this.closeWatcher)||t.destroy()}handleFocus(){this.hasFocus=!0,this.displayInput.setSelectionRange(0,0),this.emit("sl-focus")}handleBlur(){this.hasFocus=!1,this.emit("sl-blur")}handleLabelClick(){this.displayInput.focus()}handleComboboxMouseDown(t){const e=t.composedPath().some(t=>t instanceof Element&&"sl-icon-button"===t.tagName.toLowerCase());this.disabled||e||(t.preventDefault(),this.displayInput.focus({preventScroll:!0}),this.open=!this.open)}handleComboboxKeyDown(t){"Tab"!==t.key&&(t.stopPropagation(),this.handleDocumentKeyDown(t))}handleClearClick(t){t.stopPropagation(),this.valueHasChanged=!0,""!==this.value&&(this.setSelectedOptions([]),this.displayInput.focus({preventScroll:!0}),this.updateComplete.then(()=>{this.emit("sl-clear"),this.emit("sl-input"),this.emit("sl-change")}))}handleClearMouseDown(t){t.stopPropagation(),t.preventDefault()}handleOptionClick(t){const e=t.target.closest("sl-option"),i=this.value;e&&!e.disabled&&(this.valueHasChanged=!0,this.multiple?this.toggleOptionSelection(e):this.setSelectedOptions(e),this.updateComplete.then(()=>this.displayInput.focus({preventScroll:!0})),this.value!==i&&this.updateComplete.then(()=>{this.emit("sl-input"),this.emit("sl-change")}),this.multiple||(this.hide(),this.displayInput.focus({preventScroll:!0})))}handleDefaultSlotChange(){customElements.get("sl-option")||customElements.whenDefined("sl-option").then(()=>this.handleDefaultSlotChange());const t=this.getAllOptions(),e=this.valueHasChanged?this.value:this.defaultValue,i=Array.isArray(e)?e:[e],r=[];t.forEach(t=>r.push(t.value)),this.setSelectedOptions(t.filter(t=>i.includes(t.value)))}handleTagRemove(t,e){t.stopPropagation(),this.valueHasChanged=!0,this.disabled||(this.toggleOptionSelection(e,!1),this.updateComplete.then(()=>{this.emit("sl-input"),this.emit("sl-change")}))}getAllOptions(){return[...this.querySelectorAll("sl-option")]}getFirstOption(){return this.querySelector("sl-option")}setCurrentOption(t){this.getAllOptions().forEach(t=>{t.current=!1,t.tabIndex=-1}),t&&(this.currentOption=t,t.current=!0,t.tabIndex=0,t.focus())}setSelectedOptions(t){const e=this.getAllOptions(),i=Array.isArray(t)?t:[t];e.forEach(t=>t.selected=!1),i.length&&i.forEach(t=>t.selected=!0),this.selectionChanged()}toggleOptionSelection(t,e){t.selected=!0===e||!1===e?e:!t.selected,this.selectionChanged()}selectionChanged(){var t,e,i;const r=this.getAllOptions();this.selectedOptions=r.filter(t=>t.selected);const s=this.valueHasChanged;if(this.multiple)this.value=this.selectedOptions.map(t=>t.value),this.placeholder&&0===this.value.length?this.displayLabel="":this.displayLabel=this.localize.term("numOptionsSelected",this.selectedOptions.length);else{const r=this.selectedOptions[0];this.value=null!=(t=null==r?void 0:r.value)?t:"",this.displayLabel=null!=(i=null==(e=null==r?void 0:r.getTextLabel)?void 0:e.call(r))?i:""}this.valueHasChanged=s,this.updateComplete.then(()=>{this.formControlController.updateValidity()})}get tags(){return this.selectedOptions.map((t,e)=>{if(e<this.maxOptionsVisible||this.maxOptionsVisible<=0){const i=this.getTag(t,e);return bt`<div @sl-remove=${e=>this.handleTagRemove(e,t)}>
          ${"string"==typeof i?ds(i):i}
        </div>`}return e===this.maxOptionsVisible?bt`<sl-tag size=${this.size}>+${this.selectedOptions.length-e}</sl-tag>`:bt``})}handleInvalid(t){this.formControlController.setValidity(!1),this.formControlController.emitInvalidEvent(t)}handleDisabledChange(){this.disabled&&(this.open=!1,this.handleOpenChange())}attributeChangedCallback(t,e,i){if(super.attributeChangedCallback(t,e,i),"value"===t){const t=this.valueHasChanged;this.value=this.defaultValue,this.valueHasChanged=t}}handleValueChange(){if(!this.valueHasChanged){const t=this.valueHasChanged;this.value=this.defaultValue,this.valueHasChanged=t}const t=this.getAllOptions(),e=Array.isArray(this.value)?this.value:[this.value];this.setSelectedOptions(t.filter(t=>e.includes(t.value)))}async handleOpenChange(){if(this.open&&!this.disabled){this.setCurrentOption(this.selectedOptions[0]||this.getFirstOption()),this.emit("sl-show"),this.addOpenListeners(),await Ue(this),this.listbox.hidden=!1,this.popup.active=!0,requestAnimationFrame(()=>{this.setCurrentOption(this.currentOption)});const{keyframes:t,options:e}=He(this,"select.show",{dir:this.localize.dir()});await Ne(this.popup.popup,t,e),this.currentOption&&Jr(this.currentOption,this.listbox,"vertical","auto"),this.emit("sl-after-show")}else{this.emit("sl-hide"),this.removeOpenListeners(),await Ue(this);const{keyframes:t,options:e}=He(this,"select.hide",{dir:this.localize.dir()});await Ne(this.popup.popup,t,e),this.listbox.hidden=!0,this.popup.active=!1,this.emit("sl-after-hide")}}async show(){if(!this.open&&!this.disabled)return this.open=!0,wr(this,"sl-after-show");this.open=!1}async hide(){if(this.open&&!this.disabled)return this.open=!1,wr(this,"sl-after-hide");this.open=!1}checkValidity(){return this.valueInput.checkValidity()}getForm(){return this.formControlController.getForm()}reportValidity(){return this.valueInput.reportValidity()}setCustomValidity(t){this.valueInput.setCustomValidity(t),this.formControlController.updateValidity()}focus(t){this.displayInput.focus(t)}blur(){this.displayInput.blur()}render(){const t=this.hasSlotController.test("label"),e=this.hasSlotController.test("help-text"),i=!!this.label||!!t,r=!!this.helpText||!!e,s=this.clearable&&!this.disabled&&this.value.length>0,a=this.placeholder&&this.value&&this.value.length<=0;return bt`
      <div
        part="form-control"
        class=${xe({"form-control":!0,"form-control--small":"small"===this.size,"form-control--medium":"medium"===this.size,"form-control--large":"large"===this.size,"form-control--has-label":i,"form-control--has-help-text":r})}
      >
        <label
          id="label"
          part="form-control-label"
          class="form-control__label"
          aria-hidden=${i?"false":"true"}
          @click=${this.handleLabelClick}
        >
          <slot name="label">${this.label}</slot>
        </label>

        <div part="form-control-input" class="form-control-input">
          <sl-popup
            class=${xe({select:!0,"select--standard":!0,"select--filled":this.filled,"select--pill":this.pill,"select--open":this.open,"select--disabled":this.disabled,"select--multiple":this.multiple,"select--focused":this.hasFocus,"select--placeholder-visible":a,"select--top":"top"===this.placement,"select--bottom":"bottom"===this.placement,"select--small":"small"===this.size,"select--medium":"medium"===this.size,"select--large":"large"===this.size})}
            placement=${this.placement}
            strategy=${this.hoist?"fixed":"absolute"}
            flip
            shift
            sync="width"
            auto-size="vertical"
            auto-size-padding="10"
          >
            <div
              part="combobox"
              class="select__combobox"
              slot="anchor"
              @keydown=${this.handleComboboxKeyDown}
              @mousedown=${this.handleComboboxMouseDown}
            >
              <slot part="prefix" name="prefix" class="select__prefix"></slot>

              <input
                part="display-input"
                class="select__display-input"
                type="text"
                placeholder=${this.placeholder}
                .disabled=${this.disabled}
                .value=${this.displayLabel}
                autocomplete="off"
                spellcheck="false"
                autocapitalize="off"
                readonly
                aria-controls="listbox"
                aria-expanded=${this.open?"true":"false"}
                aria-haspopup="listbox"
                aria-labelledby="label"
                aria-disabled=${this.disabled?"true":"false"}
                aria-describedby="help-text"
                role="combobox"
                tabindex="0"
                @focus=${this.handleFocus}
                @blur=${this.handleBlur}
              />

              ${this.multiple?bt`<div part="tags" class="select__tags">${this.tags}</div>`:""}

              <input
                class="select__value-input"
                type="text"
                ?disabled=${this.disabled}
                ?required=${this.required}
                .value=${Array.isArray(this.value)?this.value.join(", "):this.value}
                tabindex="-1"
                aria-hidden="true"
                @focus=${()=>this.focus()}
                @invalid=${this.handleInvalid}
              />

              ${s?bt`
                    <button
                      part="clear-button"
                      class="select__clear"
                      type="button"
                      aria-label=${this.localize.term("clearEntry")}
                      @mousedown=${this.handleClearMouseDown}
                      @click=${this.handleClearClick}
                      tabindex="-1"
                    >
                      <slot name="clear-icon">
                        <sl-icon name="x-circle-fill" library="system"></sl-icon>
                      </slot>
                    </button>
                  `:""}

              <slot name="suffix" part="suffix" class="select__suffix"></slot>

              <slot name="expand-icon" part="expand-icon" class="select__expand-icon">
                <sl-icon library="system" name="chevron-down"></sl-icon>
              </slot>
            </div>

            <div
              id="listbox"
              role="listbox"
              aria-expanded=${this.open?"true":"false"}
              aria-multiselectable=${this.multiple?"true":"false"}
              aria-labelledby="label"
              part="listbox"
              class="select__listbox"
              tabindex="-1"
              @mouseup=${this.handleOptionClick}
              @slotchange=${this.handleDefaultSlotChange}
            >
              <slot></slot>
            </div>
          </sl-popup>
        </div>

        <div
          part="form-control-help-text"
          id="help-text"
          class="form-control__help-text"
          aria-hidden=${r?"false":"true"}
        >
          <slot name="help-text">${this.helpText}</slot>
        </div>
      </div>
    `}};us.styles=[te,Nt,hs],us.dependencies={"sl-icon":be,"sl-popup":xr,"sl-tag":Vr},f([oe(".select")],us.prototype,"popup",2),f([oe(".select__combobox")],us.prototype,"combobox",2),f([oe(".select__display-input")],us.prototype,"displayInput",2),f([oe(".select__value-input")],us.prototype,"valueInput",2),f([oe(".select__listbox")],us.prototype,"listbox",2),f([se()],us.prototype,"hasFocus",2),f([se()],us.prototype,"displayLabel",2),f([se()],us.prototype,"currentOption",2),f([se()],us.prototype,"selectedOptions",2),f([se()],us.prototype,"valueHasChanged",2),f([re()],us.prototype,"name",2),f([se()],us.prototype,"value",1),f([re({attribute:"value"})],us.prototype,"defaultValue",2),f([re({reflect:!0})],us.prototype,"size",2),f([re()],us.prototype,"placeholder",2),f([re({type:Boolean,reflect:!0})],us.prototype,"multiple",2),f([re({attribute:"max-options-visible",type:Number})],us.prototype,"maxOptionsVisible",2),f([re({type:Boolean,reflect:!0})],us.prototype,"disabled",2),f([re({type:Boolean})],us.prototype,"clearable",2),f([re({type:Boolean,reflect:!0})],us.prototype,"open",2),f([re({type:Boolean})],us.prototype,"hoist",2),f([re({type:Boolean,reflect:!0})],us.prototype,"filled",2),f([re({type:Boolean,reflect:!0})],us.prototype,"pill",2),f([re()],us.prototype,"label",2),f([re({reflect:!0})],us.prototype,"placement",2),f([re({attribute:"help-text"})],us.prototype,"helpText",2),f([re({reflect:!0})],us.prototype,"form",2),f([re({type:Boolean,reflect:!0})],us.prototype,"required",2),f([re()],us.prototype,"getTag",2),f([Jt("disabled",{waitUntilFirstUpdate:!0})],us.prototype,"handleDisabledChange",1),f([Jt(["defaultValue","value"],{waitUntilFirstUpdate:!0})],us.prototype,"handleValueChange",1),f([Jt("open",{waitUntilFirstUpdate:!0})],us.prototype,"handleOpenChange",1),Ve("select.show",{keyframes:[{opacity:0,scale:.9},{opacity:1,scale:1}],options:{duration:100,easing:"ease"}}),Ve("select.hide",{keyframes:[{opacity:1,scale:1},{opacity:0,scale:.9}],options:{duration:100,easing:"ease"}}),us.define("sl-select"),Fe.define("sl-spinner");var ps=I`
  :host {
    --thumb-size: 20px;
    --tooltip-offset: 10px;
    --track-color-active: var(--sl-color-neutral-200);
    --track-color-inactive: var(--sl-color-neutral-200);
    --track-active-offset: 0%;
    --track-height: 6px;

    display: block;
  }

  .range {
    position: relative;
  }

  .range__control {
    --percent: 0%;
    -webkit-appearance: none;
    border-radius: 3px;
    width: 100%;
    height: var(--track-height);
    background: transparent;
    line-height: var(--sl-input-height-medium);
    vertical-align: middle;
    margin: 0;

    background-image: linear-gradient(
      to right,
      var(--track-color-inactive) 0%,
      var(--track-color-inactive) min(var(--percent), var(--track-active-offset)),
      var(--track-color-active) min(var(--percent), var(--track-active-offset)),
      var(--track-color-active) max(var(--percent), var(--track-active-offset)),
      var(--track-color-inactive) max(var(--percent), var(--track-active-offset)),
      var(--track-color-inactive) 100%
    );
  }

  .range--rtl .range__control {
    background-image: linear-gradient(
      to left,
      var(--track-color-inactive) 0%,
      var(--track-color-inactive) min(var(--percent), var(--track-active-offset)),
      var(--track-color-active) min(var(--percent), var(--track-active-offset)),
      var(--track-color-active) max(var(--percent), var(--track-active-offset)),
      var(--track-color-inactive) max(var(--percent), var(--track-active-offset)),
      var(--track-color-inactive) 100%
    );
  }

  /* Webkit */
  .range__control::-webkit-slider-runnable-track {
    width: 100%;
    height: var(--track-height);
    border-radius: 3px;
    border: none;
  }

  .range__control::-webkit-slider-thumb {
    border: none;
    width: var(--thumb-size);
    height: var(--thumb-size);
    border-radius: 50%;
    background-color: var(--sl-color-primary-600);
    border: solid var(--sl-input-border-width) var(--sl-color-primary-600);
    -webkit-appearance: none;
    margin-top: calc(var(--thumb-size) / -2 + var(--track-height) / 2);
    cursor: pointer;
  }

  .range__control:enabled::-webkit-slider-thumb:hover {
    background-color: var(--sl-color-primary-500);
    border-color: var(--sl-color-primary-500);
  }

  .range__control:enabled:focus-visible::-webkit-slider-thumb {
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  .range__control:enabled::-webkit-slider-thumb:active {
    background-color: var(--sl-color-primary-500);
    border-color: var(--sl-color-primary-500);
    cursor: grabbing;
  }

  /* Firefox */
  .range__control::-moz-focus-outer {
    border: 0;
  }

  .range__control::-moz-range-progress {
    background-color: var(--track-color-active);
    border-radius: 3px;
    height: var(--track-height);
  }

  .range__control::-moz-range-track {
    width: 100%;
    height: var(--track-height);
    background-color: var(--track-color-inactive);
    border-radius: 3px;
    border: none;
  }

  .range__control::-moz-range-thumb {
    border: none;
    height: var(--thumb-size);
    width: var(--thumb-size);
    border-radius: 50%;
    background-color: var(--sl-color-primary-600);
    border-color: var(--sl-color-primary-600);
    transition:
      var(--sl-transition-fast) border-color,
      var(--sl-transition-fast) background-color,
      var(--sl-transition-fast) color,
      var(--sl-transition-fast) box-shadow;
    cursor: pointer;
  }

  .range__control:enabled::-moz-range-thumb:hover {
    background-color: var(--sl-color-primary-500);
    border-color: var(--sl-color-primary-500);
  }

  .range__control:enabled:focus-visible::-moz-range-thumb {
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  .range__control:enabled::-moz-range-thumb:active {
    background-color: var(--sl-color-primary-500);
    border-color: var(--sl-color-primary-500);
    cursor: grabbing;
  }

  /* States */
  .range__control:focus-visible {
    outline: none;
  }

  .range__control:disabled {
    opacity: 0.5;
  }

  .range__control:disabled::-webkit-slider-thumb {
    cursor: not-allowed;
  }

  .range__control:disabled::-moz-range-thumb {
    cursor: not-allowed;
  }

  /* Tooltip output */
  .range__tooltip {
    position: absolute;
    z-index: var(--sl-z-index-tooltip);
    left: 0;
    border-radius: var(--sl-tooltip-border-radius);
    background-color: var(--sl-tooltip-background-color);
    font-family: var(--sl-tooltip-font-family);
    font-size: var(--sl-tooltip-font-size);
    font-weight: var(--sl-tooltip-font-weight);
    line-height: var(--sl-tooltip-line-height);
    color: var(--sl-tooltip-color);
    opacity: 0;
    padding: var(--sl-tooltip-padding);
    transition: var(--sl-transition-fast) opacity;
    pointer-events: none;
  }

  .range__tooltip:after {
    content: '';
    position: absolute;
    width: 0;
    height: 0;
    left: 50%;
    translate: calc(-1 * var(--sl-tooltip-arrow-size));
  }

  .range--tooltip-visible .range__tooltip {
    opacity: 1;
  }

  /* Tooltip on top */
  .range--tooltip-top .range__tooltip {
    top: calc(-1 * var(--thumb-size) - var(--tooltip-offset));
  }

  .range--tooltip-top .range__tooltip:after {
    border-top: var(--sl-tooltip-arrow-size) solid var(--sl-tooltip-background-color);
    border-left: var(--sl-tooltip-arrow-size) solid transparent;
    border-right: var(--sl-tooltip-arrow-size) solid transparent;
    top: 100%;
  }

  /* Tooltip on bottom */
  .range--tooltip-bottom .range__tooltip {
    bottom: calc(-1 * var(--thumb-size) - var(--tooltip-offset));
  }

  .range--tooltip-bottom .range__tooltip:after {
    border-bottom: var(--sl-tooltip-arrow-size) solid var(--sl-tooltip-background-color);
    border-left: var(--sl-tooltip-arrow-size) solid transparent;
    border-right: var(--sl-tooltip-arrow-size) solid transparent;
    bottom: 100%;
  }

  @media (forced-colors: active) {
    .range__control,
    .range__tooltip {
      border: solid 1px transparent;
    }

    .range__control::-webkit-slider-thumb {
      border: solid 1px transparent;
    }

    .range__control::-moz-range-thumb {
      border: solid 1px transparent;
    }

    .range__tooltip:after {
      display: none;
    }
  }
`,ms=class extends he{constructor(){super(...arguments),this.formControlController=new k(this),this.hasSlotController=new Yt(this,"help-text","label"),this.localize=new ze(this),this.hasFocus=!1,this.hasTooltip=!1,this.title="",this.name="",this.value=0,this.label="",this.helpText="",this.disabled=!1,this.min=0,this.max=100,this.step=1,this.tooltip="top",this.tooltipFormatter=t=>t.toString(),this.form="",this.defaultValue=0}get validity(){return this.input.validity}get validationMessage(){return this.input.validationMessage}connectedCallback(){super.connectedCallback(),this.resizeObserver=new ResizeObserver(()=>this.syncRange()),this.value<this.min&&(this.value=this.min),this.value>this.max&&(this.value=this.max),this.updateComplete.then(()=>{this.syncRange(),this.resizeObserver.observe(this.input)})}disconnectedCallback(){var t;super.disconnectedCallback(),null==(t=this.resizeObserver)||t.unobserve(this.input)}handleChange(){this.emit("sl-change")}handleInput(){this.value=parseFloat(this.input.value),this.emit("sl-input"),this.syncRange()}handleBlur(){this.hasFocus=!1,this.hasTooltip=!1,this.emit("sl-blur")}handleFocus(){this.hasFocus=!0,this.hasTooltip=!0,this.emit("sl-focus")}handleThumbDragStart(){this.hasTooltip=!0}handleThumbDragEnd(){this.hasTooltip=!1}syncProgress(t){this.input.style.setProperty("--percent",100*t+"%")}syncTooltip(t){if(null!==this.output){const e=this.input.offsetWidth,i=this.output.offsetWidth,r=getComputedStyle(this.input).getPropertyValue("--thumb-size"),s=e*t;if("rtl"===this.localize.dir()){const a=`${e-s}px + ${t} * ${r}`;this.output.style.translate=`calc((${a} - ${i/2}px - ${r} / 2))`}else{const e=`${s}px - ${t} * ${r}`;this.output.style.translate=`calc(${e} - ${i/2}px + ${r} / 2)`}}}handleValueChange(){this.formControlController.updateValidity(),this.input.value=this.value.toString(),this.value=parseFloat(this.input.value),this.syncRange()}handleDisabledChange(){this.formControlController.setValidity(this.disabled)}syncRange(){const t=Math.max(0,(this.value-this.min)/(this.max-this.min));this.syncProgress(t),"none"!==this.tooltip&&this.hasTooltip&&this.updateComplete.then(()=>this.syncTooltip(t))}handleInvalid(t){this.formControlController.setValidity(!1),this.formControlController.emitInvalidEvent(t)}focus(t){this.input.focus(t)}blur(){this.input.blur()}stepUp(){this.input.stepUp(),this.value!==Number(this.input.value)&&(this.value=Number(this.input.value))}stepDown(){this.input.stepDown(),this.value!==Number(this.input.value)&&(this.value=Number(this.input.value))}checkValidity(){return this.input.checkValidity()}getForm(){return this.formControlController.getForm()}reportValidity(){return this.input.reportValidity()}setCustomValidity(t){this.input.setCustomValidity(t),this.formControlController.updateValidity()}render(){const t=this.hasSlotController.test("label"),e=this.hasSlotController.test("help-text"),i=!!this.label||!!t,r=!!this.helpText||!!e;return bt`
      <div
        part="form-control"
        class=${xe({"form-control":!0,"form-control--medium":!0,"form-control--has-label":i,"form-control--has-help-text":r})}
      >
        <label
          part="form-control-label"
          class="form-control__label"
          for="input"
          aria-hidden=${i?"false":"true"}
        >
          <slot name="label">${this.label}</slot>
        </label>

        <div part="form-control-input" class="form-control-input">
          <div
            part="base"
            class=${xe({range:!0,"range--disabled":this.disabled,"range--focused":this.hasFocus,"range--rtl":"rtl"===this.localize.dir(),"range--tooltip-visible":this.hasTooltip,"range--tooltip-top":"top"===this.tooltip,"range--tooltip-bottom":"bottom"===this.tooltip})}
            @mousedown=${this.handleThumbDragStart}
            @mouseup=${this.handleThumbDragEnd}
            @touchstart=${this.handleThumbDragStart}
            @touchend=${this.handleThumbDragEnd}
          >
            <input
              part="input"
              id="input"
              class="range__control"
              title=${this.title}
              type="range"
              name=${we(this.name)}
              ?disabled=${this.disabled}
              min=${we(this.min)}
              max=${we(this.max)}
              step=${we(this.step)}
              .value=${_e(this.value.toString())}
              aria-describedby="help-text"
              @change=${this.handleChange}
              @focus=${this.handleFocus}
              @input=${this.handleInput}
              @invalid=${this.handleInvalid}
              @blur=${this.handleBlur}
            />
            ${"none"===this.tooltip||this.disabled?"":bt`
                  <output part="tooltip" class="range__tooltip">
                    ${"function"==typeof this.tooltipFormatter?this.tooltipFormatter(this.value):this.value}
                  </output>
                `}
          </div>
        </div>

        <div
          part="form-control-help-text"
          id="help-text"
          class="form-control__help-text"
          aria-hidden=${r?"false":"true"}
        >
          <slot name="help-text">${this.helpText}</slot>
        </div>
      </div>
    `}};ms.styles=[te,Nt,ps],f([oe(".range__control")],ms.prototype,"input",2),f([oe(".range__tooltip")],ms.prototype,"output",2),f([se()],ms.prototype,"hasFocus",2),f([se()],ms.prototype,"hasTooltip",2),f([re()],ms.prototype,"title",2),f([re()],ms.prototype,"name",2),f([re({type:Number})],ms.prototype,"value",2),f([re()],ms.prototype,"label",2),f([re({attribute:"help-text"})],ms.prototype,"helpText",2),f([re({type:Boolean,reflect:!0})],ms.prototype,"disabled",2),f([re({type:Number})],ms.prototype,"min",2),f([re({type:Number})],ms.prototype,"max",2),f([re({type:Number})],ms.prototype,"step",2),f([re()],ms.prototype,"tooltip",2),f([re({attribute:!1})],ms.prototype,"tooltipFormatter",2),f([re({reflect:!0})],ms.prototype,"form",2),f([Ht()],ms.prototype,"defaultValue",2),f([ae({passive:!0})],ms.prototype,"handleThumbDragStart",1),f([Jt("value",{waitUntilFirstUpdate:!0})],ms.prototype,"handleValueChange",1),f([Jt("disabled",{waitUntilFirstUpdate:!0})],ms.prototype,"handleDisabledChange",1),f([Jt("hasTooltip",{waitUntilFirstUpdate:!0})],ms.prototype,"syncRange",1),ms.define("sl-range");var fs=I`
  :host {
    --symbol-color: var(--sl-color-neutral-300);
    --symbol-color-active: var(--sl-color-amber-500);
    --symbol-size: 1.2rem;
    --symbol-spacing: var(--sl-spacing-3x-small);

    display: inline-flex;
  }

  .rating {
    position: relative;
    display: inline-flex;
    border-radius: var(--sl-border-radius-medium);
    vertical-align: middle;
  }

  .rating:focus {
    outline: none;
  }

  .rating:focus-visible {
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  .rating__symbols {
    display: inline-flex;
    position: relative;
    font-size: var(--symbol-size);
    line-height: 0;
    color: var(--symbol-color);
    white-space: nowrap;
    cursor: pointer;
  }

  .rating__symbols > * {
    padding: var(--symbol-spacing);
  }

  .rating__symbol--active,
  .rating__partial--filled {
    color: var(--symbol-color-active);
  }

  .rating__partial-symbol-container {
    position: relative;
  }

  .rating__partial--filled {
    position: absolute;
    top: var(--symbol-spacing);
    left: var(--symbol-spacing);
  }

  .rating__symbol {
    transition: var(--sl-transition-fast) scale;
    pointer-events: none;
  }

  .rating__symbol--hover {
    scale: 1.2;
  }

  .rating--disabled .rating__symbols,
  .rating--readonly .rating__symbols {
    cursor: default;
  }

  .rating--disabled .rating__symbol--hover,
  .rating--readonly .rating__symbol--hover {
    scale: none;
  }

  .rating--disabled {
    opacity: 0.5;
  }

  .rating--disabled .rating__symbols {
    cursor: not-allowed;
  }

  /* Forced colors mode */
  @media (forced-colors: active) {
    .rating__symbol--active {
      color: SelectedItem;
    }
  }
`;const gs="important",bs=" !"+gs,ys=ye(class extends ve{constructor(t){if(super(t),1!==t.type||"style"!==t.name||t.strings?.length>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(t){return Object.keys(t).reduce((e,i)=>{const r=t[i];return null==r?e:e+`${i=i.includes("-")?i:i.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${r};`},"")}update(t,[e]){const{style:i}=t.element;if(void 0===this.ft)return this.ft=new Set(Object.keys(e)),this.render(e);for(const t of this.ft)null==e[t]&&(this.ft.delete(t),t.includes("-")?i.removeProperty(t):i[t]=null);for(const t in e){const r=e[t];if(null!=r){this.ft.add(t);const e="string"==typeof r&&r.endsWith(bs);t.includes("-")||e?i.setProperty(t,e?r.slice(0,-11):r,e?gs:""):i[t]=r}}return xt}});var vs=class extends he{constructor(){super(...arguments),this.localize=new ze(this),this.hoverValue=0,this.isHovering=!1,this.label="",this.value=0,this.max=5,this.precision=1,this.readonly=!1,this.disabled=!1,this.getSymbol=()=>'<sl-icon name="star-fill" library="system"></sl-icon>'}getValueFromMousePosition(t){return this.getValueFromXCoordinate(t.clientX)}getValueFromTouchPosition(t){return this.getValueFromXCoordinate(t.touches[0].clientX)}getValueFromXCoordinate(t){const e="rtl"===this.localize.dir(),{left:i,right:r,width:s}=this.rating.getBoundingClientRect();return Sr(e?this.roundToPrecision((r-t)/s*this.max,this.precision):this.roundToPrecision((t-i)/s*this.max,this.precision),0,this.max)}handleClick(t){this.disabled||(this.setValue(this.getValueFromMousePosition(t)),this.emit("sl-change"))}setValue(t){this.disabled||this.readonly||(this.value=t===this.value?0:t,this.isHovering=!1)}handleKeyDown(t){const e="ltr"===this.localize.dir(),i="rtl"===this.localize.dir(),r=this.value;if(!this.disabled&&!this.readonly){if("ArrowDown"===t.key||e&&"ArrowLeft"===t.key||i&&"ArrowRight"===t.key){const e=t.shiftKey?1:this.precision;this.value=Math.max(0,this.value-e),t.preventDefault()}if("ArrowUp"===t.key||e&&"ArrowRight"===t.key||i&&"ArrowLeft"===t.key){const e=t.shiftKey?1:this.precision;this.value=Math.min(this.max,this.value+e),t.preventDefault()}"Home"===t.key&&(this.value=0,t.preventDefault()),"End"===t.key&&(this.value=this.max,t.preventDefault()),this.value!==r&&this.emit("sl-change")}}handleMouseEnter(t){this.isHovering=!0,this.hoverValue=this.getValueFromMousePosition(t)}handleMouseMove(t){this.hoverValue=this.getValueFromMousePosition(t)}handleMouseLeave(){this.isHovering=!1}handleTouchStart(t){this.isHovering=!0,this.hoverValue=this.getValueFromTouchPosition(t),t.preventDefault()}handleTouchMove(t){this.hoverValue=this.getValueFromTouchPosition(t)}handleTouchEnd(t){this.isHovering=!1,this.setValue(this.hoverValue),this.emit("sl-change"),t.preventDefault()}roundToPrecision(t,e=.5){const i=1/e;return Math.ceil(t*i)/i}handleHoverValueChange(){this.emit("sl-hover",{detail:{phase:"move",value:this.hoverValue}})}handleIsHoveringChange(){this.emit("sl-hover",{detail:{phase:this.isHovering?"start":"end",value:this.hoverValue}})}focus(t){this.rating.focus(t)}blur(){this.rating.blur()}render(){const t="rtl"===this.localize.dir(),e=Array.from(Array(this.max).keys());let i=0;return i=this.disabled||this.readonly?this.value:this.isHovering?this.hoverValue:this.value,bt`
      <div
        part="base"
        class=${xe({rating:!0,"rating--readonly":this.readonly,"rating--disabled":this.disabled,"rating--rtl":t})}
        role="slider"
        aria-label=${this.label}
        aria-disabled=${this.disabled?"true":"false"}
        aria-readonly=${this.readonly?"true":"false"}
        aria-valuenow=${this.value}
        aria-valuemin=${0}
        aria-valuemax=${this.max}
        tabindex=${this.disabled||this.readonly?"-1":"0"}
        @click=${this.handleClick}
        @keydown=${this.handleKeyDown}
        @mouseenter=${this.handleMouseEnter}
        @touchstart=${this.handleTouchStart}
        @mouseleave=${this.handleMouseLeave}
        @touchend=${this.handleTouchEnd}
        @mousemove=${this.handleMouseMove}
        @touchmove=${this.handleTouchMove}
      >
        <span class="rating__symbols">
          ${e.map(e=>i>e&&i<e+1?bt`
                <span
                  class=${xe({rating__symbol:!0,"rating__partial-symbol-container":!0,"rating__symbol--hover":this.isHovering&&Math.ceil(i)===e+1})}
                  role="presentation"
                >
                  <div
                    style=${ys({clipPath:t?`inset(0 ${100*(i-e)}% 0 0)`:`inset(0 0 0 ${100*(i-e)}%)`})}
                  >
                    ${ds(this.getSymbol(e+1))}
                  </div>
                  <div
                    class="rating__partial--filled"
                    style=${ys({clipPath:t?`inset(0 0 0 ${100-100*(i-e)}%)`:`inset(0 ${100-100*(i-e)}% 0 0)`})}
                  >
                    ${ds(this.getSymbol(e+1))}
                  </div>
                </span>
              `:bt`
              <span
                class=${xe({rating__symbol:!0,"rating__symbol--hover":this.isHovering&&Math.ceil(i)===e+1,"rating__symbol--active":i>=e+1})}
                role="presentation"
              >
                ${ds(this.getSymbol(e+1))}
              </span>
            `)}
        </span>
      </div>
    `}};vs.styles=[te,fs],vs.dependencies={"sl-icon":be},f([oe(".rating")],vs.prototype,"rating",2),f([se()],vs.prototype,"hoverValue",2),f([se()],vs.prototype,"isHovering",2),f([re()],vs.prototype,"label",2),f([re({type:Number})],vs.prototype,"value",2),f([re({type:Number})],vs.prototype,"max",2),f([re({type:Number})],vs.prototype,"precision",2),f([re({type:Boolean,reflect:!0})],vs.prototype,"readonly",2),f([re({type:Boolean,reflect:!0})],vs.prototype,"disabled",2),f([re()],vs.prototype,"getSymbol",2),f([ae({passive:!0})],vs.prototype,"handleTouchMove",1),f([Jt("hoverValue")],vs.prototype,"handleHoverValueChange",1),f([Jt("isHovering")],vs.prototype,"handleIsHoveringChange",1),vs.define("sl-rating");var xs=[{max:276e4,value:6e4,unit:"minute"},{max:72e6,value:36e5,unit:"hour"},{max:5184e5,value:864e5,unit:"day"},{max:24192e5,value:6048e5,unit:"week"},{max:28512e6,value:2592e6,unit:"month"},{max:1/0,value:31536e6,unit:"year"}],ws=class extends he{constructor(){super(...arguments),this.localize=new ze(this),this.isoTime="",this.relativeTime="",this.date=new Date,this.format="long",this.numeric="auto",this.sync=!1}disconnectedCallback(){super.disconnectedCallback(),clearTimeout(this.updateTimeout)}render(){const t=new Date,e=new Date(this.date);if(isNaN(e.getMilliseconds()))return this.relativeTime="",this.isoTime="","";const i=e.getTime()-t.getTime(),{unit:r,value:s}=xs.find(t=>Math.abs(i)<t.max);if(this.isoTime=e.toISOString(),this.relativeTime=this.localize.relativeTime(Math.round(i/s),r,{numeric:this.numeric,style:this.format}),clearTimeout(this.updateTimeout),this.sync){let t;t=function(t){const e={second:1e3,minute:6e4,hour:36e5,day:864e5}[t];return e-Date.now()%e}("minute"===r?"second":"hour"===r?"minute":"day"===r?"hour":"day"),this.updateTimeout=window.setTimeout(()=>this.requestUpdate(),t)}return bt` <time datetime=${this.isoTime}>${this.relativeTime}</time> `}};f([se()],ws.prototype,"isoTime",2),f([se()],ws.prototype,"relativeTime",2),f([re()],ws.prototype,"date",2),f([re()],ws.prototype,"format",2),f([re()],ws.prototype,"numeric",2),f([re({type:Boolean})],ws.prototype,"sync",2),ws.define("sl-relative-time");var _s=I`
  :host {
    display: inline-block;
    position: relative;
    width: auto;
    cursor: pointer;
  }

  .button {
    display: inline-flex;
    align-items: stretch;
    justify-content: center;
    width: 100%;
    border-style: solid;
    border-width: var(--sl-input-border-width);
    font-family: var(--sl-input-font-family);
    font-weight: var(--sl-font-weight-semibold);
    text-decoration: none;
    user-select: none;
    -webkit-user-select: none;
    white-space: nowrap;
    vertical-align: middle;
    padding: 0;
    transition:
      var(--sl-transition-x-fast) background-color,
      var(--sl-transition-x-fast) color,
      var(--sl-transition-x-fast) border,
      var(--sl-transition-x-fast) box-shadow;
    cursor: inherit;
  }

  .button::-moz-focus-inner {
    border: 0;
  }

  .button:focus {
    outline: none;
  }

  .button:focus-visible {
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  .button--disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  /* When disabled, prevent mouse events from bubbling up from children */
  .button--disabled * {
    pointer-events: none;
  }

  .button__prefix,
  .button__suffix {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    pointer-events: none;
  }

  .button__label {
    display: inline-block;
  }

  .button__label::slotted(sl-icon) {
    vertical-align: -2px;
  }

  /*
   * Standard buttons
   */

  /* Default */
  .button--standard.button--default {
    background-color: var(--sl-color-neutral-0);
    border-color: var(--sl-input-border-color);
    color: var(--sl-color-neutral-700);
  }

  .button--standard.button--default:hover:not(.button--disabled) {
    background-color: var(--sl-color-primary-50);
    border-color: var(--sl-color-primary-300);
    color: var(--sl-color-primary-700);
  }

  .button--standard.button--default:active:not(.button--disabled) {
    background-color: var(--sl-color-primary-100);
    border-color: var(--sl-color-primary-400);
    color: var(--sl-color-primary-700);
  }

  /* Primary */
  .button--standard.button--primary {
    background-color: var(--sl-color-primary-600);
    border-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--primary:hover:not(.button--disabled) {
    background-color: var(--sl-color-primary-500);
    border-color: var(--sl-color-primary-500);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--primary:active:not(.button--disabled) {
    background-color: var(--sl-color-primary-600);
    border-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
  }

  /* Success */
  .button--standard.button--success {
    background-color: var(--sl-color-success-600);
    border-color: var(--sl-color-success-600);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--success:hover:not(.button--disabled) {
    background-color: var(--sl-color-success-500);
    border-color: var(--sl-color-success-500);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--success:active:not(.button--disabled) {
    background-color: var(--sl-color-success-600);
    border-color: var(--sl-color-success-600);
    color: var(--sl-color-neutral-0);
  }

  /* Neutral */
  .button--standard.button--neutral {
    background-color: var(--sl-color-neutral-600);
    border-color: var(--sl-color-neutral-600);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--neutral:hover:not(.button--disabled) {
    background-color: var(--sl-color-neutral-500);
    border-color: var(--sl-color-neutral-500);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--neutral:active:not(.button--disabled) {
    background-color: var(--sl-color-neutral-600);
    border-color: var(--sl-color-neutral-600);
    color: var(--sl-color-neutral-0);
  }

  /* Warning */
  .button--standard.button--warning {
    background-color: var(--sl-color-warning-600);
    border-color: var(--sl-color-warning-600);
    color: var(--sl-color-neutral-0);
  }
  .button--standard.button--warning:hover:not(.button--disabled) {
    background-color: var(--sl-color-warning-500);
    border-color: var(--sl-color-warning-500);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--warning:active:not(.button--disabled) {
    background-color: var(--sl-color-warning-600);
    border-color: var(--sl-color-warning-600);
    color: var(--sl-color-neutral-0);
  }

  /* Danger */
  .button--standard.button--danger {
    background-color: var(--sl-color-danger-600);
    border-color: var(--sl-color-danger-600);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--danger:hover:not(.button--disabled) {
    background-color: var(--sl-color-danger-500);
    border-color: var(--sl-color-danger-500);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--danger:active:not(.button--disabled) {
    background-color: var(--sl-color-danger-600);
    border-color: var(--sl-color-danger-600);
    color: var(--sl-color-neutral-0);
  }

  /*
   * Outline buttons
   */

  .button--outline {
    background: none;
    border: solid 1px;
  }

  /* Default */
  .button--outline.button--default {
    border-color: var(--sl-input-border-color);
    color: var(--sl-color-neutral-700);
  }

  .button--outline.button--default:hover:not(.button--disabled),
  .button--outline.button--default.button--checked:not(.button--disabled) {
    border-color: var(--sl-color-primary-600);
    background-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--default:active:not(.button--disabled) {
    border-color: var(--sl-color-primary-700);
    background-color: var(--sl-color-primary-700);
    color: var(--sl-color-neutral-0);
  }

  /* Primary */
  .button--outline.button--primary {
    border-color: var(--sl-color-primary-600);
    color: var(--sl-color-primary-600);
  }

  .button--outline.button--primary:hover:not(.button--disabled),
  .button--outline.button--primary.button--checked:not(.button--disabled) {
    background-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--primary:active:not(.button--disabled) {
    border-color: var(--sl-color-primary-700);
    background-color: var(--sl-color-primary-700);
    color: var(--sl-color-neutral-0);
  }

  /* Success */
  .button--outline.button--success {
    border-color: var(--sl-color-success-600);
    color: var(--sl-color-success-600);
  }

  .button--outline.button--success:hover:not(.button--disabled),
  .button--outline.button--success.button--checked:not(.button--disabled) {
    background-color: var(--sl-color-success-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--success:active:not(.button--disabled) {
    border-color: var(--sl-color-success-700);
    background-color: var(--sl-color-success-700);
    color: var(--sl-color-neutral-0);
  }

  /* Neutral */
  .button--outline.button--neutral {
    border-color: var(--sl-color-neutral-600);
    color: var(--sl-color-neutral-600);
  }

  .button--outline.button--neutral:hover:not(.button--disabled),
  .button--outline.button--neutral.button--checked:not(.button--disabled) {
    background-color: var(--sl-color-neutral-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--neutral:active:not(.button--disabled) {
    border-color: var(--sl-color-neutral-700);
    background-color: var(--sl-color-neutral-700);
    color: var(--sl-color-neutral-0);
  }

  /* Warning */
  .button--outline.button--warning {
    border-color: var(--sl-color-warning-600);
    color: var(--sl-color-warning-600);
  }

  .button--outline.button--warning:hover:not(.button--disabled),
  .button--outline.button--warning.button--checked:not(.button--disabled) {
    background-color: var(--sl-color-warning-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--warning:active:not(.button--disabled) {
    border-color: var(--sl-color-warning-700);
    background-color: var(--sl-color-warning-700);
    color: var(--sl-color-neutral-0);
  }

  /* Danger */
  .button--outline.button--danger {
    border-color: var(--sl-color-danger-600);
    color: var(--sl-color-danger-600);
  }

  .button--outline.button--danger:hover:not(.button--disabled),
  .button--outline.button--danger.button--checked:not(.button--disabled) {
    background-color: var(--sl-color-danger-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--danger:active:not(.button--disabled) {
    border-color: var(--sl-color-danger-700);
    background-color: var(--sl-color-danger-700);
    color: var(--sl-color-neutral-0);
  }

  @media (forced-colors: active) {
    .button.button--outline.button--checked:not(.button--disabled) {
      outline: solid 2px transparent;
    }
  }

  /*
   * Text buttons
   */

  .button--text {
    background-color: transparent;
    border-color: transparent;
    color: var(--sl-color-primary-600);
  }

  .button--text:hover:not(.button--disabled) {
    background-color: transparent;
    border-color: transparent;
    color: var(--sl-color-primary-500);
  }

  .button--text:focus-visible:not(.button--disabled) {
    background-color: transparent;
    border-color: transparent;
    color: var(--sl-color-primary-500);
  }

  .button--text:active:not(.button--disabled) {
    background-color: transparent;
    border-color: transparent;
    color: var(--sl-color-primary-700);
  }

  /*
   * Size modifiers
   */

  .button--small {
    height: auto;
    min-height: var(--sl-input-height-small);
    font-size: var(--sl-button-font-size-small);
    line-height: calc(var(--sl-input-height-small) - var(--sl-input-border-width) * 2);
    border-radius: var(--sl-input-border-radius-small);
  }

  .button--medium {
    height: auto;
    min-height: var(--sl-input-height-medium);
    font-size: var(--sl-button-font-size-medium);
    line-height: calc(var(--sl-input-height-medium) - var(--sl-input-border-width) * 2);
    border-radius: var(--sl-input-border-radius-medium);
  }

  .button--large {
    height: auto;
    min-height: var(--sl-input-height-large);
    font-size: var(--sl-button-font-size-large);
    line-height: calc(var(--sl-input-height-large) - var(--sl-input-border-width) * 2);
    border-radius: var(--sl-input-border-radius-large);
  }

  /*
   * Pill modifier
   */

  .button--pill.button--small {
    border-radius: var(--sl-input-height-small);
  }

  .button--pill.button--medium {
    border-radius: var(--sl-input-height-medium);
  }

  .button--pill.button--large {
    border-radius: var(--sl-input-height-large);
  }

  /*
   * Circle modifier
   */

  .button--circle {
    padding-left: 0;
    padding-right: 0;
  }

  .button--circle.button--small {
    width: var(--sl-input-height-small);
    border-radius: 50%;
  }

  .button--circle.button--medium {
    width: var(--sl-input-height-medium);
    border-radius: 50%;
  }

  .button--circle.button--large {
    width: var(--sl-input-height-large);
    border-radius: 50%;
  }

  .button--circle .button__prefix,
  .button--circle .button__suffix,
  .button--circle .button__caret {
    display: none;
  }

  /*
   * Caret modifier
   */

  .button--caret .button__suffix {
    display: none;
  }

  .button--caret .button__caret {
    height: auto;
  }

  /*
   * Loading modifier
   */

  .button--loading {
    position: relative;
    cursor: wait;
  }

  .button--loading .button__prefix,
  .button--loading .button__label,
  .button--loading .button__suffix,
  .button--loading .button__caret {
    visibility: hidden;
  }

  .button--loading sl-spinner {
    --indicator-color: currentColor;
    position: absolute;
    font-size: 1em;
    height: 1em;
    width: 1em;
    top: calc(50% - 0.5em);
    left: calc(50% - 0.5em);
  }

  /*
   * Badges
   */

  .button ::slotted(sl-badge) {
    position: absolute;
    top: 0;
    right: 0;
    translate: 50% -50%;
    pointer-events: none;
  }

  .button--rtl ::slotted(sl-badge) {
    right: auto;
    left: 0;
    translate: -50% -50%;
  }

  /*
   * Button spacing
   */

  .button--has-label.button--small .button__label {
    padding: 0 var(--sl-spacing-small);
  }

  .button--has-label.button--medium .button__label {
    padding: 0 var(--sl-spacing-medium);
  }

  .button--has-label.button--large .button__label {
    padding: 0 var(--sl-spacing-large);
  }

  .button--has-prefix.button--small {
    padding-inline-start: var(--sl-spacing-x-small);
  }

  .button--has-prefix.button--small .button__label {
    padding-inline-start: var(--sl-spacing-x-small);
  }

  .button--has-prefix.button--medium {
    padding-inline-start: var(--sl-spacing-small);
  }

  .button--has-prefix.button--medium .button__label {
    padding-inline-start: var(--sl-spacing-small);
  }

  .button--has-prefix.button--large {
    padding-inline-start: var(--sl-spacing-small);
  }

  .button--has-prefix.button--large .button__label {
    padding-inline-start: var(--sl-spacing-small);
  }

  .button--has-suffix.button--small,
  .button--caret.button--small {
    padding-inline-end: var(--sl-spacing-x-small);
  }

  .button--has-suffix.button--small .button__label,
  .button--caret.button--small .button__label {
    padding-inline-end: var(--sl-spacing-x-small);
  }

  .button--has-suffix.button--medium,
  .button--caret.button--medium {
    padding-inline-end: var(--sl-spacing-small);
  }

  .button--has-suffix.button--medium .button__label,
  .button--caret.button--medium .button__label {
    padding-inline-end: var(--sl-spacing-small);
  }

  .button--has-suffix.button--large,
  .button--caret.button--large {
    padding-inline-end: var(--sl-spacing-small);
  }

  .button--has-suffix.button--large .button__label,
  .button--caret.button--large .button__label {
    padding-inline-end: var(--sl-spacing-small);
  }

  /*
   * Button groups support a variety of button types (e.g. buttons with tooltips, buttons as dropdown triggers, etc.).
   * This means buttons aren't always direct descendants of the button group, thus we can't target them with the
   * ::slotted selector. To work around this, the button group component does some magic to add these special classes to
   * buttons and we style them here instead.
   */

  :host([data-sl-button-group__button--first]:not([data-sl-button-group__button--last])) .button {
    border-start-end-radius: 0;
    border-end-end-radius: 0;
  }

  :host([data-sl-button-group__button--inner]) .button {
    border-radius: 0;
  }

  :host([data-sl-button-group__button--last]:not([data-sl-button-group__button--first])) .button {
    border-start-start-radius: 0;
    border-end-start-radius: 0;
  }

  /* All except the first */
  :host([data-sl-button-group__button]:not([data-sl-button-group__button--first])) {
    margin-inline-start: calc(-1 * var(--sl-input-border-width));
  }

  /* Add a visual separator between solid buttons */
  :host(
      [data-sl-button-group__button]:not(
          [data-sl-button-group__button--first],
          [data-sl-button-group__button--radio],
          [variant='default']
        ):not(:hover)
    )
    .button:after {
    content: '';
    position: absolute;
    top: 0;
    inset-inline-start: 0;
    bottom: 0;
    border-left: solid 1px rgb(128 128 128 / 33%);
    mix-blend-mode: multiply;
  }

  /* Bump hovered, focused, and checked buttons up so their focus ring isn't clipped */
  :host([data-sl-button-group__button--hover]) {
    z-index: 1;
  }

  /* Focus and checked are always on top */
  :host([data-sl-button-group__button--focus]),
  :host([data-sl-button-group__button][checked]) {
    z-index: 2;
  }
`,ks=I`
  ${_s}

  .button__prefix,
  .button__suffix,
  .button__label {
    display: inline-flex;
    position: relative;
    align-items: center;
  }

  /* We use a hidden input so constraint validation errors work, since they don't appear to show when used with buttons.
    We can't actually hide it, though, otherwise the messages will be suppressed by the browser. */
  .hidden-input {
    all: unset;
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    right: 0;
    outline: dotted 1px red;
    opacity: 0;
    z-index: -1;
  }
`,Ss=class extends he{constructor(){super(...arguments),this.hasSlotController=new Yt(this,"[default]","prefix","suffix"),this.hasFocus=!1,this.checked=!1,this.disabled=!1,this.size="medium",this.pill=!1}connectedCallback(){super.connectedCallback(),this.setAttribute("role","presentation")}handleBlur(){this.hasFocus=!1,this.emit("sl-blur")}handleClick(t){if(this.disabled)return t.preventDefault(),void t.stopPropagation();this.checked=!0}handleFocus(){this.hasFocus=!0,this.emit("sl-focus")}handleDisabledChange(){this.setAttribute("aria-disabled",this.disabled?"true":"false")}focus(t){this.input.focus(t)}blur(){this.input.blur()}render(){return Dr`
      <div part="base" role="presentation">
        <button
          part="${"button"+(this.checked?" button--checked":"")}"
          role="radio"
          aria-checked="${this.checked}"
          class=${xe({button:!0,"button--default":!0,"button--small":"small"===this.size,"button--medium":"medium"===this.size,"button--large":"large"===this.size,"button--checked":this.checked,"button--disabled":this.disabled,"button--focused":this.hasFocus,"button--outline":!0,"button--pill":this.pill,"button--has-label":this.hasSlotController.test("[default]"),"button--has-prefix":this.hasSlotController.test("prefix"),"button--has-suffix":this.hasSlotController.test("suffix")})}
          aria-disabled=${this.disabled}
          type="button"
          value=${we(this.value)}
          @blur=${this.handleBlur}
          @focus=${this.handleFocus}
          @click=${this.handleClick}
        >
          <slot name="prefix" part="prefix" class="button__prefix"></slot>
          <slot part="label" class="button__label"></slot>
          <slot name="suffix" part="suffix" class="button__suffix"></slot>
        </button>
      </div>
    `}};Ss.styles=[te,ks],f([oe(".button")],Ss.prototype,"input",2),f([oe(".hidden-input")],Ss.prototype,"hiddenInput",2),f([se()],Ss.prototype,"hasFocus",2),f([re({type:Boolean,reflect:!0})],Ss.prototype,"checked",2),f([re()],Ss.prototype,"value",2),f([re({type:Boolean,reflect:!0})],Ss.prototype,"disabled",2),f([re({reflect:!0})],Ss.prototype,"size",2),f([re({type:Boolean,reflect:!0})],Ss.prototype,"pill",2),f([Jt("disabled",{waitUntilFirstUpdate:!0})],Ss.prototype,"handleDisabledChange",1),Ss.define("sl-radio-button");var Cs=I`
  :host {
    display: block;
  }

  .form-control {
    position: relative;
    border: none;
    padding: 0;
    margin: 0;
  }

  .form-control__label {
    padding: 0;
  }

  .radio-group--required .radio-group__label::after {
    content: var(--sl-input-required-content);
    margin-inline-start: var(--sl-input-required-content-offset);
  }

  .visually-hidden {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
  }
`,As=I`
  :host {
    display: inline-block;
  }

  .button-group {
    display: flex;
    flex-wrap: nowrap;
  }
`,Ts=class extends he{constructor(){super(...arguments),this.disableRole=!1,this.label=""}handleFocus(t){const e=Ms(t.target);null==e||e.toggleAttribute("data-sl-button-group__button--focus",!0)}handleBlur(t){const e=Ms(t.target);null==e||e.toggleAttribute("data-sl-button-group__button--focus",!1)}handleMouseOver(t){const e=Ms(t.target);null==e||e.toggleAttribute("data-sl-button-group__button--hover",!0)}handleMouseOut(t){const e=Ms(t.target);null==e||e.toggleAttribute("data-sl-button-group__button--hover",!1)}handleSlotChange(){const t=[...this.defaultSlot.assignedElements({flatten:!0})];t.forEach(e=>{const i=t.indexOf(e),r=Ms(e);r&&(r.toggleAttribute("data-sl-button-group__button",!0),r.toggleAttribute("data-sl-button-group__button--first",0===i),r.toggleAttribute("data-sl-button-group__button--inner",i>0&&i<t.length-1),r.toggleAttribute("data-sl-button-group__button--last",i===t.length-1),r.toggleAttribute("data-sl-button-group__button--radio","sl-radio-button"===r.tagName.toLowerCase()))})}render(){return bt`
      <div
        part="base"
        class="button-group"
        role="${this.disableRole?"presentation":"group"}"
        aria-label=${this.label}
        @focusout=${this.handleBlur}
        @focusin=${this.handleFocus}
        @mouseover=${this.handleMouseOver}
        @mouseout=${this.handleMouseOut}
      >
        <slot @slotchange=${this.handleSlotChange}></slot>
      </div>
    `}};function Ms(t){var e;const i="sl-button, sl-radio-button";return null!=(e=t.closest(i))?e:t.querySelector(i)}Ts.styles=[te,As],f([oe("slot")],Ts.prototype,"defaultSlot",2),f([se()],Ts.prototype,"disableRole",2),f([re()],Ts.prototype,"label",2);var Bs=class extends he{constructor(){super(...arguments),this.formControlController=new k(this),this.hasSlotController=new Yt(this,"help-text","label"),this.customValidityMessage="",this.hasButtonGroup=!1,this.errorMessage="",this.defaultValue="",this.label="",this.helpText="",this.name="option",this.value="",this.size="medium",this.form="",this.required=!1}get validity(){const t=this.required&&!this.value;return""!==this.customValidityMessage?A:t?C:S}get validationMessage(){const t=this.required&&!this.value;return""!==this.customValidityMessage?this.customValidityMessage:t?this.validationInput.validationMessage:""}connectedCallback(){super.connectedCallback(),this.defaultValue=this.value}firstUpdated(){this.formControlController.updateValidity()}getAllRadios(){return[...this.querySelectorAll("sl-radio, sl-radio-button")]}handleRadioClick(t){const e=t.target.closest("sl-radio, sl-radio-button"),i=this.getAllRadios(),r=this.value;e&&!e.disabled&&(this.value=e.value,i.forEach(t=>t.checked=t===e),this.value!==r&&(this.emit("sl-change"),this.emit("sl-input")))}handleKeyDown(t){var e;if(!["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"," "].includes(t.key))return;const i=this.getAllRadios().filter(t=>!t.disabled),r=null!=(e=i.find(t=>t.checked))?e:i[0],s=" "===t.key?0:["ArrowUp","ArrowLeft"].includes(t.key)?-1:1,a=this.value;let n=i.indexOf(r)+s;n<0&&(n=i.length-1),n>i.length-1&&(n=0),this.getAllRadios().forEach(t=>{t.checked=!1,this.hasButtonGroup||t.setAttribute("tabindex","-1")}),this.value=i[n].value,i[n].checked=!0,this.hasButtonGroup?i[n].shadowRoot.querySelector("button").focus():(i[n].setAttribute("tabindex","0"),i[n].focus()),this.value!==a&&(this.emit("sl-change"),this.emit("sl-input")),t.preventDefault()}handleLabelClick(){this.focus()}handleInvalid(t){this.formControlController.setValidity(!1),this.formControlController.emitInvalidEvent(t)}async syncRadioElements(){var t,e;const i=this.getAllRadios();if(await Promise.all(i.map(async t=>{await t.updateComplete,t.checked=t.value===this.value,t.size=this.size})),this.hasButtonGroup=i.some(t=>"sl-radio-button"===t.tagName.toLowerCase()),i.length>0&&!i.some(t=>t.checked))if(this.hasButtonGroup){const e=null==(t=i[0].shadowRoot)?void 0:t.querySelector("button");e&&e.setAttribute("tabindex","0")}else i[0].setAttribute("tabindex","0");if(this.hasButtonGroup){const t=null==(e=this.shadowRoot)?void 0:e.querySelector("sl-button-group");t&&(t.disableRole=!0)}}syncRadios(){customElements.get("sl-radio")&&customElements.get("sl-radio-button")?this.syncRadioElements():(customElements.get("sl-radio")?this.syncRadioElements():customElements.whenDefined("sl-radio").then(()=>this.syncRadios()),customElements.get("sl-radio-button")?this.syncRadioElements():customElements.whenDefined("sl-radio-button").then(()=>this.syncRadios()))}updateCheckedRadio(){this.getAllRadios().forEach(t=>t.checked=t.value===this.value),this.formControlController.setValidity(this.validity.valid)}handleSizeChange(){this.syncRadios()}handleValueChange(){this.hasUpdated&&this.updateCheckedRadio()}checkValidity(){const t=this.required&&!this.value,e=""!==this.customValidityMessage;return!t&&!e||(this.formControlController.emitInvalidEvent(),!1)}getForm(){return this.formControlController.getForm()}reportValidity(){const t=this.validity.valid;return this.errorMessage=this.customValidityMessage||t?"":this.validationInput.validationMessage,this.formControlController.setValidity(t),this.validationInput.hidden=!0,clearTimeout(this.validationTimeout),t||(this.validationInput.hidden=!1,this.validationInput.reportValidity(),this.validationTimeout=setTimeout(()=>this.validationInput.hidden=!0,1e4)),t}setCustomValidity(t=""){this.customValidityMessage=t,this.errorMessage=t,this.validationInput.setCustomValidity(t),this.formControlController.updateValidity()}focus(t){const e=this.getAllRadios(),i=e.find(t=>t.checked),r=e.find(t=>!t.disabled),s=i||r;s&&s.focus(t)}render(){const t=this.hasSlotController.test("label"),e=this.hasSlotController.test("help-text"),i=!!this.label||!!t,r=!!this.helpText||!!e,s=bt`
      <slot @slotchange=${this.syncRadios} @click=${this.handleRadioClick} @keydown=${this.handleKeyDown}></slot>
    `;return bt`
      <fieldset
        part="form-control"
        class=${xe({"form-control":!0,"form-control--small":"small"===this.size,"form-control--medium":"medium"===this.size,"form-control--large":"large"===this.size,"form-control--radio-group":!0,"form-control--has-label":i,"form-control--has-help-text":r})}
        role="radiogroup"
        aria-labelledby="label"
        aria-describedby="help-text"
        aria-errormessage="error-message"
      >
        <label
          part="form-control-label"
          id="label"
          class="form-control__label"
          aria-hidden=${i?"false":"true"}
          @click=${this.handleLabelClick}
        >
          <slot name="label">${this.label}</slot>
        </label>

        <div part="form-control-input" class="form-control-input">
          <div class="visually-hidden">
            <div id="error-message" aria-live="assertive">${this.errorMessage}</div>
            <label class="radio-group__validation">
              <input
                type="text"
                class="radio-group__validation-input"
                ?required=${this.required}
                tabindex="-1"
                hidden
                @invalid=${this.handleInvalid}
              />
            </label>
          </div>

          ${this.hasButtonGroup?bt`
                <sl-button-group part="button-group" exportparts="base:button-group__base" role="presentation">
                  ${s}
                </sl-button-group>
              `:s}
        </div>

        <div
          part="form-control-help-text"
          id="help-text"
          class="form-control__help-text"
          aria-hidden=${r?"false":"true"}
        >
          <slot name="help-text">${this.helpText}</slot>
        </div>
      </fieldset>
    `}};Bs.styles=[te,Nt,Cs],Bs.dependencies={"sl-button-group":Ts},f([oe("slot:not([name])")],Bs.prototype,"defaultSlot",2),f([oe(".radio-group__validation-input")],Bs.prototype,"validationInput",2),f([se()],Bs.prototype,"hasButtonGroup",2),f([se()],Bs.prototype,"errorMessage",2),f([se()],Bs.prototype,"defaultValue",2),f([re()],Bs.prototype,"label",2),f([re({attribute:"help-text"})],Bs.prototype,"helpText",2),f([re()],Bs.prototype,"name",2),f([re({reflect:!0})],Bs.prototype,"value",2),f([re({reflect:!0})],Bs.prototype,"size",2),f([re({reflect:!0})],Bs.prototype,"form",2),f([re({type:Boolean,reflect:!0})],Bs.prototype,"required",2),f([Jt("size",{waitUntilFirstUpdate:!0})],Bs.prototype,"handleSizeChange",1),f([Jt("value")],Bs.prototype,"handleValueChange",1),Bs.define("sl-radio-group");var Ps=I`
  :host {
    --size: 128px;
    --track-width: 4px;
    --track-color: var(--sl-color-neutral-200);
    --indicator-width: var(--track-width);
    --indicator-color: var(--sl-color-primary-600);
    --indicator-transition-duration: 0.35s;

    display: inline-flex;
  }

  .progress-ring {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    position: relative;
  }

  .progress-ring__image {
    width: var(--size);
    height: var(--size);
    rotate: -90deg;
    transform-origin: 50% 50%;
  }

  .progress-ring__track,
  .progress-ring__indicator {
    --radius: calc(var(--size) / 2 - max(var(--track-width), var(--indicator-width)) * 0.5);
    --circumference: calc(var(--radius) * 2 * 3.141592654);

    fill: none;
    r: var(--radius);
    cx: calc(var(--size) / 2);
    cy: calc(var(--size) / 2);
  }

  .progress-ring__track {
    stroke: var(--track-color);
    stroke-width: var(--track-width);
  }

  .progress-ring__indicator {
    stroke: var(--indicator-color);
    stroke-width: var(--indicator-width);
    stroke-linecap: round;
    transition-property: stroke-dashoffset;
    transition-duration: var(--indicator-transition-duration);
    stroke-dasharray: var(--circumference) var(--circumference);
    stroke-dashoffset: calc(var(--circumference) - var(--percentage) * var(--circumference));
  }

  .progress-ring__label {
    display: flex;
    align-items: center;
    justify-content: center;
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    text-align: center;
    user-select: none;
    -webkit-user-select: none;
  }
`,Os=class extends he{constructor(){super(...arguments),this.localize=new ze(this),this.value=0,this.label=""}updated(t){if(super.updated(t),t.has("value")){const t=parseFloat(getComputedStyle(this.indicator).getPropertyValue("r")),e=2*Math.PI*t,i=e-this.value/100*e;this.indicatorOffset=`${i}px`}}render(){return bt`
      <div
        part="base"
        class="progress-ring"
        role="progressbar"
        aria-label=${this.label.length>0?this.label:this.localize.term("progress")}
        aria-describedby="label"
        aria-valuemin="0"
        aria-valuemax="100"
        aria-valuenow="${this.value}"
        style="--percentage: ${this.value/100}"
      >
        <svg class="progress-ring__image">
          <circle class="progress-ring__track"></circle>
          <circle class="progress-ring__indicator" style="stroke-dashoffset: ${this.indicatorOffset}"></circle>
        </svg>

        <slot id="label" part="label" class="progress-ring__label"></slot>
      </div>
    `}};Os.styles=[te,Ps],f([oe(".progress-ring__indicator")],Os.prototype,"indicator",2),f([se()],Os.prototype,"indicatorOffset",2),f([re({type:Number,reflect:!0})],Os.prototype,"value",2),f([re()],Os.prototype,"label",2),Os.define("sl-progress-ring");var Is=I`
  :host {
    display: inline-block;
  }
`;let Es=null;class $s{}$s.render=function(t,e){Es(t,e)},self.QrCreator=$s,function(t){function e(e,i,r,s){var a={},n=t(r,i);n.u(e),n.J(),s=s||0;var o=n.h(),l=n.h()+2*s;return a.text=e,a.level=i,a.version=r,a.O=l,a.a=function(t,e){return e-=s,!(0>(t-=s)||t>=o||0>e||e>=o)&&n.a(t,e)},a}function i(t,e,i,r,s,a,n,o,l,h){function c(e,i,r,s,n,o,l){e?(t.lineTo(i+o,r+l),t.arcTo(i,r,s,n,a)):t.lineTo(i,r)}n?t.moveTo(e+a,i):t.moveTo(e,i),c(o,r,i,r,s,-a,0),c(l,r,s,e,s,0,-a),c(h,e,s,e,i,a,0),c(n,e,i,r,i,0,a)}function r(t,e,i,r,s,a,n,o,l,h){function c(e,i,r,s){t.moveTo(e+r,i),t.lineTo(e,i),t.lineTo(e,i+s),t.arcTo(e,i,e+r,i,a)}n&&c(e,i,a,a),o&&c(r,i,-a,a),l&&c(r,s,-a,-a),h&&c(e,s,a,-a)}function s(t,s){t:{var a=s.text,n=s.v,o=s.N,l=s.K,h=s.P;for(o=Math.max(1,o||1),l=Math.min(40,l||40);o<=l;o+=1)try{var c=e(a,n,o,h);break t}catch(t){}c=void 0}if(!c)return null;for(a=t.getContext("2d"),s.background&&(a.fillStyle=s.background,a.fillRect(s.left,s.top,s.size,s.size)),n=c.O,l=s.size/n,a.beginPath(),h=0;h<n;h+=1)for(o=0;o<n;o+=1){var d=a,u=s.left+o*l,p=s.top+h*l,m=h,f=o,g=c.a,b=u+l,y=p+l,v=m-1,x=m+1,w=f-1,_=f+1,k=Math.floor(Math.min(.5,Math.max(0,s.R))*l),S=g(m,f),C=g(v,w),A=g(v,f);v=g(v,_);var T=g(m,_);_=g(x,_),f=g(x,f),x=g(x,w),m=g(m,w),u=Math.round(u),p=Math.round(p),b=Math.round(b),y=Math.round(y),S?i(d,u,p,b,y,k,!A&&!m,!A&&!T,!f&&!T,!f&&!m):r(d,u,p,b,y,k,A&&m&&C,A&&T&&v,f&&T&&_,f&&m&&x)}return function(t,e){var i=e.fill;if("string"==typeof i)t.fillStyle=i;else{var r=i.type,s=i.colorStops;if(i=i.position.map(t=>Math.round(t*e.size)),"linear-gradient"===r)var a=t.createLinearGradient.apply(t,i);else{if("radial-gradient"!==r)throw Error("Unsupported fill");a=t.createRadialGradient.apply(t,i)}s.forEach(([t,e])=>{a.addColorStop(t,e)}),t.fillStyle=a}}(a,s),a.fill(),t}var a={minVersion:1,maxVersion:40,ecLevel:"L",left:0,top:0,size:200,fill:"#000",background:null,text:"no text",radius:.5,quiet:0};Es=function(t,e){var i={};Object.assign(i,a,t),i.N=i.minVersion,i.K=i.maxVersion,i.v=i.ecLevel,i.left=i.left,i.top=i.top,i.size=i.size,i.fill=i.fill,i.background=i.background,i.text=i.text,i.R=i.radius,i.P=i.quiet,e instanceof HTMLCanvasElement?(e.width===i.size&&e.height===i.size||(e.width=i.size,e.height=i.size),e.getContext("2d").clearRect(0,0,e.width,e.height),s(e,i)):((t=document.createElement("canvas")).width=i.size,t.height=i.size,i=s(t,i),e.appendChild(i))}}(function(){function t(s,n){function o(t,e){for(var i=-1;7>=i;i+=1)if(!(-1>=t+i||d<=t+i))for(var r=-1;7>=r;r+=1)-1>=e+r||d<=e+r||(c[t+i][e+r]=0<=i&&6>=i&&(0==r||6==r)||0<=r&&6>=r&&(0==i||6==i)||2<=i&&4>=i&&2<=r&&4>=r)}function l(t,i){for(var n=d=4*s+17,l=Array(n),m=0;m<n;m+=1){l[m]=Array(n);for(var f=0;f<n;f+=1)l[m][f]=null}for(c=l,o(0,0),o(d-7,0),o(0,d-7),n=r.G(s),l=0;l<n.length;l+=1)for(m=0;m<n.length;m+=1){f=n[l];var g=n[m];if(null==c[f][g])for(var b=-2;2>=b;b+=1)for(var y=-2;2>=y;y+=1)c[f+b][g+y]=-2==b||2==b||-2==y||2==y||0==b&&0==y}for(n=8;n<d-8;n+=1)null==c[n][6]&&(c[n][6]=0==n%2);for(n=8;n<d-8;n+=1)null==c[6][n]&&(c[6][n]=0==n%2);for(n=r.w(h<<3|i),l=0;15>l;l+=1)m=!t&&1==(n>>l&1),c[6>l?l:8>l?l+1:d-15+l][8]=m,c[8][8>l?d-l-1:9>l?15-l:14-l]=m;if(c[d-8][8]=!t,7<=s){for(n=r.A(s),l=0;18>l;l+=1)m=!t&&1==(n>>l&1),c[Math.floor(l/3)][l%3+d-8-3]=m;for(l=0;18>l;l+=1)m=!t&&1==(n>>l&1),c[l%3+d-8-3][Math.floor(l/3)]=m}if(null==u){for(t=a.I(s,h),n=function(){var t=[],e=0,i={B:function(){return t},c:function(e){return 1==(t[Math.floor(e/8)]>>>7-e%8&1)},put:function(t,e){for(var r=0;r<e;r+=1)i.m(1==(t>>>e-r-1&1))},f:function(){return e},m:function(i){var r=Math.floor(e/8);t.length<=r&&t.push(0),i&&(t[r]|=128>>>e%8),e+=1}};return i}(),l=0;l<p.length;l+=1)m=p[l],n.put(4,4),n.put(m.b(),r.f(4,s)),m.write(n);for(l=m=0;l<t.length;l+=1)m+=t[l].j;if(n.f()>8*m)throw Error("code length overflow. ("+n.f()+">"+8*m+")");for(n.f()+4<=8*m&&n.put(0,4);0!=n.f()%8;)n.m(!1);for(;!(n.f()>=8*m||(n.put(236,8),n.f()>=8*m));)n.put(17,8);var v=0;for(m=l=0,f=Array(t.length),g=Array(t.length),b=0;b<t.length;b+=1){var x=t[b].j,w=t[b].o-x;for(l=Math.max(l,x),m=Math.max(m,w),f[b]=Array(x),y=0;y<f[b].length;y+=1)f[b][y]=255&n.B()[y+v];for(v+=x,y=r.C(w),x=e(f[b],y.b()-1).l(y),g[b]=Array(y.b()-1),y=0;y<g[b].length;y+=1)w=y+x.b()-g[b].length,g[b][y]=0<=w?x.c(w):0}for(y=n=0;y<t.length;y+=1)n+=t[y].o;for(n=Array(n),y=v=0;y<l;y+=1)for(b=0;b<t.length;b+=1)y<f[b].length&&(n[v]=f[b][y],v+=1);for(y=0;y<m;y+=1)for(b=0;b<t.length;b+=1)y<g[b].length&&(n[v]=g[b][y],v+=1);u=n}for(t=u,n=-1,l=d-1,m=7,f=0,i=r.F(i),g=d-1;0<g;g-=2)for(6==g&&--g;;){for(b=0;2>b;b+=1)null==c[l][g-b]&&(y=!1,f<t.length&&(y=1==(t[f]>>>m&1)),i(l,g-b)&&(y=!y),c[l][g-b]=y,-1==--m&&(f+=1,m=7));if(0>(l+=n)||d<=l){l-=n,n=-n;break}}}var h=i[n],c=null,d=0,u=null,p=[],m={u:function(e){e=function(e){var i=t.s(e);return{S:function(){return 4},b:function(){return i.length},write:function(t){for(var e=0;e<i.length;e+=1)t.put(i[e],8)}}}(e),p.push(e),u=null},a:function(t,e){if(0>t||d<=t||0>e||d<=e)throw Error(t+","+e);return c[t][e]},h:function(){return d},J:function(){for(var t=0,e=0,i=0;8>i;i+=1){l(!0,i);var s=r.D(m);(0==i||t>s)&&(t=s,e=i)}l(!1,e)}};return m}function e(t,i){if(void 0===t.length)throw Error(t.length+"/"+i);var r=function(){for(var e=0;e<t.length&&0==t[e];)e+=1;for(var r=Array(t.length-e+i),s=0;s<t.length-e;s+=1)r[s]=t[s+e];return r}(),a={c:function(t){return r[t]},b:function(){return r.length},multiply:function(t){for(var i=Array(a.b()+t.b()-1),r=0;r<a.b();r+=1)for(var n=0;n<t.b();n+=1)i[r+n]^=s.i(s.g(a.c(r))+s.g(t.c(n)));return e(i,0)},l:function(t){if(0>a.b()-t.b())return a;for(var i=s.g(a.c(0))-s.g(t.c(0)),r=Array(a.b()),n=0;n<a.b();n+=1)r[n]=a.c(n);for(n=0;n<t.b();n+=1)r[n]^=s.i(s.g(t.c(n))+i);return e(r,0).l(t)}};return a}t.s=function(t){for(var e=[],i=0;i<t.length;i++){var r=t.charCodeAt(i);128>r?e.push(r):2048>r?e.push(192|r>>6,128|63&r):55296>r||57344<=r?e.push(224|r>>12,128|r>>6&63,128|63&r):(i++,r=65536+((1023&r)<<10|1023&t.charCodeAt(i)),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r))}return e};var i={L:1,M:0,Q:3,H:2},r=function(){function t(t){for(var e=0;0!=t;)e+=1,t>>>=1;return e}var i=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],r={w:function(e){for(var i=e<<10;0<=t(i)-t(1335);)i^=1335<<t(i)-t(1335);return 21522^(e<<10|i)},A:function(e){for(var i=e<<12;0<=t(i)-t(7973);)i^=7973<<t(i)-t(7973);return e<<12|i},G:function(t){return i[t-1]},F:function(t){switch(t){case 0:return function(t,e){return 0==(t+e)%2};case 1:return function(t){return 0==t%2};case 2:return function(t,e){return 0==e%3};case 3:return function(t,e){return 0==(t+e)%3};case 4:return function(t,e){return 0==(Math.floor(t/2)+Math.floor(e/3))%2};case 5:return function(t,e){return 0==t*e%2+t*e%3};case 6:return function(t,e){return 0==(t*e%2+t*e%3)%2};case 7:return function(t,e){return 0==(t*e%3+(t+e)%2)%2};default:throw Error("bad maskPattern:"+t)}},C:function(t){for(var i=e([1],0),r=0;r<t;r+=1)i=i.multiply(e([1,s.i(r)],0));return i},f:function(t,e){if(4!=t||1>e||40<e)throw Error("mode: "+t+"; type: "+e);return 10>e?8:16},D:function(t){for(var e=t.h(),i=0,r=0;r<e;r+=1)for(var s=0;s<e;s+=1){for(var a=0,n=t.a(r,s),o=-1;1>=o;o+=1)if(!(0>r+o||e<=r+o))for(var l=-1;1>=l;l+=1)0>s+l||e<=s+l||(0!=o||0!=l)&&n==t.a(r+o,s+l)&&(a+=1);5<a&&(i+=3+a-5)}for(r=0;r<e-1;r+=1)for(s=0;s<e-1;s+=1)a=0,t.a(r,s)&&(a+=1),t.a(r+1,s)&&(a+=1),t.a(r,s+1)&&(a+=1),t.a(r+1,s+1)&&(a+=1),(0==a||4==a)&&(i+=3);for(r=0;r<e;r+=1)for(s=0;s<e-6;s+=1)t.a(r,s)&&!t.a(r,s+1)&&t.a(r,s+2)&&t.a(r,s+3)&&t.a(r,s+4)&&!t.a(r,s+5)&&t.a(r,s+6)&&(i+=40);for(s=0;s<e;s+=1)for(r=0;r<e-6;r+=1)t.a(r,s)&&!t.a(r+1,s)&&t.a(r+2,s)&&t.a(r+3,s)&&t.a(r+4,s)&&!t.a(r+5,s)&&t.a(r+6,s)&&(i+=40);for(s=a=0;s<e;s+=1)for(r=0;r<e;r+=1)t.a(r,s)&&(a+=1);return i+Math.abs(100*a/e/e-50)/5*10}};return r}(),s=function(){for(var t=Array(256),e=Array(256),i=0;8>i;i+=1)t[i]=1<<i;for(i=8;256>i;i+=1)t[i]=t[i-4]^t[i-5]^t[i-6]^t[i-8];for(i=0;255>i;i+=1)e[t[i]]=i;return{g:function(t){if(1>t)throw Error("glog("+t+")");return e[t]},i:function(e){for(;0>e;)e+=255;for(;256<=e;)e-=255;return t[e]}}}(),a=function(){function t(t,r){switch(r){case i.L:return e[4*(t-1)];case i.M:return e[4*(t-1)+1];case i.Q:return e[4*(t-1)+2];case i.H:return e[4*(t-1)+3]}}var e=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],r={I:function(e,i){var r=t(e,i);if(void 0===r)throw Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+i);e=r.length/3,i=[];for(var s=0;s<e;s+=1)for(var a=r[3*s],n=r[3*s+1],o=r[3*s+2],l=0;l<a;l+=1){var h=o,c={};c.o=n,c.j=h,i.push(c)}return i}};return r}();return t}());const Rs=QrCreator;var zs=class extends he{constructor(){super(...arguments),this.value="",this.label="",this.size=128,this.fill="black",this.background="white",this.radius=0,this.errorCorrection="H"}firstUpdated(){this.generate()}generate(){this.hasUpdated&&Rs.render({text:this.value,radius:this.radius,ecLevel:this.errorCorrection,fill:this.fill,background:this.background,size:2*this.size},this.canvas)}render(){var t;return bt`
      <canvas
        part="base"
        class="qr-code"
        role="img"
        aria-label=${(null==(t=this.label)?void 0:t.length)>0?this.label:this.value}
        style=${ys({width:`${this.size}px`,height:`${this.size}px`})}
      ></canvas>
    `}};zs.styles=[te,Is],f([oe("canvas")],zs.prototype,"canvas",2),f([re()],zs.prototype,"value",2),f([re()],zs.prototype,"label",2),f([re({type:Number})],zs.prototype,"size",2),f([re()],zs.prototype,"fill",2),f([re()],zs.prototype,"background",2),f([re({type:Number})],zs.prototype,"radius",2),f([re({attribute:"error-correction"})],zs.prototype,"errorCorrection",2),f([Jt(["background","errorCorrection","fill","radius","size","value"])],zs.prototype,"generate",1),zs.define("sl-qr-code");var Fs=I`
  :host {
    display: block;
  }

  :host(:focus-visible) {
    outline: 0px;
  }

  .radio {
    display: inline-flex;
    align-items: top;
    font-family: var(--sl-input-font-family);
    font-size: var(--sl-input-font-size-medium);
    font-weight: var(--sl-input-font-weight);
    color: var(--sl-input-label-color);
    vertical-align: middle;
    cursor: pointer;
  }

  .radio--small {
    --toggle-size: var(--sl-toggle-size-small);
    font-size: var(--sl-input-font-size-small);
  }

  .radio--medium {
    --toggle-size: var(--sl-toggle-size-medium);
    font-size: var(--sl-input-font-size-medium);
  }

  .radio--large {
    --toggle-size: var(--sl-toggle-size-large);
    font-size: var(--sl-input-font-size-large);
  }

  .radio__checked-icon {
    display: inline-flex;
    width: var(--toggle-size);
    height: var(--toggle-size);
  }

  .radio__control {
    flex: 0 0 auto;
    position: relative;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: var(--toggle-size);
    height: var(--toggle-size);
    border: solid var(--sl-input-border-width) var(--sl-input-border-color);
    border-radius: 50%;
    background-color: var(--sl-input-background-color);
    color: transparent;
    transition:
      var(--sl-transition-fast) border-color,
      var(--sl-transition-fast) background-color,
      var(--sl-transition-fast) color,
      var(--sl-transition-fast) box-shadow;
  }

  .radio__input {
    position: absolute;
    opacity: 0;
    padding: 0;
    margin: 0;
    pointer-events: none;
  }

  /* Hover */
  .radio:not(.radio--checked):not(.radio--disabled) .radio__control:hover {
    border-color: var(--sl-input-border-color-hover);
    background-color: var(--sl-input-background-color-hover);
  }

  /* Checked */
  .radio--checked .radio__control {
    color: var(--sl-color-neutral-0);
    border-color: var(--sl-color-primary-600);
    background-color: var(--sl-color-primary-600);
  }

  /* Checked + hover */
  .radio.radio--checked:not(.radio--disabled) .radio__control:hover {
    border-color: var(--sl-color-primary-500);
    background-color: var(--sl-color-primary-500);
  }

  /* Checked + focus */
  :host(:focus-visible) .radio__control {
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  /* Disabled */
  .radio--disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  /* When the control isn't checked, hide the circle for Windows High Contrast mode a11y */
  .radio:not(.radio--checked) svg circle {
    opacity: 0;
  }

  .radio__label {
    display: inline-block;
    color: var(--sl-input-label-color);
    line-height: var(--toggle-size);
    margin-inline-start: 0.5em;
    user-select: none;
    -webkit-user-select: none;
  }
`,Ls=class extends he{constructor(){super(),this.checked=!1,this.hasFocus=!1,this.size="medium",this.disabled=!1,this.handleBlur=()=>{this.hasFocus=!1,this.emit("sl-blur")},this.handleClick=()=>{this.disabled||(this.checked=!0)},this.handleFocus=()=>{this.hasFocus=!0,this.emit("sl-focus")},this.addEventListener("blur",this.handleBlur),this.addEventListener("click",this.handleClick),this.addEventListener("focus",this.handleFocus)}connectedCallback(){super.connectedCallback(),this.setInitialAttributes()}setInitialAttributes(){this.setAttribute("role","radio"),this.setAttribute("tabindex","-1"),this.setAttribute("aria-disabled",this.disabled?"true":"false")}handleCheckedChange(){this.setAttribute("aria-checked",this.checked?"true":"false"),this.setAttribute("tabindex",this.checked?"0":"-1")}handleDisabledChange(){this.setAttribute("aria-disabled",this.disabled?"true":"false")}render(){return bt`
      <span
        part="base"
        class=${xe({radio:!0,"radio--checked":this.checked,"radio--disabled":this.disabled,"radio--focused":this.hasFocus,"radio--small":"small"===this.size,"radio--medium":"medium"===this.size,"radio--large":"large"===this.size})}
      >
        <span part="${"control"+(this.checked?" control--checked":"")}" class="radio__control">
          ${this.checked?bt` <sl-icon part="checked-icon" class="radio__checked-icon" library="system" name="radio"></sl-icon> `:""}
        </span>

        <slot part="label" class="radio__label"></slot>
      </span>
    `}};Ls.styles=[te,Fs],Ls.dependencies={"sl-icon":be},f([se()],Ls.prototype,"checked",2),f([se()],Ls.prototype,"hasFocus",2),f([re()],Ls.prototype,"value",2),f([re({reflect:!0})],Ls.prototype,"size",2),f([re({type:Boolean,reflect:!0})],Ls.prototype,"disabled",2),f([Jt("checked")],Ls.prototype,"handleCheckedChange",1),f([Jt("disabled",{waitUntilFirstUpdate:!0})],Ls.prototype,"handleDisabledChange",1),Ls.define("sl-radio");var Ds=I`
  :host {
    display: block;
    user-select: none;
    -webkit-user-select: none;
  }

  :host(:focus) {
    outline: none;
  }

  .option {
    position: relative;
    display: flex;
    align-items: center;
    font-family: var(--sl-font-sans);
    font-size: var(--sl-font-size-medium);
    font-weight: var(--sl-font-weight-normal);
    line-height: var(--sl-line-height-normal);
    letter-spacing: var(--sl-letter-spacing-normal);
    color: var(--sl-color-neutral-700);
    padding: var(--sl-spacing-x-small) var(--sl-spacing-medium) var(--sl-spacing-x-small) var(--sl-spacing-x-small);
    transition: var(--sl-transition-fast) fill;
    cursor: pointer;
  }

  .option--hover:not(.option--current):not(.option--disabled) {
    background-color: var(--sl-color-neutral-100);
    color: var(--sl-color-neutral-1000);
  }

  .option--current,
  .option--current.option--disabled {
    background-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
    opacity: 1;
  }

  .option--disabled {
    outline: none;
    opacity: 0.5;
    cursor: not-allowed;
  }

  .option__label {
    flex: 1 1 auto;
    display: inline-block;
    line-height: var(--sl-line-height-dense);
  }

  .option .option__check {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    justify-content: center;
    visibility: hidden;
    padding-inline-end: var(--sl-spacing-2x-small);
  }

  .option--selected .option__check {
    visibility: visible;
  }

  .option__prefix,
  .option__suffix {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
  }

  .option__prefix::slotted(*) {
    margin-inline-end: var(--sl-spacing-x-small);
  }

  .option__suffix::slotted(*) {
    margin-inline-start: var(--sl-spacing-x-small);
  }

  @media (forced-colors: active) {
    :host(:hover:not([aria-disabled='true'])) .option {
      outline: dashed 1px SelectedItem;
      outline-offset: -1px;
    }
  }
`,Ws=class extends he{constructor(){super(...arguments),this.localize=new ze(this),this.isInitialized=!1,this.current=!1,this.selected=!1,this.hasHover=!1,this.value="",this.disabled=!1}connectedCallback(){super.connectedCallback(),this.setAttribute("role","option"),this.setAttribute("aria-selected","false")}handleDefaultSlotChange(){this.isInitialized?customElements.whenDefined("sl-select").then(()=>{const t=this.closest("sl-select");t&&t.handleDefaultSlotChange()}):this.isInitialized=!0}handleMouseEnter(){this.hasHover=!0}handleMouseLeave(){this.hasHover=!1}handleDisabledChange(){this.setAttribute("aria-disabled",this.disabled?"true":"false")}handleSelectedChange(){this.setAttribute("aria-selected",this.selected?"true":"false")}handleValueChange(){"string"!=typeof this.value&&(this.value=String(this.value)),this.value.includes(" ")&&(console.error("Option values cannot include a space. All spaces have been replaced with underscores.",this),this.value=this.value.replace(/ /g,"_"))}getTextLabel(){const t=this.childNodes;let e="";return[...t].forEach(t=>{t.nodeType===Node.ELEMENT_NODE&&(t.hasAttribute("slot")||(e+=t.textContent)),t.nodeType===Node.TEXT_NODE&&(e+=t.textContent)}),e.trim()}render(){return bt`
      <div
        part="base"
        class=${xe({option:!0,"option--current":this.current,"option--disabled":this.disabled,"option--selected":this.selected,"option--hover":this.hasHover})}
        @mouseenter=${this.handleMouseEnter}
        @mouseleave=${this.handleMouseLeave}
      >
        <sl-icon part="checked-icon" class="option__check" name="check" library="system" aria-hidden="true"></sl-icon>
        <slot part="prefix" name="prefix" class="option__prefix"></slot>
        <slot part="label" class="option__label" @slotchange=${this.handleDefaultSlotChange}></slot>
        <slot part="suffix" name="suffix" class="option__suffix"></slot>
      </div>
    `}};Ws.styles=[te,Ds],Ws.dependencies={"sl-icon":be},f([oe(".option__label")],Ws.prototype,"defaultSlot",2),f([se()],Ws.prototype,"current",2),f([se()],Ws.prototype,"selected",2),f([se()],Ws.prototype,"hasHover",2),f([re({reflect:!0})],Ws.prototype,"value",2),f([re({type:Boolean,reflect:!0})],Ws.prototype,"disabled",2),f([Jt("disabled")],Ws.prototype,"handleDisabledChange",1),f([Jt("selected")],Ws.prototype,"handleSelectedChange",1),f([Jt("value")],Ws.prototype,"handleValueChange",1),Ws.define("sl-option"),xr.define("sl-popup");var Vs=I`
  :host {
    --height: 1rem;
    --track-color: var(--sl-color-neutral-200);
    --indicator-color: var(--sl-color-primary-600);
    --label-color: var(--sl-color-neutral-0);

    display: block;
  }

  .progress-bar {
    position: relative;
    background-color: var(--track-color);
    height: var(--height);
    border-radius: var(--sl-border-radius-pill);
    box-shadow: inset var(--sl-shadow-small);
    overflow: hidden;
  }

  .progress-bar__indicator {
    height: 100%;
    font-family: var(--sl-font-sans);
    font-size: 12px;
    font-weight: var(--sl-font-weight-normal);
    background-color: var(--indicator-color);
    color: var(--label-color);
    text-align: center;
    line-height: var(--height);
    white-space: nowrap;
    overflow: hidden;
    transition:
      400ms width,
      400ms background-color;
    user-select: none;
    -webkit-user-select: none;
  }

  /* Indeterminate */
  .progress-bar--indeterminate .progress-bar__indicator {
    position: absolute;
    animation: indeterminate 2.5s infinite cubic-bezier(0.37, 0, 0.63, 1);
  }

  .progress-bar--indeterminate.progress-bar--rtl .progress-bar__indicator {
    animation-name: indeterminate-rtl;
  }

  @media (forced-colors: active) {
    .progress-bar {
      outline: solid 1px SelectedItem;
      background-color: var(--sl-color-neutral-0);
    }

    .progress-bar__indicator {
      outline: solid 1px SelectedItem;
      background-color: SelectedItem;
    }
  }

  @keyframes indeterminate {
    0% {
      left: -50%;
      width: 50%;
    }
    75%,
    100% {
      left: 100%;
      width: 50%;
    }
  }

  @keyframes indeterminate-rtl {
    0% {
      right: -50%;
      width: 50%;
    }
    75%,
    100% {
      right: 100%;
      width: 50%;
    }
  }
`,Hs=class extends he{constructor(){super(...arguments),this.localize=new ze(this),this.value=0,this.indeterminate=!1,this.label=""}render(){return bt`
      <div
        part="base"
        class=${xe({"progress-bar":!0,"progress-bar--indeterminate":this.indeterminate,"progress-bar--rtl":"rtl"===this.localize.dir()})}
        role="progressbar"
        title=${we(this.title)}
        aria-label=${this.label.length>0?this.label:this.localize.term("progress")}
        aria-valuemin="0"
        aria-valuemax="100"
        aria-valuenow=${this.indeterminate?0:this.value}
      >
        <div part="indicator" class="progress-bar__indicator" style=${ys({width:`${this.value}%`})}>
          ${this.indeterminate?"":bt` <slot part="label" class="progress-bar__label"></slot> `}
        </div>
      </div>
    `}};Hs.styles=[te,Vs],f([re({type:Number,reflect:!0})],Hs.prototype,"value",2),f([re({type:Boolean,reflect:!0})],Hs.prototype,"indeterminate",2),f([re()],Hs.prototype,"label",2),Hs.define("sl-progress-bar");var Ns=I`
  :host {
    display: block;
  }

  .menu-label {
    display: inline-block;
    font-family: var(--sl-font-sans);
    font-size: var(--sl-font-size-small);
    font-weight: var(--sl-font-weight-semibold);
    line-height: var(--sl-line-height-normal);
    letter-spacing: var(--sl-letter-spacing-normal);
    color: var(--sl-color-neutral-500);
    padding: var(--sl-spacing-2x-small) var(--sl-spacing-x-large);
    user-select: none;
    -webkit-user-select: none;
  }
`,Ys=class extends he{render(){return bt` <slot part="base" class="menu-label"></slot> `}};Ys.styles=[te,Ns],Ys.define("sl-menu-label");var Xs=I`
  :host {
    display: contents;
  }
`,Us=class extends he{constructor(){super(...arguments),this.attrOldValue=!1,this.charData=!1,this.charDataOldValue=!1,this.childList=!1,this.disabled=!1,this.handleMutation=t=>{this.emit("sl-mutation",{detail:{mutationList:t}})}}connectedCallback(){super.connectedCallback(),this.mutationObserver=new MutationObserver(this.handleMutation),this.disabled||this.startObserver()}disconnectedCallback(){super.disconnectedCallback(),this.stopObserver()}startObserver(){const t="string"==typeof this.attr&&this.attr.length>0,e=t&&"*"!==this.attr?this.attr.split(" "):void 0;try{this.mutationObserver.observe(this,{subtree:!0,childList:this.childList,attributes:t,attributeFilter:e,attributeOldValue:this.attrOldValue,characterData:this.charData,characterDataOldValue:this.charDataOldValue})}catch(t){}}stopObserver(){this.mutationObserver.disconnect()}handleDisabledChange(){this.disabled?this.stopObserver():this.startObserver()}handleChange(){this.stopObserver(),this.startObserver()}render(){return bt` <slot></slot> `}};Us.styles=[te,Xs],f([re({reflect:!0})],Us.prototype,"attr",2),f([re({attribute:"attr-old-value",type:Boolean,reflect:!0})],Us.prototype,"attrOldValue",2),f([re({attribute:"char-data",type:Boolean,reflect:!0})],Us.prototype,"charData",2),f([re({attribute:"char-data-old-value",type:Boolean,reflect:!0})],Us.prototype,"charDataOldValue",2),f([re({attribute:"child-list",type:Boolean,reflect:!0})],Us.prototype,"childList",2),f([re({type:Boolean,reflect:!0})],Us.prototype,"disabled",2),f([Jt("disabled")],Us.prototype,"handleDisabledChange",1),f([Jt("attr",{waitUntilFirstUpdate:!0}),Jt("attr-old-value",{waitUntilFirstUpdate:!0}),Jt("char-data",{waitUntilFirstUpdate:!0}),Jt("char-data-old-value",{waitUntilFirstUpdate:!0}),Jt("childList",{waitUntilFirstUpdate:!0})],Us.prototype,"handleChange",1),Us.define("sl-mutation-observer");var Gs=I`
  :host {
    display: block;
  }

  .input {
    flex: 1 1 auto;
    display: inline-flex;
    align-items: stretch;
    justify-content: start;
    position: relative;
    width: 100%;
    font-family: var(--sl-input-font-family);
    font-weight: var(--sl-input-font-weight);
    letter-spacing: var(--sl-input-letter-spacing);
    vertical-align: middle;
    overflow: hidden;
    cursor: text;
    transition:
      var(--sl-transition-fast) color,
      var(--sl-transition-fast) border,
      var(--sl-transition-fast) box-shadow,
      var(--sl-transition-fast) background-color;
  }

  /* Standard inputs */
  .input--standard {
    background-color: var(--sl-input-background-color);
    border: solid var(--sl-input-border-width) var(--sl-input-border-color);
  }

  .input--standard:hover:not(.input--disabled) {
    background-color: var(--sl-input-background-color-hover);
    border-color: var(--sl-input-border-color-hover);
  }

  .input--standard.input--focused:not(.input--disabled) {
    background-color: var(--sl-input-background-color-focus);
    border-color: var(--sl-input-border-color-focus);
    box-shadow: 0 0 0 var(--sl-focus-ring-width) var(--sl-input-focus-ring-color);
  }

  .input--standard.input--focused:not(.input--disabled) .input__control {
    color: var(--sl-input-color-focus);
  }

  .input--standard.input--disabled {
    background-color: var(--sl-input-background-color-disabled);
    border-color: var(--sl-input-border-color-disabled);
    opacity: 0.5;
    cursor: not-allowed;
  }

  .input--standard.input--disabled .input__control {
    color: var(--sl-input-color-disabled);
  }

  .input--standard.input--disabled .input__control::placeholder {
    color: var(--sl-input-placeholder-color-disabled);
  }

  /* Filled inputs */
  .input--filled {
    border: none;
    background-color: var(--sl-input-filled-background-color);
    color: var(--sl-input-color);
  }

  .input--filled:hover:not(.input--disabled) {
    background-color: var(--sl-input-filled-background-color-hover);
  }

  .input--filled.input--focused:not(.input--disabled) {
    background-color: var(--sl-input-filled-background-color-focus);
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  .input--filled.input--disabled {
    background-color: var(--sl-input-filled-background-color-disabled);
    opacity: 0.5;
    cursor: not-allowed;
  }

  .input__control {
    flex: 1 1 auto;
    font-family: inherit;
    font-size: inherit;
    font-weight: inherit;
    min-width: 0;
    height: 100%;
    color: var(--sl-input-color);
    border: none;
    background: inherit;
    box-shadow: none;
    padding: 0;
    margin: 0;
    cursor: inherit;
    -webkit-appearance: none;
  }

  .input__control::-webkit-search-decoration,
  .input__control::-webkit-search-cancel-button,
  .input__control::-webkit-search-results-button,
  .input__control::-webkit-search-results-decoration {
    -webkit-appearance: none;
  }

  .input__control:-webkit-autofill,
  .input__control:-webkit-autofill:hover,
  .input__control:-webkit-autofill:focus,
  .input__control:-webkit-autofill:active {
    box-shadow: 0 0 0 var(--sl-input-height-large) var(--sl-input-background-color-hover) inset !important;
    -webkit-text-fill-color: var(--sl-color-primary-500);
    caret-color: var(--sl-input-color);
  }

  .input--filled .input__control:-webkit-autofill,
  .input--filled .input__control:-webkit-autofill:hover,
  .input--filled .input__control:-webkit-autofill:focus,
  .input--filled .input__control:-webkit-autofill:active {
    box-shadow: 0 0 0 var(--sl-input-height-large) var(--sl-input-filled-background-color) inset !important;
  }

  .input__control::placeholder {
    color: var(--sl-input-placeholder-color);
    user-select: none;
    -webkit-user-select: none;
  }

  .input:hover:not(.input--disabled) .input__control {
    color: var(--sl-input-color-hover);
  }

  .input__control:focus {
    outline: none;
  }

  .input__prefix,
  .input__suffix {
    display: inline-flex;
    flex: 0 0 auto;
    align-items: center;
    cursor: default;
  }

  .input__prefix ::slotted(sl-icon),
  .input__suffix ::slotted(sl-icon) {
    color: var(--sl-input-icon-color);
  }

  /*
   * Size modifiers
   */

  .input--small {
    border-radius: var(--sl-input-border-radius-small);
    font-size: var(--sl-input-font-size-small);
    height: var(--sl-input-height-small);
  }

  .input--small .input__control {
    height: calc(var(--sl-input-height-small) - var(--sl-input-border-width) * 2);
    padding: 0 var(--sl-input-spacing-small);
  }

  .input--small .input__clear,
  .input--small .input__password-toggle {
    width: calc(1em + var(--sl-input-spacing-small) * 2);
  }

  .input--small .input__prefix ::slotted(*) {
    margin-inline-start: var(--sl-input-spacing-small);
  }

  .input--small .input__suffix ::slotted(*) {
    margin-inline-end: var(--sl-input-spacing-small);
  }

  .input--medium {
    border-radius: var(--sl-input-border-radius-medium);
    font-size: var(--sl-input-font-size-medium);
    height: var(--sl-input-height-medium);
  }

  .input--medium .input__control {
    height: calc(var(--sl-input-height-medium) - var(--sl-input-border-width) * 2);
    padding: 0 var(--sl-input-spacing-medium);
  }

  .input--medium .input__clear,
  .input--medium .input__password-toggle {
    width: calc(1em + var(--sl-input-spacing-medium) * 2);
  }

  .input--medium .input__prefix ::slotted(*) {
    margin-inline-start: var(--sl-input-spacing-medium);
  }

  .input--medium .input__suffix ::slotted(*) {
    margin-inline-end: var(--sl-input-spacing-medium);
  }

  .input--large {
    border-radius: var(--sl-input-border-radius-large);
    font-size: var(--sl-input-font-size-large);
    height: var(--sl-input-height-large);
  }

  .input--large .input__control {
    height: calc(var(--sl-input-height-large) - var(--sl-input-border-width) * 2);
    padding: 0 var(--sl-input-spacing-large);
  }

  .input--large .input__clear,
  .input--large .input__password-toggle {
    width: calc(1em + var(--sl-input-spacing-large) * 2);
  }

  .input--large .input__prefix ::slotted(*) {
    margin-inline-start: var(--sl-input-spacing-large);
  }

  .input--large .input__suffix ::slotted(*) {
    margin-inline-end: var(--sl-input-spacing-large);
  }

  /*
   * Pill modifier
   */

  .input--pill.input--small {
    border-radius: var(--sl-input-height-small);
  }

  .input--pill.input--medium {
    border-radius: var(--sl-input-height-medium);
  }

  .input--pill.input--large {
    border-radius: var(--sl-input-height-large);
  }

  /*
   * Clearable + Password Toggle
   */

  .input__clear,
  .input__password-toggle {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    font-size: inherit;
    color: var(--sl-input-icon-color);
    border: none;
    background: none;
    padding: 0;
    transition: var(--sl-transition-fast) color;
    cursor: pointer;
  }

  .input__clear:hover,
  .input__password-toggle:hover {
    color: var(--sl-input-icon-color-hover);
  }

  .input__clear:focus,
  .input__password-toggle:focus {
    outline: none;
  }

  /* Don't show the browser's password toggle in Edge */
  ::-ms-reveal {
    display: none;
  }

  /* Hide the built-in number spinner */
  .input--no-spin-buttons input[type='number']::-webkit-outer-spin-button,
  .input--no-spin-buttons input[type='number']::-webkit-inner-spin-button {
    -webkit-appearance: none;
    display: none;
  }

  .input--no-spin-buttons input[type='number'] {
    -moz-appearance: textfield;
  }
`,js=class extends he{constructor(){super(...arguments),this.formControlController=new k(this,{assumeInteractionOn:["sl-blur","sl-input"]}),this.hasSlotController=new Yt(this,"help-text","label"),this.localize=new ze(this),this.hasFocus=!1,this.title="",this.__numberInput=Object.assign(document.createElement("input"),{type:"number"}),this.__dateInput=Object.assign(document.createElement("input"),{type:"date"}),this.type="text",this.name="",this.value="",this.defaultValue="",this.size="medium",this.filled=!1,this.pill=!1,this.label="",this.helpText="",this.clearable=!1,this.disabled=!1,this.placeholder="",this.readonly=!1,this.passwordToggle=!1,this.passwordVisible=!1,this.noSpinButtons=!1,this.form="",this.required=!1,this.spellcheck=!0}get valueAsDate(){var t;return this.__dateInput.type=this.type,this.__dateInput.value=this.value,(null==(t=this.input)?void 0:t.valueAsDate)||this.__dateInput.valueAsDate}set valueAsDate(t){this.__dateInput.type=this.type,this.__dateInput.valueAsDate=t,this.value=this.__dateInput.value}get valueAsNumber(){var t;return this.__numberInput.value=this.value,(null==(t=this.input)?void 0:t.valueAsNumber)||this.__numberInput.valueAsNumber}set valueAsNumber(t){this.__numberInput.valueAsNumber=t,this.value=this.__numberInput.value}get validity(){return this.input.validity}get validationMessage(){return this.input.validationMessage}firstUpdated(){this.formControlController.updateValidity()}handleBlur(){this.hasFocus=!1,this.emit("sl-blur")}handleChange(){this.value=this.input.value,this.emit("sl-change")}handleClearClick(t){t.preventDefault(),""!==this.value&&(this.value="",this.emit("sl-clear"),this.emit("sl-input"),this.emit("sl-change")),this.input.focus()}handleFocus(){this.hasFocus=!0,this.emit("sl-focus")}handleInput(){this.value=this.input.value,this.formControlController.updateValidity(),this.emit("sl-input")}handleInvalid(t){this.formControlController.setValidity(!1),this.formControlController.emitInvalidEvent(t)}handleKeyDown(t){const e=t.metaKey||t.ctrlKey||t.shiftKey||t.altKey;"Enter"!==t.key||e||setTimeout(()=>{t.defaultPrevented||t.isComposing||this.formControlController.submit()})}handlePasswordToggle(){this.passwordVisible=!this.passwordVisible}handleDisabledChange(){this.formControlController.setValidity(this.disabled)}handleStepChange(){this.input.step=String(this.step),this.formControlController.updateValidity()}async handleValueChange(){await this.updateComplete,this.formControlController.updateValidity()}focus(t){this.input.focus(t)}blur(){this.input.blur()}select(){this.input.select()}setSelectionRange(t,e,i="none"){this.input.setSelectionRange(t,e,i)}setRangeText(t,e,i,r="preserve"){const s=null!=e?e:this.input.selectionStart,a=null!=i?i:this.input.selectionEnd;this.input.setRangeText(t,s,a,r),this.value!==this.input.value&&(this.value=this.input.value)}showPicker(){"showPicker"in HTMLInputElement.prototype&&this.input.showPicker()}stepUp(){this.input.stepUp(),this.value!==this.input.value&&(this.value=this.input.value)}stepDown(){this.input.stepDown(),this.value!==this.input.value&&(this.value=this.input.value)}checkValidity(){return this.input.checkValidity()}getForm(){return this.formControlController.getForm()}reportValidity(){return this.input.reportValidity()}setCustomValidity(t){this.input.setCustomValidity(t),this.formControlController.updateValidity()}render(){const t=this.hasSlotController.test("label"),e=this.hasSlotController.test("help-text"),i=!!this.label||!!t,r=!!this.helpText||!!e,s=this.clearable&&!this.disabled&&!this.readonly&&("number"==typeof this.value||this.value.length>0);return bt`
      <div
        part="form-control"
        class=${xe({"form-control":!0,"form-control--small":"small"===this.size,"form-control--medium":"medium"===this.size,"form-control--large":"large"===this.size,"form-control--has-label":i,"form-control--has-help-text":r})}
      >
        <label
          part="form-control-label"
          class="form-control__label"
          for="input"
          aria-hidden=${i?"false":"true"}
        >
          <slot name="label">${this.label}</slot>
        </label>

        <div part="form-control-input" class="form-control-input">
          <div
            part="base"
            class=${xe({input:!0,"input--small":"small"===this.size,"input--medium":"medium"===this.size,"input--large":"large"===this.size,"input--pill":this.pill,"input--standard":!this.filled,"input--filled":this.filled,"input--disabled":this.disabled,"input--focused":this.hasFocus,"input--empty":!this.value,"input--no-spin-buttons":this.noSpinButtons})}
          >
            <span part="prefix" class="input__prefix">
              <slot name="prefix"></slot>
            </span>

            <input
              part="input"
              id="input"
              class="input__control"
              type=${"password"===this.type&&this.passwordVisible?"text":this.type}
              title=${this.title}
              name=${we(this.name)}
              ?disabled=${this.disabled}
              ?readonly=${this.readonly}
              ?required=${this.required}
              placeholder=${we(this.placeholder)}
              minlength=${we(this.minlength)}
              maxlength=${we(this.maxlength)}
              min=${we(this.min)}
              max=${we(this.max)}
              step=${we(this.step)}
              .value=${_e(this.value)}
              autocapitalize=${we(this.autocapitalize)}
              autocomplete=${we(this.autocomplete)}
              autocorrect=${we(this.autocorrect)}
              ?autofocus=${this.autofocus}
              spellcheck=${this.spellcheck}
              pattern=${we(this.pattern)}
              enterkeyhint=${we(this.enterkeyhint)}
              inputmode=${we(this.inputmode)}
              aria-describedby="help-text"
              @change=${this.handleChange}
              @input=${this.handleInput}
              @invalid=${this.handleInvalid}
              @keydown=${this.handleKeyDown}
              @focus=${this.handleFocus}
              @blur=${this.handleBlur}
            />

            ${s?bt`
                  <button
                    part="clear-button"
                    class="input__clear"
                    type="button"
                    aria-label=${this.localize.term("clearEntry")}
                    @click=${this.handleClearClick}
                    tabindex="-1"
                  >
                    <slot name="clear-icon">
                      <sl-icon name="x-circle-fill" library="system"></sl-icon>
                    </slot>
                  </button>
                `:""}
            ${this.passwordToggle&&!this.disabled?bt`
                  <button
                    part="password-toggle-button"
                    class="input__password-toggle"
                    type="button"
                    aria-label=${this.localize.term(this.passwordVisible?"hidePassword":"showPassword")}
                    @click=${this.handlePasswordToggle}
                    tabindex="-1"
                  >
                    ${this.passwordVisible?bt`
                          <slot name="show-password-icon">
                            <sl-icon name="eye-slash" library="system"></sl-icon>
                          </slot>
                        `:bt`
                          <slot name="hide-password-icon">
                            <sl-icon name="eye" library="system"></sl-icon>
                          </slot>
                        `}
                  </button>
                `:""}

            <span part="suffix" class="input__suffix">
              <slot name="suffix"></slot>
            </span>
          </div>
        </div>

        <div
          part="form-control-help-text"
          id="help-text"
          class="form-control__help-text"
          aria-hidden=${r?"false":"true"}
        >
          <slot name="help-text">${this.helpText}</slot>
        </div>
      </div>
    `}};js.styles=[te,Nt,Gs],js.dependencies={"sl-icon":be},f([oe(".input__control")],js.prototype,"input",2),f([se()],js.prototype,"hasFocus",2),f([re()],js.prototype,"title",2),f([re({reflect:!0})],js.prototype,"type",2),f([re()],js.prototype,"name",2),f([re()],js.prototype,"value",2),f([Ht()],js.prototype,"defaultValue",2),f([re({reflect:!0})],js.prototype,"size",2),f([re({type:Boolean,reflect:!0})],js.prototype,"filled",2),f([re({type:Boolean,reflect:!0})],js.prototype,"pill",2),f([re()],js.prototype,"label",2),f([re({attribute:"help-text"})],js.prototype,"helpText",2),f([re({type:Boolean})],js.prototype,"clearable",2),f([re({type:Boolean,reflect:!0})],js.prototype,"disabled",2),f([re()],js.prototype,"placeholder",2),f([re({type:Boolean,reflect:!0})],js.prototype,"readonly",2),f([re({attribute:"password-toggle",type:Boolean})],js.prototype,"passwordToggle",2),f([re({attribute:"password-visible",type:Boolean})],js.prototype,"passwordVisible",2),f([re({attribute:"no-spin-buttons",type:Boolean})],js.prototype,"noSpinButtons",2),f([re({reflect:!0})],js.prototype,"form",2),f([re({type:Boolean,reflect:!0})],js.prototype,"required",2),f([re()],js.prototype,"pattern",2),f([re({type:Number})],js.prototype,"minlength",2),f([re({type:Number})],js.prototype,"maxlength",2),f([re()],js.prototype,"min",2),f([re()],js.prototype,"max",2),f([re()],js.prototype,"step",2),f([re()],js.prototype,"autocapitalize",2),f([re()],js.prototype,"autocorrect",2),f([re()],js.prototype,"autocomplete",2),f([re({type:Boolean})],js.prototype,"autofocus",2),f([re()],js.prototype,"enterkeyhint",2),f([re({type:Boolean,converter:{fromAttribute:t=>!(!t||"false"===t),toAttribute:t=>t?"true":"false"}})],js.prototype,"spellcheck",2),f([re()],js.prototype,"inputmode",2),f([Jt("disabled",{waitUntilFirstUpdate:!0})],js.prototype,"handleDisabledChange",1),f([Jt("step",{waitUntilFirstUpdate:!0})],js.prototype,"handleStepChange",1),f([Jt("value",{waitUntilFirstUpdate:!0})],js.prototype,"handleValueChange",1),js.define("sl-input");var qs=I`
  :host {
    display: block;
    position: relative;
    background: var(--sl-panel-background-color);
    border: solid var(--sl-panel-border-width) var(--sl-panel-border-color);
    border-radius: var(--sl-border-radius-medium);
    padding: var(--sl-spacing-x-small) 0;
    overflow: auto;
    overscroll-behavior: none;
  }

  ::slotted(sl-divider) {
    --spacing: var(--sl-spacing-x-small);
  }
`,Ks=class extends he{connectedCallback(){super.connectedCallback(),this.setAttribute("role","menu")}handleClick(t){const e=["menuitem","menuitemcheckbox"],i=t.composedPath(),r=i.find(t=>{var i;return e.includes((null==(i=null==t?void 0:t.getAttribute)?void 0:i.call(t,"role"))||"")});if(!r)return;const s=i.find(t=>{var e;return"menu"===(null==(e=null==t?void 0:t.getAttribute)?void 0:e.call(t,"role"))});if(s!==this)return;const a=r;"checkbox"===a.type&&(a.checked=!a.checked),this.emit("sl-select",{detail:{item:a}})}handleKeyDown(t){if("Enter"===t.key||" "===t.key){const e=this.getCurrentItem();t.preventDefault(),t.stopPropagation(),null==e||e.click()}else if(["ArrowDown","ArrowUp","Home","End"].includes(t.key)){const e=this.getAllItems(),i=this.getCurrentItem();let r=i?e.indexOf(i):0;e.length>0&&(t.preventDefault(),t.stopPropagation(),"ArrowDown"===t.key?r++:"ArrowUp"===t.key?r--:"Home"===t.key?r=0:"End"===t.key&&(r=e.length-1),r<0&&(r=e.length-1),r>e.length-1&&(r=0),this.setCurrentItem(e[r]),e[r].focus())}}handleMouseDown(t){const e=t.target;this.isMenuItem(e)&&this.setCurrentItem(e)}handleSlotChange(){const t=this.getAllItems();t.length>0&&this.setCurrentItem(t[0])}isMenuItem(t){var e;return"sl-menu-item"===t.tagName.toLowerCase()||["menuitem","menuitemcheckbox","menuitemradio"].includes(null!=(e=t.getAttribute("role"))?e:"")}getAllItems(){return[...this.defaultSlot.assignedElements({flatten:!0})].filter(t=>!(t.inert||!this.isMenuItem(t)))}getCurrentItem(){return this.getAllItems().find(t=>"0"===t.getAttribute("tabindex"))}setCurrentItem(t){this.getAllItems().forEach(e=>{e.setAttribute("tabindex",e===t?"0":"-1")})}render(){return bt`
      <slot
        @slotchange=${this.handleSlotChange}
        @click=${this.handleClick}
        @keydown=${this.handleKeyDown}
        @mousedown=${this.handleMouseDown}
      ></slot>
    `}};Ks.styles=[te,qs],f([oe("slot")],Ks.prototype,"defaultSlot",2),Ks.define("sl-menu");var Zs=I`
  :host {
    --submenu-offset: -2px;

    display: block;
  }

  :host([inert]) {
    display: none;
  }

  .menu-item {
    position: relative;
    display: flex;
    align-items: stretch;
    font-family: var(--sl-font-sans);
    font-size: var(--sl-font-size-medium);
    font-weight: var(--sl-font-weight-normal);
    line-height: var(--sl-line-height-normal);
    letter-spacing: var(--sl-letter-spacing-normal);
    color: var(--sl-color-neutral-700);
    padding: var(--sl-spacing-2x-small) var(--sl-spacing-2x-small);
    transition: var(--sl-transition-fast) fill;
    user-select: none;
    -webkit-user-select: none;
    white-space: nowrap;
    cursor: pointer;
  }

  .menu-item.menu-item--disabled {
    outline: none;
    opacity: 0.5;
    cursor: not-allowed;
  }

  .menu-item.menu-item--loading {
    outline: none;
    cursor: wait;
  }

  .menu-item.menu-item--loading *:not(sl-spinner) {
    opacity: 0.5;
  }

  .menu-item--loading sl-spinner {
    --indicator-color: currentColor;
    --track-width: 1px;
    position: absolute;
    font-size: 0.75em;
    top: calc(50% - 0.5em);
    left: 0.65rem;
    opacity: 1;
  }

  .menu-item .menu-item__label {
    flex: 1 1 auto;
    display: inline-block;
    text-overflow: ellipsis;
    overflow: hidden;
  }

  .menu-item .menu-item__prefix {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
  }

  .menu-item .menu-item__prefix::slotted(*) {
    margin-inline-end: var(--sl-spacing-x-small);
  }

  .menu-item .menu-item__suffix {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
  }

  .menu-item .menu-item__suffix::slotted(*) {
    margin-inline-start: var(--sl-spacing-x-small);
  }

  /* Safe triangle */
  .menu-item--submenu-expanded::after {
    content: '';
    position: fixed;
    z-index: calc(var(--sl-z-index-dropdown) - 1);
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    clip-path: polygon(
      var(--safe-triangle-cursor-x, 0) var(--safe-triangle-cursor-y, 0),
      var(--safe-triangle-submenu-start-x, 0) var(--safe-triangle-submenu-start-y, 0),
      var(--safe-triangle-submenu-end-x, 0) var(--safe-triangle-submenu-end-y, 0)
    );
  }

  :host(:focus-visible) {
    outline: none;
  }

  :host(:hover:not([aria-disabled='true'], :focus-visible)) .menu-item,
  .menu-item--submenu-expanded {
    background-color: var(--sl-color-neutral-100);
    color: var(--sl-color-neutral-1000);
  }

  :host(:focus-visible) .menu-item {
    outline: none;
    background-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
    opacity: 1;
  }

  .menu-item .menu-item__check,
  .menu-item .menu-item__chevron {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 1.5em;
    visibility: hidden;
  }

  .menu-item--checked .menu-item__check,
  .menu-item--has-submenu .menu-item__chevron {
    visibility: visible;
  }

  /* Add elevation and z-index to submenus */
  sl-popup::part(popup) {
    box-shadow: var(--sl-shadow-large);
    z-index: var(--sl-z-index-dropdown);
    margin-left: var(--submenu-offset);
  }

  .menu-item--rtl sl-popup::part(popup) {
    margin-left: calc(-1 * var(--submenu-offset));
  }

  @media (forced-colors: active) {
    :host(:hover:not([aria-disabled='true'])) .menu-item,
    :host(:focus-visible) .menu-item {
      outline: dashed 1px SelectedItem;
      outline-offset: -1px;
    }
  }

  ::slotted(sl-menu) {
    max-width: var(--auto-size-available-width) !important;
    max-height: var(--auto-size-available-height) !important;
  }
`;const Qs=(t,e)=>{const i=t._$AN;if(void 0===i)return!1;for(const t of i)t._$AO?.(e,!1),Qs(t,e);return!0},Js=t=>{let e,i;do{if(void 0===(e=t._$AM))break;i=e._$AN,i.delete(t),t=e}while(0===i?.size)},ta=t=>{for(let e;e=t._$AM;t=e){let i=e._$AN;if(void 0===i)e._$AN=i=new Set;else if(i.has(t))break;i.add(t),ra(e)}};function ea(t){void 0!==this._$AN?(Js(this),this._$AM=t,ta(this)):this._$AM=t}function ia(t,e=!1,i=0){const r=this._$AH,s=this._$AN;if(void 0!==s&&0!==s.size)if(e)if(Array.isArray(r))for(let t=i;t<r.length;t++)Qs(r[t],!1),Js(r[t]);else null!=r&&(Qs(r,!1),Js(r));else Qs(this,t)}const ra=t=>{2==t.type&&(t._$AP??=ia,t._$AQ??=ea)};class sa extends ve{constructor(){super(...arguments),this._$AN=void 0}_$AT(t,e,i){super._$AT(t,e,i),ta(this),this.isConnected=t._$AU}_$AO(t,e=!0){t!==this.isConnected&&(this.isConnected=t,t?this.reconnected?.():this.disconnected?.()),e&&(Qs(this,t),Js(this))}setValue(t){if(de(this._$Ct))this._$Ct._$AI(t,this);else{const e=[...this._$Ct._$AH];e[this._$Ci]=t,this._$Ct._$AI(e,this,0)}}disconnected(){}reconnected(){}}class aa{}const na=new WeakMap,oa=ye(class extends sa{render(t){return wt}update(t,[e]){const i=e!==this.G;return i&&void 0!==this.G&&this.rt(void 0),(i||this.lt!==this.ct)&&(this.G=e,this.ht=t.options?.host,this.rt(this.ct=t.element)),wt}rt(t){if(this.isConnected||(t=void 0),"function"==typeof this.G){const e=this.ht??globalThis;let i=na.get(e);void 0===i&&(i=new WeakMap,na.set(e,i)),void 0!==i.get(this.G)&&this.G.call(this.ht,void 0),i.set(this.G,t),void 0!==t&&this.G.call(this.ht,t)}else this.G.value=t}get lt(){return"function"==typeof this.G?na.get(this.ht??globalThis)?.get(this.G):this.G?.value}disconnected(){this.lt===this.ct&&this.rt(void 0)}reconnected(){this.rt(this.ct)}});var la=class{constructor(t,e){this.popupRef=new aa,this.enableSubmenuTimer=-1,this.isConnected=!1,this.isPopupConnected=!1,this.skidding=0,this.submenuOpenDelay=100,this.handleMouseMove=t=>{this.host.style.setProperty("--safe-triangle-cursor-x",`${t.clientX}px`),this.host.style.setProperty("--safe-triangle-cursor-y",`${t.clientY}px`)},this.handleMouseOver=()=>{this.hasSlotController.test("submenu")&&this.enableSubmenu()},this.handleKeyDown=t=>{switch(t.key){case"Escape":case"Tab":this.disableSubmenu();break;case"ArrowLeft":t.target!==this.host&&(t.preventDefault(),t.stopPropagation(),this.host.focus(),this.disableSubmenu());break;case"ArrowRight":case"Enter":case" ":this.handleSubmenuEntry(t)}},this.handleClick=t=>{var e;t.target===this.host?(t.preventDefault(),t.stopPropagation()):t.target instanceof Element&&("sl-menu-item"===t.target.tagName||(null==(e=t.target.role)?void 0:e.startsWith("menuitem")))&&this.disableSubmenu()},this.handleFocusOut=t=>{t.relatedTarget&&t.relatedTarget instanceof Element&&this.host.contains(t.relatedTarget)||this.disableSubmenu()},this.handlePopupMouseover=t=>{t.stopPropagation()},this.handlePopupReposition=()=>{const t=this.host.renderRoot.querySelector("slot[name='submenu']"),e=null==t?void 0:t.assignedElements({flatten:!0}).filter(t=>"sl-menu"===t.localName)[0],i="rtl"===getComputedStyle(this.host).direction;if(!e)return;const{left:r,top:s,width:a,height:n}=e.getBoundingClientRect();this.host.style.setProperty("--safe-triangle-submenu-start-x",`${i?r+a:r}px`),this.host.style.setProperty("--safe-triangle-submenu-start-y",`${s}px`),this.host.style.setProperty("--safe-triangle-submenu-end-x",`${i?r+a:r}px`),this.host.style.setProperty("--safe-triangle-submenu-end-y",`${s+n}px`)},(this.host=t).addController(this),this.hasSlotController=e}hostConnected(){this.hasSlotController.test("submenu")&&!this.host.disabled&&this.addListeners()}hostDisconnected(){this.removeListeners()}hostUpdated(){this.hasSlotController.test("submenu")&&!this.host.disabled?(this.addListeners(),this.updateSkidding()):this.removeListeners()}addListeners(){this.isConnected||(this.host.addEventListener("mousemove",this.handleMouseMove),this.host.addEventListener("mouseover",this.handleMouseOver),this.host.addEventListener("keydown",this.handleKeyDown),this.host.addEventListener("click",this.handleClick),this.host.addEventListener("focusout",this.handleFocusOut),this.isConnected=!0),this.isPopupConnected||this.popupRef.value&&(this.popupRef.value.addEventListener("mouseover",this.handlePopupMouseover),this.popupRef.value.addEventListener("sl-reposition",this.handlePopupReposition),this.isPopupConnected=!0)}removeListeners(){this.isConnected&&(this.host.removeEventListener("mousemove",this.handleMouseMove),this.host.removeEventListener("mouseover",this.handleMouseOver),this.host.removeEventListener("keydown",this.handleKeyDown),this.host.removeEventListener("click",this.handleClick),this.host.removeEventListener("focusout",this.handleFocusOut),this.isConnected=!1),this.isPopupConnected&&this.popupRef.value&&(this.popupRef.value.removeEventListener("mouseover",this.handlePopupMouseover),this.popupRef.value.removeEventListener("sl-reposition",this.handlePopupReposition),this.isPopupConnected=!1)}handleSubmenuEntry(t){const e=this.host.renderRoot.querySelector("slot[name='submenu']");if(!e)return void console.error("Cannot activate a submenu if no corresponding menuitem can be found.",this);let i=null;for(const t of e.assignedElements())if(i=t.querySelectorAll("sl-menu-item, [role^='menuitem']"),0!==i.length)break;if(i&&0!==i.length){i[0].setAttribute("tabindex","0");for(let t=1;t!==i.length;++t)i[t].setAttribute("tabindex","-1");this.popupRef.value&&(t.preventDefault(),t.stopPropagation(),this.popupRef.value.active?i[0]instanceof HTMLElement&&i[0].focus():(this.enableSubmenu(!1),this.host.updateComplete.then(()=>{i[0]instanceof HTMLElement&&i[0].focus()}),this.host.requestUpdate()))}}setSubmenuState(t){this.popupRef.value&&this.popupRef.value.active!==t&&(this.popupRef.value.active=t,this.host.requestUpdate())}enableSubmenu(t=!0){t?(window.clearTimeout(this.enableSubmenuTimer),this.enableSubmenuTimer=window.setTimeout(()=>{this.setSubmenuState(!0)},this.submenuOpenDelay)):this.setSubmenuState(!0)}disableSubmenu(){window.clearTimeout(this.enableSubmenuTimer),this.setSubmenuState(!1)}updateSkidding(){var t;if(!(null==(t=this.host.parentElement)?void 0:t.computedStyleMap))return;const e=this.host.parentElement.computedStyleMap(),i=["padding-top","border-top-width","margin-top"].reduce((t,i)=>{var r;const s=null!=(r=e.get(i))?r:new CSSUnitValue(0,"px");return t-(s instanceof CSSUnitValue?s:new CSSUnitValue(0,"px")).to("px").value},0);this.skidding=i}isExpanded(){return!!this.popupRef.value&&this.popupRef.value.active}renderSubmenu(){const t="rtl"===getComputedStyle(this.host).direction;return this.isConnected?bt`
      <sl-popup
        ${oa(this.popupRef)}
        placement=${t?"left-start":"right-start"}
        anchor="anchor"
        flip
        flip-fallback-strategy="best-fit"
        skidding="${this.skidding}"
        strategy="fixed"
        auto-size="vertical"
        auto-size-padding="10"
      >
        <slot name="submenu"></slot>
      </sl-popup>
    `:bt` <slot name="submenu" hidden></slot> `}},ha=class extends he{constructor(){super(...arguments),this.localize=new ze(this),this.type="normal",this.checked=!1,this.value="",this.loading=!1,this.disabled=!1,this.hasSlotController=new Yt(this,"submenu"),this.submenuController=new la(this,this.hasSlotController),this.handleHostClick=t=>{this.disabled&&(t.preventDefault(),t.stopImmediatePropagation())},this.handleMouseOver=t=>{this.focus(),t.stopPropagation()}}connectedCallback(){super.connectedCallback(),this.addEventListener("click",this.handleHostClick),this.addEventListener("mouseover",this.handleMouseOver)}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("click",this.handleHostClick),this.removeEventListener("mouseover",this.handleMouseOver)}handleDefaultSlotChange(){const t=this.getTextLabel();void 0!==this.cachedTextLabel?t!==this.cachedTextLabel&&(this.cachedTextLabel=t,this.emit("slotchange",{bubbles:!0,composed:!1,cancelable:!1})):this.cachedTextLabel=t}handleCheckedChange(){if(this.checked&&"checkbox"!==this.type)return this.checked=!1,void console.error('The checked attribute can only be used on menu items with type="checkbox"',this);"checkbox"===this.type?this.setAttribute("aria-checked",this.checked?"true":"false"):this.removeAttribute("aria-checked")}handleDisabledChange(){this.setAttribute("aria-disabled",this.disabled?"true":"false")}handleTypeChange(){"checkbox"===this.type?(this.setAttribute("role","menuitemcheckbox"),this.setAttribute("aria-checked",this.checked?"true":"false")):(this.setAttribute("role","menuitem"),this.removeAttribute("aria-checked"))}getTextLabel(){return function(t){if(!t)return"";const e=t.assignedNodes({flatten:!0});let i="";return[...e].forEach(t=>{t.nodeType===Node.TEXT_NODE&&(i+=t.textContent)}),i}(this.defaultSlot)}isSubmenu(){return this.hasSlotController.test("submenu")}render(){const t="rtl"===this.localize.dir(),e=this.submenuController.isExpanded();return bt`
      <div
        id="anchor"
        part="base"
        class=${xe({"menu-item":!0,"menu-item--rtl":t,"menu-item--checked":this.checked,"menu-item--disabled":this.disabled,"menu-item--loading":this.loading,"menu-item--has-submenu":this.isSubmenu(),"menu-item--submenu-expanded":e})}
        ?aria-haspopup="${this.isSubmenu()}"
        ?aria-expanded="${!!e}"
      >
        <span part="checked-icon" class="menu-item__check">
          <sl-icon name="check" library="system" aria-hidden="true"></sl-icon>
        </span>

        <slot name="prefix" part="prefix" class="menu-item__prefix"></slot>

        <slot part="label" class="menu-item__label" @slotchange=${this.handleDefaultSlotChange}></slot>

        <slot name="suffix" part="suffix" class="menu-item__suffix"></slot>

        <span part="submenu-icon" class="menu-item__chevron">
          <sl-icon name=${t?"chevron-left":"chevron-right"} library="system" aria-hidden="true"></sl-icon>
        </span>

        ${this.submenuController.renderSubmenu()}
        ${this.loading?bt` <sl-spinner part="spinner" exportparts="base:spinner__base"></sl-spinner> `:""}
      </div>
    `}};ha.styles=[te,Zs],ha.dependencies={"sl-icon":be,"sl-popup":xr,"sl-spinner":Fe},f([oe("slot:not([name])")],ha.prototype,"defaultSlot",2),f([oe(".menu-item")],ha.prototype,"menuItem",2),f([re()],ha.prototype,"type",2),f([re({type:Boolean,reflect:!0})],ha.prototype,"checked",2),f([re()],ha.prototype,"value",2),f([re({type:Boolean,reflect:!0})],ha.prototype,"loading",2),f([re({type:Boolean,reflect:!0})],ha.prototype,"disabled",2),f([Jt("checked")],ha.prototype,"handleCheckedChange",1),f([Jt("disabled")],ha.prototype,"handleDisabledChange",1),f([Jt("type")],ha.prototype,"handleTypeChange",1),ha.define("sl-menu-item");var ca=I`
  :host {
    --divider-width: 2px;
    --handle-size: 2.5rem;

    display: inline-block;
    position: relative;
  }

  .image-comparer {
    max-width: 100%;
    max-height: 100%;
    overflow: hidden;
  }

  .image-comparer__before,
  .image-comparer__after {
    display: block;
    pointer-events: none;
  }

  .image-comparer__before::slotted(img),
  .image-comparer__after::slotted(img),
  .image-comparer__before::slotted(svg),
  .image-comparer__after::slotted(svg) {
    display: block;
    max-width: 100% !important;
    height: auto;
  }

  .image-comparer__after {
    position: absolute;
    top: 0;
    left: 0;
    height: 100%;
    width: 100%;
  }

  .image-comparer__divider {
    display: flex;
    align-items: center;
    justify-content: center;
    position: absolute;
    top: 0;
    width: var(--divider-width);
    height: 100%;
    background-color: var(--sl-color-neutral-0);
    translate: calc(var(--divider-width) / -2);
    cursor: ew-resize;
  }

  .image-comparer__handle {
    display: flex;
    align-items: center;
    justify-content: center;
    position: absolute;
    top: calc(50% - (var(--handle-size) / 2));
    width: var(--handle-size);
    height: var(--handle-size);
    background-color: var(--sl-color-neutral-0);
    border-radius: var(--sl-border-radius-circle);
    font-size: calc(var(--handle-size) * 0.5);
    color: var(--sl-color-neutral-700);
    cursor: inherit;
    z-index: 10;
  }

  .image-comparer__handle:focus-visible {
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }
`,da=class extends he{constructor(){super(...arguments),this.localize=new ze(this),this.position=50}handleDrag(t){const{width:e}=this.base.getBoundingClientRect(),i="rtl"===this.localize.dir();t.preventDefault(),ss(this.base,{onMove:t=>{this.position=parseFloat(Sr(t/e*100,0,100).toFixed(2)),i&&(this.position=100-this.position)},initialEvent:t})}handleKeyDown(t){const e="ltr"===this.localize.dir(),i="rtl"===this.localize.dir();if(["ArrowLeft","ArrowRight","Home","End"].includes(t.key)){const r=t.shiftKey?10:1;let s=this.position;t.preventDefault(),(e&&"ArrowLeft"===t.key||i&&"ArrowRight"===t.key)&&(s-=r),(e&&"ArrowRight"===t.key||i&&"ArrowLeft"===t.key)&&(s+=r),"Home"===t.key&&(s=0),"End"===t.key&&(s=100),s=Sr(s,0,100),this.position=s}}handlePositionChange(){this.emit("sl-change")}render(){const t="rtl"===this.localize.dir();return bt`
      <div
        part="base"
        id="image-comparer"
        class=${xe({"image-comparer":!0,"image-comparer--rtl":t})}
        @keydown=${this.handleKeyDown}
      >
        <div class="image-comparer__image">
          <div part="before" class="image-comparer__before">
            <slot name="before"></slot>
          </div>

          <div
            part="after"
            class="image-comparer__after"
            style=${ys({clipPath:t?`inset(0 0 0 ${100-this.position}%)`:`inset(0 ${100-this.position}% 0 0)`})}
          >
            <slot name="after"></slot>
          </div>
        </div>

        <div
          part="divider"
          class="image-comparer__divider"
          style=${ys({left:t?100-this.position+"%":`${this.position}%`})}
          @mousedown=${this.handleDrag}
          @touchstart=${this.handleDrag}
        >
          <div
            part="handle"
            class="image-comparer__handle"
            role="scrollbar"
            aria-valuenow=${this.position}
            aria-valuemin="0"
            aria-valuemax="100"
            aria-controls="image-comparer"
            tabindex="0"
          >
            <slot name="handle">
              <sl-icon library="system" name="grip-vertical"></sl-icon>
            </slot>
          </div>
        </div>
      </div>
    `}};da.styles=[te,ca],da.scopedElement={"sl-icon":be},f([oe(".image-comparer")],da.prototype,"base",2),f([oe(".image-comparer__handle")],da.prototype,"handle",2),f([re({type:Number,reflect:!0})],da.prototype,"position",2),f([Jt("position",{waitUntilFirstUpdate:!0})],da.prototype,"handlePositionChange",1),da.define("sl-image-comparer");var ua=I`
  :host {
    display: block;
  }
`,pa=new Map,ma=class extends he{constructor(){super(...arguments),this.mode="cors",this.allowScripts=!1}executeScript(t){const e=document.createElement("script");[...t.attributes].forEach(t=>e.setAttribute(t.name,t.value)),e.textContent=t.textContent,t.parentNode.replaceChild(e,t)}async handleSrcChange(){try{const t=this.src,e=await function(t,e="cors"){const i=pa.get(t);if(void 0!==i)return Promise.resolve(i);const r=fetch(t,{mode:e}).then(async e=>{const i={ok:e.ok,status:e.status,html:await e.text()};return pa.set(t,i),i});return pa.set(t,r),r}(t,this.mode);if(t!==this.src)return;if(!e.ok)return void this.emit("sl-error",{detail:{status:e.status}});this.innerHTML=e.html,this.allowScripts&&[...this.querySelectorAll("script")].forEach(t=>this.executeScript(t)),this.emit("sl-load")}catch(t){this.emit("sl-error",{detail:{status:-1}})}}render(){return bt`<slot></slot>`}};ma.styles=[te,ua],f([re()],ma.prototype,"src",2),f([re()],ma.prototype,"mode",2),f([re({attribute:"allow-scripts",type:Boolean})],ma.prototype,"allowScripts",2),f([Jt("src")],ma.prototype,"handleSrcChange",1),ma.define("sl-include"),be.define("sl-icon"),Wr.define("sl-icon-button");var fa=class extends he{constructor(){super(...arguments),this.localize=new ze(this),this.value=0,this.unit="byte",this.display="short"}render(){if(isNaN(this.value))return"";const t="bit"===this.unit?["","kilo","mega","giga","tera"]:["","kilo","mega","giga","tera","peta"],e=Math.max(0,Math.min(Math.floor(Math.log10(this.value)/3),t.length-1)),i=t[e]+this.unit,r=parseFloat((this.value/Math.pow(1e3,e)).toPrecision(3));return this.localize.number(r,{style:"unit",unit:i,unitDisplay:this.display})}};f([re({type:Number})],fa.prototype,"value",2),f([re()],fa.prototype,"unit",2),f([re()],fa.prototype,"display",2),fa.define("sl-format-bytes");var ga=class extends he{constructor(){super(...arguments),this.localize=new ze(this),this.date=new Date,this.hourFormat="auto"}render(){const t=new Date(this.date),e="auto"===this.hourFormat?void 0:"12"===this.hourFormat;if(!isNaN(t.getMilliseconds()))return bt`
      <time datetime=${t.toISOString()}>
        ${this.localize.date(t,{weekday:this.weekday,era:this.era,year:this.year,month:this.month,day:this.day,hour:this.hour,minute:this.minute,second:this.second,timeZoneName:this.timeZoneName,timeZone:this.timeZone,hour12:e})}
      </time>
    `}};f([re()],ga.prototype,"date",2),f([re()],ga.prototype,"weekday",2),f([re()],ga.prototype,"era",2),f([re()],ga.prototype,"year",2),f([re()],ga.prototype,"month",2),f([re()],ga.prototype,"day",2),f([re()],ga.prototype,"hour",2),f([re()],ga.prototype,"minute",2),f([re()],ga.prototype,"second",2),f([re({attribute:"time-zone-name"})],ga.prototype,"timeZoneName",2),f([re({attribute:"time-zone"})],ga.prototype,"timeZone",2),f([re({attribute:"hour-format"})],ga.prototype,"hourFormat",2),ga.define("sl-format-date");var ba=class extends he{constructor(){super(...arguments),this.localize=new ze(this),this.value=0,this.type="decimal",this.noGrouping=!1,this.currency="USD",this.currencyDisplay="symbol"}render(){return isNaN(this.value)?"":this.localize.number(this.value,{style:this.type,currency:this.currency,currencyDisplay:this.currencyDisplay,useGrouping:!this.noGrouping,minimumIntegerDigits:this.minimumIntegerDigits,minimumFractionDigits:this.minimumFractionDigits,maximumFractionDigits:this.maximumFractionDigits,minimumSignificantDigits:this.minimumSignificantDigits,maximumSignificantDigits:this.maximumSignificantDigits})}};f([re({type:Number})],ba.prototype,"value",2),f([re()],ba.prototype,"type",2),f([re({attribute:"no-grouping",type:Boolean})],ba.prototype,"noGrouping",2),f([re()],ba.prototype,"currency",2),f([re({attribute:"currency-display"})],ba.prototype,"currencyDisplay",2),f([re({attribute:"minimum-integer-digits",type:Number})],ba.prototype,"minimumIntegerDigits",2),f([re({attribute:"minimum-fraction-digits",type:Number})],ba.prototype,"minimumFractionDigits",2),f([re({attribute:"maximum-fraction-digits",type:Number})],ba.prototype,"maximumFractionDigits",2),f([re({attribute:"minimum-significant-digits",type:Number})],ba.prototype,"minimumSignificantDigits",2),f([re({attribute:"maximum-significant-digits",type:Number})],ba.prototype,"maximumSignificantDigits",2),ba.define("sl-format-number");var ya=I`
  :host {
    --color: var(--sl-panel-border-color);
    --width: var(--sl-panel-border-width);
    --spacing: var(--sl-spacing-medium);
  }

  :host(:not([vertical])) {
    display: block;
    border-top: solid var(--width) var(--color);
    margin: var(--spacing) 0;
  }

  :host([vertical]) {
    display: inline-block;
    height: 100%;
    border-left: solid var(--width) var(--color);
    margin: 0 var(--spacing);
  }
`,va=class extends he{constructor(){super(...arguments),this.vertical=!1}connectedCallback(){super.connectedCallback(),this.setAttribute("role","separator")}handleVerticalChange(){this.setAttribute("aria-orientation",this.vertical?"vertical":"horizontal")}};va.styles=[te,ya],f([re({type:Boolean,reflect:!0})],va.prototype,"vertical",2),f([Jt("vertical")],va.prototype,"handleVerticalChange",1),va.define("sl-divider");var xa=I`
  :host {
    --size: 25rem;
    --header-spacing: var(--sl-spacing-large);
    --body-spacing: var(--sl-spacing-large);
    --footer-spacing: var(--sl-spacing-large);

    display: contents;
  }

  .drawer {
    top: 0;
    inset-inline-start: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    overflow: hidden;
  }

  .drawer--contained {
    position: absolute;
    z-index: initial;
  }

  .drawer--fixed {
    position: fixed;
    z-index: var(--sl-z-index-drawer);
  }

  .drawer__panel {
    position: absolute;
    display: flex;
    flex-direction: column;
    z-index: 2;
    max-width: 100%;
    max-height: 100%;
    background-color: var(--sl-panel-background-color);
    box-shadow: var(--sl-shadow-x-large);
    overflow: auto;
    pointer-events: all;
  }

  .drawer__panel:focus {
    outline: none;
  }

  .drawer--top .drawer__panel {
    top: 0;
    inset-inline-end: auto;
    bottom: auto;
    inset-inline-start: 0;
    width: 100%;
    height: var(--size);
  }

  .drawer--end .drawer__panel {
    top: 0;
    inset-inline-end: 0;
    bottom: auto;
    inset-inline-start: auto;
    width: var(--size);
    height: 100%;
  }

  .drawer--bottom .drawer__panel {
    top: auto;
    inset-inline-end: auto;
    bottom: 0;
    inset-inline-start: 0;
    width: 100%;
    height: var(--size);
  }

  .drawer--start .drawer__panel {
    top: 0;
    inset-inline-end: auto;
    bottom: auto;
    inset-inline-start: 0;
    width: var(--size);
    height: 100%;
  }

  .drawer__header {
    display: flex;
  }

  .drawer__title {
    flex: 1 1 auto;
    font: inherit;
    font-size: var(--sl-font-size-large);
    line-height: var(--sl-line-height-dense);
    padding: var(--header-spacing);
    margin: 0;
  }

  .drawer__header-actions {
    flex-shrink: 0;
    display: flex;
    flex-wrap: wrap;
    justify-content: end;
    gap: var(--sl-spacing-2x-small);
    padding: 0 var(--header-spacing);
  }

  .drawer__header-actions sl-icon-button,
  .drawer__header-actions ::slotted(sl-icon-button) {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    font-size: var(--sl-font-size-medium);
  }

  .drawer__body {
    flex: 1 1 auto;
    display: block;
    padding: var(--body-spacing);
    overflow: auto;
    -webkit-overflow-scrolling: touch;
  }

  .drawer__footer {
    text-align: right;
    padding: var(--footer-spacing);
  }

  .drawer__footer ::slotted(sl-button:not(:last-of-type)) {
    margin-inline-end: var(--sl-spacing-x-small);
  }

  .drawer:not(.drawer--has-footer) .drawer__footer {
    display: none;
  }

  .drawer__overlay {
    display: block;
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    background-color: var(--sl-overlay-background-color);
    pointer-events: all;
  }

  .drawer--contained .drawer__overlay {
    display: none;
  }

  @media (forced-colors: active) {
    .drawer__panel {
      border: solid 1px var(--sl-color-neutral-0);
    }
  }
`;function*wa(t=document.activeElement){var e,i,r,s,a;null!=t&&(yield t,"shadowRoot"in t&&t.shadowRoot&&"closed"!==t.shadowRoot.mode&&(yield*(e=wa(t.shadowRoot.activeElement),r=e[c("asyncIterator")],s=!1,a={},null==r?(r=e[c("iterator")](),i=t=>a[t]=e=>r[t](e)):(r=r.call(e),i=t=>a[t]=e=>{if(s){if(s=!1,"throw"===t)throw e;return e}return s=!0,{done:!1,value:new b(new Promise(i=>{var s=r[t](e);s instanceof Object||d("Object expected"),i(s)}),1)}}),a[c("iterator")]=()=>a,i("next"),"throw"in r?i("throw"):a.throw=t=>{throw t},"return"in r&&i("return"),a)))}function _a(){return[...wa()].pop()}var ka=new WeakMap;function Sa(t){let e=ka.get(t);return e||(e=window.getComputedStyle(t,null),ka.set(t,e)),e}function Ca(t){const e=new WeakMap,i=[];return function r(s){if(s instanceof Element){if(s.hasAttribute("inert")||s.closest("[inert]"))return;if(e.has(s))return;e.set(s,!0),!i.includes(s)&&function(t){const e=t.tagName.toLowerCase(),i=Number(t.getAttribute("tabindex"));if(t.hasAttribute("tabindex")&&(isNaN(i)||i<=-1))return!1;if(t.hasAttribute("disabled"))return!1;if(t.closest("[inert]"))return!1;if("input"===e&&"radio"===t.getAttribute("type")){const e=t.getRootNode(),i=`input[type='radio'][name="${t.getAttribute("name")}"]`,r=e.querySelector(`${i}:checked`);return r?r===t:e.querySelector(i)===t}return!!function(t){if("function"==typeof t.checkVisibility)return t.checkVisibility({checkOpacity:!1,checkVisibilityCSS:!0});const e=Sa(t);return"hidden"!==e.visibility&&"none"!==e.display}(t)&&(!("audio"!==e&&"video"!==e||!t.hasAttribute("controls"))||!!t.hasAttribute("tabindex")||!(!t.hasAttribute("contenteditable")||"false"===t.getAttribute("contenteditable"))||!!["button","input","select","textarea","a","audio","video","summary","iframe"].includes(e)||function(t){const e=Sa(t),{overflowY:i,overflowX:r}=e;return"scroll"===i||"scroll"===r||"auto"===i&&"auto"===r&&(t.scrollHeight>t.clientHeight&&"auto"===i||!(!(t.scrollWidth>t.clientWidth)||"auto"!==r))}(t))}(s)&&i.push(s),s instanceof HTMLSlotElement&&function(t,e){var i;return(null==(i=t.getRootNode({composed:!0}))?void 0:i.host)!==e}(s,t)&&s.assignedElements({flatten:!0}).forEach(t=>{r(t)}),null!==s.shadowRoot&&"open"===s.shadowRoot.mode&&r(s.shadowRoot)}for(const t of s.children)r(t)}(t),i.sort((t,e)=>{const i=Number(t.getAttribute("tabindex"))||0;return(Number(e.getAttribute("tabindex"))||0)-i})}var Aa=[],Ta=class{constructor(t){this.tabDirection="forward",this.handleFocusIn=()=>{this.isActive()&&this.checkFocus()},this.handleKeyDown=t=>{var e;if("Tab"!==t.key||this.isExternalActivated)return;if(!this.isActive())return;const i=_a();if(this.previousFocus=i,this.previousFocus&&this.possiblyHasTabbableChildren(this.previousFocus))return;t.shiftKey?this.tabDirection="backward":this.tabDirection="forward";const r=Ca(this.element);let s=r.findIndex(t=>t===i);this.previousFocus=this.currentFocus;const a="forward"===this.tabDirection?1:-1;for(;;){s+a>=r.length?s=0:s+a<0?s=r.length-1:s+=a,this.previousFocus=this.currentFocus;const i=r[s];if("backward"===this.tabDirection&&this.previousFocus&&this.possiblyHasTabbableChildren(this.previousFocus))return;if(i&&this.possiblyHasTabbableChildren(i))return;t.preventDefault(),this.currentFocus=i,null==(e=this.currentFocus)||e.focus({preventScroll:!1});const n=[...wa()];if(n.includes(this.currentFocus)||!n.includes(this.previousFocus))break}setTimeout(()=>this.checkFocus())},this.handleKeyUp=()=>{this.tabDirection="forward"},this.element=t,this.elementsWithTabbableControls=["iframe"]}activate(){Aa.push(this.element),document.addEventListener("focusin",this.handleFocusIn),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}deactivate(){Aa=Aa.filter(t=>t!==this.element),this.currentFocus=null,document.removeEventListener("focusin",this.handleFocusIn),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)}isActive(){return Aa[Aa.length-1]===this.element}activateExternal(){this.isExternalActivated=!0}deactivateExternal(){this.isExternalActivated=!1}checkFocus(){if(this.isActive()&&!this.isExternalActivated){const t=Ca(this.element);if(!this.element.matches(":focus-within")){const e=t[0],i=t[t.length-1],r="forward"===this.tabDirection?e:i;"function"==typeof(null==r?void 0:r.focus)&&(this.currentFocus=r,r.focus({preventScroll:!1}))}}}possiblyHasTabbableChildren(t){return this.elementsWithTabbableControls.includes(t.tagName.toLowerCase())||t.hasAttribute("controls")}},Ma=t=>{var e;const{activeElement:i}=document;i&&t.contains(i)&&(null==(e=document.activeElement)||e.blur())};function Ba(t){return t.charAt(0).toUpperCase()+t.slice(1)}var Pa=class extends he{constructor(){super(...arguments),this.hasSlotController=new Yt(this,"footer"),this.localize=new ze(this),this.modal=new Ta(this),this.open=!1,this.label="",this.placement="end",this.contained=!1,this.noHeader=!1,this.handleDocumentKeyDown=t=>{this.contained||"Escape"===t.key&&this.modal.isActive()&&this.open&&(t.stopImmediatePropagation(),this.requestClose("keyboard"))}}firstUpdated(){this.drawer.hidden=!this.open,this.open&&(this.addOpenListeners(),this.contained||(this.modal.activate(),Zr(this)))}disconnectedCallback(){super.disconnectedCallback(),Qr(this),this.removeOpenListeners()}requestClose(t){if(this.emit("sl-request-close",{cancelable:!0,detail:{source:t}}).defaultPrevented){const t=He(this,"drawer.denyClose",{dir:this.localize.dir()});return void Ne(this.panel,t.keyframes,t.options)}this.hide()}addOpenListeners(){var t;"CloseWatcher"in window?(null==(t=this.closeWatcher)||t.destroy(),this.contained||(this.closeWatcher=new CloseWatcher,this.closeWatcher.onclose=()=>this.requestClose("keyboard"))):document.addEventListener("keydown",this.handleDocumentKeyDown)}removeOpenListeners(){var t;document.removeEventListener("keydown",this.handleDocumentKeyDown),null==(t=this.closeWatcher)||t.destroy()}async handleOpenChange(){if(this.open){this.emit("sl-show"),this.addOpenListeners(),this.originalTrigger=document.activeElement,this.contained||(this.modal.activate(),Zr(this));const t=this.querySelector("[autofocus]");t&&t.removeAttribute("autofocus"),await Promise.all([Ue(this.drawer),Ue(this.overlay)]),this.drawer.hidden=!1,requestAnimationFrame(()=>{this.emit("sl-initial-focus",{cancelable:!0}).defaultPrevented||(t?t.focus({preventScroll:!0}):this.panel.focus({preventScroll:!0})),t&&t.setAttribute("autofocus","")});const e=He(this,`drawer.show${Ba(this.placement)}`,{dir:this.localize.dir()}),i=He(this,"drawer.overlay.show",{dir:this.localize.dir()});await Promise.all([Ne(this.panel,e.keyframes,e.options),Ne(this.overlay,i.keyframes,i.options)]),this.emit("sl-after-show")}else{Ma(this),this.emit("sl-hide"),this.removeOpenListeners(),this.contained||(this.modal.deactivate(),Qr(this)),await Promise.all([Ue(this.drawer),Ue(this.overlay)]);const t=He(this,`drawer.hide${Ba(this.placement)}`,{dir:this.localize.dir()}),e=He(this,"drawer.overlay.hide",{dir:this.localize.dir()});await Promise.all([Ne(this.overlay,e.keyframes,e.options).then(()=>{this.overlay.hidden=!0}),Ne(this.panel,t.keyframes,t.options).then(()=>{this.panel.hidden=!0})]),this.drawer.hidden=!0,this.overlay.hidden=!1,this.panel.hidden=!1;const i=this.originalTrigger;"function"==typeof(null==i?void 0:i.focus)&&setTimeout(()=>i.focus()),this.emit("sl-after-hide")}}handleNoModalChange(){this.open&&!this.contained&&(this.modal.activate(),Zr(this)),this.open&&this.contained&&(this.modal.deactivate(),Qr(this))}async show(){if(!this.open)return this.open=!0,wr(this,"sl-after-show")}async hide(){if(this.open)return this.open=!1,wr(this,"sl-after-hide")}render(){return bt`
      <div
        part="base"
        class=${xe({drawer:!0,"drawer--open":this.open,"drawer--top":"top"===this.placement,"drawer--end":"end"===this.placement,"drawer--bottom":"bottom"===this.placement,"drawer--start":"start"===this.placement,"drawer--contained":this.contained,"drawer--fixed":!this.contained,"drawer--rtl":"rtl"===this.localize.dir(),"drawer--has-footer":this.hasSlotController.test("footer")})}
      >
        <div part="overlay" class="drawer__overlay" @click=${()=>this.requestClose("overlay")} tabindex="-1"></div>

        <div
          part="panel"
          class="drawer__panel"
          role="dialog"
          aria-modal="true"
          aria-hidden=${this.open?"false":"true"}
          aria-label=${we(this.noHeader?this.label:void 0)}
          aria-labelledby=${we(this.noHeader?void 0:"title")}
          tabindex="0"
        >
          ${this.noHeader?"":bt`
                <header part="header" class="drawer__header">
                  <h2 part="title" class="drawer__title" id="title">
                    <!-- If there's no label, use an invisible character to prevent the header from collapsing -->
                    <slot name="label"> ${this.label.length>0?this.label:String.fromCharCode(65279)} </slot>
                  </h2>
                  <div part="header-actions" class="drawer__header-actions">
                    <slot name="header-actions"></slot>
                    <sl-icon-button
                      part="close-button"
                      exportparts="base:close-button__base"
                      class="drawer__close"
                      name="x-lg"
                      label=${this.localize.term("close")}
                      library="system"
                      @click=${()=>this.requestClose("close-button")}
                    ></sl-icon-button>
                  </div>
                </header>
              `}

          <slot part="body" class="drawer__body"></slot>

          <footer part="footer" class="drawer__footer">
            <slot name="footer"></slot>
          </footer>
        </div>
      </div>
    `}};Pa.styles=[te,xa],Pa.dependencies={"sl-icon-button":Wr},f([oe(".drawer")],Pa.prototype,"drawer",2),f([oe(".drawer__panel")],Pa.prototype,"panel",2),f([oe(".drawer__overlay")],Pa.prototype,"overlay",2),f([re({type:Boolean,reflect:!0})],Pa.prototype,"open",2),f([re({reflect:!0})],Pa.prototype,"label",2),f([re({reflect:!0})],Pa.prototype,"placement",2),f([re({type:Boolean,reflect:!0})],Pa.prototype,"contained",2),f([re({attribute:"no-header",type:Boolean,reflect:!0})],Pa.prototype,"noHeader",2),f([Jt("open",{waitUntilFirstUpdate:!0})],Pa.prototype,"handleOpenChange",1),f([Jt("contained",{waitUntilFirstUpdate:!0})],Pa.prototype,"handleNoModalChange",1),Ve("drawer.showTop",{keyframes:[{opacity:0,translate:"0 -100%"},{opacity:1,translate:"0 0"}],options:{duration:250,easing:"ease"}}),Ve("drawer.hideTop",{keyframes:[{opacity:1,translate:"0 0"},{opacity:0,translate:"0 -100%"}],options:{duration:250,easing:"ease"}}),Ve("drawer.showEnd",{keyframes:[{opacity:0,translate:"100%"},{opacity:1,translate:"0"}],rtlKeyframes:[{opacity:0,translate:"-100%"},{opacity:1,translate:"0"}],options:{duration:250,easing:"ease"}}),Ve("drawer.hideEnd",{keyframes:[{opacity:1,translate:"0"},{opacity:0,translate:"100%"}],rtlKeyframes:[{opacity:1,translate:"0"},{opacity:0,translate:"-100%"}],options:{duration:250,easing:"ease"}}),Ve("drawer.showBottom",{keyframes:[{opacity:0,translate:"0 100%"},{opacity:1,translate:"0 0"}],options:{duration:250,easing:"ease"}}),Ve("drawer.hideBottom",{keyframes:[{opacity:1,translate:"0 0"},{opacity:0,translate:"0 100%"}],options:{duration:250,easing:"ease"}}),Ve("drawer.showStart",{keyframes:[{opacity:0,translate:"-100%"},{opacity:1,translate:"0"}],rtlKeyframes:[{opacity:0,translate:"100%"},{opacity:1,translate:"0"}],options:{duration:250,easing:"ease"}}),Ve("drawer.hideStart",{keyframes:[{opacity:1,translate:"0"},{opacity:0,translate:"-100%"}],rtlKeyframes:[{opacity:1,translate:"0"},{opacity:0,translate:"100%"}],options:{duration:250,easing:"ease"}}),Ve("drawer.denyClose",{keyframes:[{scale:1},{scale:1.01},{scale:1}],options:{duration:250}}),Ve("drawer.overlay.show",{keyframes:[{opacity:0},{opacity:1}],options:{duration:250}}),Ve("drawer.overlay.hide",{keyframes:[{opacity:1},{opacity:0}],options:{duration:250}}),Pa.define("sl-drawer");var Oa=I`
  :host {
    display: inline-block;
  }

  .dropdown::part(popup) {
    z-index: var(--sl-z-index-dropdown);
  }

  .dropdown[data-current-placement^='top']::part(popup) {
    transform-origin: bottom;
  }

  .dropdown[data-current-placement^='bottom']::part(popup) {
    transform-origin: top;
  }

  .dropdown[data-current-placement^='left']::part(popup) {
    transform-origin: right;
  }

  .dropdown[data-current-placement^='right']::part(popup) {
    transform-origin: left;
  }

  .dropdown__trigger {
    display: block;
  }

  .dropdown__panel {
    font-family: var(--sl-font-sans);
    font-size: var(--sl-font-size-medium);
    font-weight: var(--sl-font-weight-normal);
    box-shadow: var(--sl-shadow-large);
    border-radius: var(--sl-border-radius-medium);
    pointer-events: none;
  }

  .dropdown--open .dropdown__panel {
    display: block;
    pointer-events: all;
  }

  /* When users slot a menu, make sure it conforms to the popup's auto-size */
  ::slotted(sl-menu) {
    max-width: var(--auto-size-available-width) !important;
    max-height: var(--auto-size-available-height) !important;
  }
`,Ia=class extends he{constructor(){super(...arguments),this.localize=new ze(this),this.open=!1,this.placement="bottom-start",this.disabled=!1,this.stayOpenOnSelect=!1,this.distance=0,this.skidding=0,this.hoist=!1,this.sync=void 0,this.handleKeyDown=t=>{this.open&&"Escape"===t.key&&(t.stopPropagation(),this.hide(),this.focusOnTrigger())},this.handleDocumentKeyDown=t=>{var e;if("Escape"===t.key&&this.open&&!this.closeWatcher)return t.stopPropagation(),this.focusOnTrigger(),void this.hide();if("Tab"===t.key){if(this.open&&"sl-menu-item"===(null==(e=document.activeElement)?void 0:e.tagName.toLowerCase()))return t.preventDefault(),this.hide(),void this.focusOnTrigger();const i=(t,e)=>{if(!t)return null;const r=t.closest(e);if(r)return r;const s=t.getRootNode();return s instanceof ShadowRoot?i(s.host,e):null};setTimeout(()=>{var t;const e=(null==(t=this.containingElement)?void 0:t.getRootNode())instanceof ShadowRoot?_a():document.activeElement;this.containingElement&&i(e,this.containingElement.tagName.toLowerCase())===this.containingElement||this.hide()})}},this.handleDocumentMouseDown=t=>{const e=t.composedPath();this.containingElement&&!e.includes(this.containingElement)&&this.hide()},this.handlePanelSelect=t=>{const e=t.target;this.stayOpenOnSelect||"sl-menu"!==e.tagName.toLowerCase()||(this.hide(),this.focusOnTrigger())}}connectedCallback(){super.connectedCallback(),this.containingElement||(this.containingElement=this)}firstUpdated(){this.panel.hidden=!this.open,this.open&&(this.addOpenListeners(),this.popup.active=!0)}disconnectedCallback(){super.disconnectedCallback(),this.removeOpenListeners(),this.hide()}focusOnTrigger(){const t=this.trigger.assignedElements({flatten:!0})[0];"function"==typeof(null==t?void 0:t.focus)&&t.focus()}getMenu(){return this.panel.assignedElements({flatten:!0}).find(t=>"sl-menu"===t.tagName.toLowerCase())}handleTriggerClick(){this.open?this.hide():(this.show(),this.focusOnTrigger())}async handleTriggerKeyDown(t){if([" ","Enter"].includes(t.key))return t.preventDefault(),void this.handleTriggerClick();const e=this.getMenu();if(e){const i=e.getAllItems(),r=i[0],s=i[i.length-1];["ArrowDown","ArrowUp","Home","End"].includes(t.key)&&(t.preventDefault(),this.open||(this.show(),await this.updateComplete),i.length>0&&this.updateComplete.then(()=>{"ArrowDown"!==t.key&&"Home"!==t.key||(e.setCurrentItem(r),r.focus()),"ArrowUp"!==t.key&&"End"!==t.key||(e.setCurrentItem(s),s.focus())}))}}handleTriggerKeyUp(t){" "===t.key&&t.preventDefault()}handleTriggerSlotChange(){this.updateAccessibleTrigger()}updateAccessibleTrigger(){const t=this.trigger.assignedElements({flatten:!0}).find(t=>function(t){var e,i;const r=Ca(t);return{start:null!=(e=r[0])?e:null,end:null!=(i=r[r.length-1])?i:null}}(t).start);let e;if(t){switch(t.tagName.toLowerCase()){case"sl-button":case"sl-icon-button":e=t.button;break;default:e=t}e.setAttribute("aria-haspopup","true"),e.setAttribute("aria-expanded",this.open?"true":"false")}}async show(){if(!this.open)return this.open=!0,wr(this,"sl-after-show")}async hide(){if(this.open)return this.open=!1,wr(this,"sl-after-hide")}reposition(){this.popup.reposition()}addOpenListeners(){var t;this.panel.addEventListener("sl-select",this.handlePanelSelect),"CloseWatcher"in window?(null==(t=this.closeWatcher)||t.destroy(),this.closeWatcher=new CloseWatcher,this.closeWatcher.onclose=()=>{this.hide(),this.focusOnTrigger()}):this.panel.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keydown",this.handleDocumentKeyDown),document.addEventListener("mousedown",this.handleDocumentMouseDown)}removeOpenListeners(){var t;this.panel&&(this.panel.removeEventListener("sl-select",this.handlePanelSelect),this.panel.removeEventListener("keydown",this.handleKeyDown)),document.removeEventListener("keydown",this.handleDocumentKeyDown),document.removeEventListener("mousedown",this.handleDocumentMouseDown),null==(t=this.closeWatcher)||t.destroy()}async handleOpenChange(){if(this.disabled)this.open=!1;else if(this.updateAccessibleTrigger(),this.open){this.emit("sl-show"),this.addOpenListeners(),await Ue(this),this.panel.hidden=!1,this.popup.active=!0;const{keyframes:t,options:e}=He(this,"dropdown.show",{dir:this.localize.dir()});await Ne(this.popup.popup,t,e),this.emit("sl-after-show")}else{this.emit("sl-hide"),this.removeOpenListeners(),await Ue(this);const{keyframes:t,options:e}=He(this,"dropdown.hide",{dir:this.localize.dir()});await Ne(this.popup.popup,t,e),this.panel.hidden=!0,this.popup.active=!1,this.emit("sl-after-hide")}}render(){return bt`
      <sl-popup
        part="base"
        exportparts="popup:base__popup"
        id="dropdown"
        placement=${this.placement}
        distance=${this.distance}
        skidding=${this.skidding}
        strategy=${this.hoist?"fixed":"absolute"}
        flip
        shift
        auto-size="vertical"
        auto-size-padding="10"
        sync=${we(this.sync?this.sync:void 0)}
        class=${xe({dropdown:!0,"dropdown--open":this.open})}
      >
        <slot
          name="trigger"
          slot="anchor"
          part="trigger"
          class="dropdown__trigger"
          @click=${this.handleTriggerClick}
          @keydown=${this.handleTriggerKeyDown}
          @keyup=${this.handleTriggerKeyUp}
          @slotchange=${this.handleTriggerSlotChange}
        ></slot>

        <div aria-hidden=${this.open?"false":"true"} aria-labelledby="dropdown">
          <slot part="panel" class="dropdown__panel"></slot>
        </div>
      </sl-popup>
    `}};Ia.styles=[te,Oa],Ia.dependencies={"sl-popup":xr},f([oe(".dropdown")],Ia.prototype,"popup",2),f([oe(".dropdown__trigger")],Ia.prototype,"trigger",2),f([oe(".dropdown__panel")],Ia.prototype,"panel",2),f([re({type:Boolean,reflect:!0})],Ia.prototype,"open",2),f([re({reflect:!0})],Ia.prototype,"placement",2),f([re({type:Boolean,reflect:!0})],Ia.prototype,"disabled",2),f([re({attribute:"stay-open-on-select",type:Boolean,reflect:!0})],Ia.prototype,"stayOpenOnSelect",2),f([re({attribute:!1})],Ia.prototype,"containingElement",2),f([re({type:Number})],Ia.prototype,"distance",2),f([re({type:Number})],Ia.prototype,"skidding",2),f([re({type:Boolean})],Ia.prototype,"hoist",2),f([re({reflect:!0})],Ia.prototype,"sync",2),f([Jt("open",{waitUntilFirstUpdate:!0})],Ia.prototype,"handleOpenChange",1),Ve("dropdown.show",{keyframes:[{opacity:0,scale:.9},{opacity:1,scale:1}],options:{duration:100,easing:"ease"}}),Ve("dropdown.hide",{keyframes:[{opacity:1,scale:1},{opacity:0,scale:.9}],options:{duration:100,easing:"ease"}}),Ia.define("sl-dropdown");var Ea=I`
  :host {
    --error-color: var(--sl-color-danger-600);
    --success-color: var(--sl-color-success-600);

    display: inline-block;
  }

  .copy-button__button {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    background: none;
    border: none;
    border-radius: var(--sl-border-radius-medium);
    font-size: inherit;
    color: inherit;
    padding: var(--sl-spacing-x-small);
    cursor: pointer;
    transition: var(--sl-transition-x-fast) color;
  }

  .copy-button--success .copy-button__button {
    color: var(--success-color);
  }

  .copy-button--error .copy-button__button {
    color: var(--error-color);
  }

  .copy-button__button:focus-visible {
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  .copy-button__button[disabled] {
    opacity: 0.5;
    cursor: not-allowed !important;
  }

  slot {
    display: inline-flex;
  }
`,$a=class extends he{constructor(){super(...arguments),this.localize=new ze(this),this.isCopying=!1,this.status="rest",this.value="",this.from="",this.disabled=!1,this.copyLabel="",this.successLabel="",this.errorLabel="",this.feedbackDuration=1e3,this.tooltipPlacement="top",this.hoist=!1}async handleCopy(){if(this.disabled||this.isCopying)return;this.isCopying=!0;let t=this.value;if(this.from){const e=this.getRootNode(),i=this.from.includes("."),r=this.from.includes("[")&&this.from.includes("]");let s=this.from,a="";i?[s,a]=this.from.trim().split("."):r&&([s,a]=this.from.trim().replace(/\]$/,"").split("["));const n="getElementById"in e?e.getElementById(s):null;n?t=r?n.getAttribute(a)||"":i?n[a]||"":n.textContent||"":(this.showStatus("error"),this.emit("sl-error"))}if(t)try{await navigator.clipboard.writeText(t),this.showStatus("success"),this.emit("sl-copy",{detail:{value:t}})}catch(t){this.showStatus("error"),this.emit("sl-error")}else this.showStatus("error"),this.emit("sl-error")}async showStatus(t){const e=this.copyLabel||this.localize.term("copy"),i=this.successLabel||this.localize.term("copied"),r=this.errorLabel||this.localize.term("error"),s="success"===t?this.successIcon:this.errorIcon,a=He(this,"copy.in",{dir:"ltr"}),n=He(this,"copy.out",{dir:"ltr"});this.tooltip.content="success"===t?i:r,await this.copyIcon.animate(n.keyframes,n.options).finished,this.copyIcon.hidden=!0,this.status=t,s.hidden=!1,await s.animate(a.keyframes,a.options).finished,setTimeout(async()=>{await s.animate(n.keyframes,n.options).finished,s.hidden=!0,this.status="rest",this.copyIcon.hidden=!1,await this.copyIcon.animate(a.keyframes,a.options).finished,this.tooltip.content=e,this.isCopying=!1},this.feedbackDuration)}render(){const t=this.copyLabel||this.localize.term("copy");return bt`
      <sl-tooltip
        class=${xe({"copy-button":!0,"copy-button--success":"success"===this.status,"copy-button--error":"error"===this.status})}
        content=${t}
        placement=${this.tooltipPlacement}
        ?disabled=${this.disabled}
        ?hoist=${this.hoist}
        exportparts="
          base:tooltip__base,
          base__popup:tooltip__base__popup,
          base__arrow:tooltip__base__arrow,
          body:tooltip__body
        "
      >
        <button
          class="copy-button__button"
          part="button"
          type="button"
          ?disabled=${this.disabled}
          @click=${this.handleCopy}
        >
          <slot part="copy-icon" name="copy-icon">
            <sl-icon library="system" name="copy"></sl-icon>
          </slot>
          <slot part="success-icon" name="success-icon" hidden>
            <sl-icon library="system" name="check"></sl-icon>
          </slot>
          <slot part="error-icon" name="error-icon" hidden>
            <sl-icon library="system" name="x-lg"></sl-icon>
          </slot>
        </button>
      </sl-tooltip>
    `}};$a.styles=[te,Ea],$a.dependencies={"sl-icon":be,"sl-tooltip":_r},f([oe('slot[name="copy-icon"]')],$a.prototype,"copyIcon",2),f([oe('slot[name="success-icon"]')],$a.prototype,"successIcon",2),f([oe('slot[name="error-icon"]')],$a.prototype,"errorIcon",2),f([oe("sl-tooltip")],$a.prototype,"tooltip",2),f([se()],$a.prototype,"isCopying",2),f([se()],$a.prototype,"status",2),f([re()],$a.prototype,"value",2),f([re()],$a.prototype,"from",2),f([re({type:Boolean,reflect:!0})],$a.prototype,"disabled",2),f([re({attribute:"copy-label"})],$a.prototype,"copyLabel",2),f([re({attribute:"success-label"})],$a.prototype,"successLabel",2),f([re({attribute:"error-label"})],$a.prototype,"errorLabel",2),f([re({attribute:"feedback-duration",type:Number})],$a.prototype,"feedbackDuration",2),f([re({attribute:"tooltip-placement"})],$a.prototype,"tooltipPlacement",2),f([re({type:Boolean})],$a.prototype,"hoist",2),Ve("copy.in",{keyframes:[{scale:".25",opacity:".25"},{scale:"1",opacity:"1"}],options:{duration:100}}),Ve("copy.out",{keyframes:[{scale:"1",opacity:"1"},{scale:".25",opacity:"0"}],options:{duration:100}}),$a.define("sl-copy-button");var Ra=I`
  :host {
    display: block;
  }

  .details {
    border: solid 1px var(--sl-color-neutral-200);
    border-radius: var(--sl-border-radius-medium);
    background-color: var(--sl-color-neutral-0);
    overflow-anchor: none;
  }

  .details--disabled {
    opacity: 0.5;
  }

  .details__header {
    display: flex;
    align-items: center;
    border-radius: inherit;
    padding: var(--sl-spacing-medium);
    user-select: none;
    -webkit-user-select: none;
    cursor: pointer;
  }

  .details__header::-webkit-details-marker {
    display: none;
  }

  .details__header:focus {
    outline: none;
  }

  .details__header:focus-visible {
    outline: var(--sl-focus-ring);
    outline-offset: calc(1px + var(--sl-focus-ring-offset));
  }

  .details--disabled .details__header {
    cursor: not-allowed;
  }

  .details--disabled .details__header:focus-visible {
    outline: none;
    box-shadow: none;
  }

  .details__summary {
    flex: 1 1 auto;
    display: flex;
    align-items: center;
  }

  .details__summary-icon {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    transition: var(--sl-transition-medium) rotate ease;
  }

  .details--open .details__summary-icon {
    rotate: 90deg;
  }

  .details--open.details--rtl .details__summary-icon {
    rotate: -90deg;
  }

  .details--open slot[name='expand-icon'],
  .details:not(.details--open) slot[name='collapse-icon'] {
    display: none;
  }

  .details__body {
    overflow: hidden;
  }

  .details__content {
    display: block;
    padding: var(--sl-spacing-medium);
  }
`,za=class extends he{constructor(){super(...arguments),this.localize=new ze(this),this.open=!1,this.disabled=!1}firstUpdated(){this.body.style.height=this.open?"auto":"0",this.open&&(this.details.open=!0),this.detailsObserver=new MutationObserver(t=>{for(const e of t)"attributes"===e.type&&"open"===e.attributeName&&(this.details.open?this.show():this.hide())}),this.detailsObserver.observe(this.details,{attributes:!0})}disconnectedCallback(){var t;super.disconnectedCallback(),null==(t=this.detailsObserver)||t.disconnect()}handleSummaryClick(t){t.preventDefault(),this.disabled||(this.open?this.hide():this.show(),this.header.focus())}handleSummaryKeyDown(t){"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),this.open?this.hide():this.show()),"ArrowUp"!==t.key&&"ArrowLeft"!==t.key||(t.preventDefault(),this.hide()),"ArrowDown"!==t.key&&"ArrowRight"!==t.key||(t.preventDefault(),this.show())}async handleOpenChange(){if(this.open){if(this.details.open=!0,this.emit("sl-show",{cancelable:!0}).defaultPrevented)return this.open=!1,void(this.details.open=!1);await Ue(this.body);const{keyframes:t,options:e}=He(this,"details.show",{dir:this.localize.dir()});await Ne(this.body,Ge(t,this.body.scrollHeight),e),this.body.style.height="auto",this.emit("sl-after-show")}else{if(this.emit("sl-hide",{cancelable:!0}).defaultPrevented)return this.details.open=!0,void(this.open=!0);await Ue(this.body);const{keyframes:t,options:e}=He(this,"details.hide",{dir:this.localize.dir()});await Ne(this.body,Ge(t,this.body.scrollHeight),e),this.body.style.height="auto",this.details.open=!1,this.emit("sl-after-hide")}}async show(){if(!this.open&&!this.disabled)return this.open=!0,wr(this,"sl-after-show")}async hide(){if(this.open&&!this.disabled)return this.open=!1,wr(this,"sl-after-hide")}render(){const t="rtl"===this.localize.dir();return bt`
      <details
        part="base"
        class=${xe({details:!0,"details--open":this.open,"details--disabled":this.disabled,"details--rtl":t})}
      >
        <summary
          part="header"
          id="header"
          class="details__header"
          role="button"
          aria-expanded=${this.open?"true":"false"}
          aria-controls="content"
          aria-disabled=${this.disabled?"true":"false"}
          tabindex=${this.disabled?"-1":"0"}
          @click=${this.handleSummaryClick}
          @keydown=${this.handleSummaryKeyDown}
        >
          <slot name="summary" part="summary" class="details__summary">${this.summary}</slot>

          <span part="summary-icon" class="details__summary-icon">
            <slot name="expand-icon">
              <sl-icon library="system" name=${t?"chevron-left":"chevron-right"}></sl-icon>
            </slot>
            <slot name="collapse-icon">
              <sl-icon library="system" name=${t?"chevron-left":"chevron-right"}></sl-icon>
            </slot>
          </span>
        </summary>

        <div class="details__body" role="region" aria-labelledby="header">
          <slot part="content" id="content" class="details__content"></slot>
        </div>
      </details>
    `}};za.styles=[te,Ra],za.dependencies={"sl-icon":be},f([oe(".details")],za.prototype,"details",2),f([oe(".details__header")],za.prototype,"header",2),f([oe(".details__body")],za.prototype,"body",2),f([oe(".details__expand-icon-slot")],za.prototype,"expandIconSlot",2),f([re({type:Boolean,reflect:!0})],za.prototype,"open",2),f([re()],za.prototype,"summary",2),f([re({type:Boolean,reflect:!0})],za.prototype,"disabled",2),f([Jt("open",{waitUntilFirstUpdate:!0})],za.prototype,"handleOpenChange",1),Ve("details.show",{keyframes:[{height:"0",opacity:"0"},{height:"auto",opacity:"1"}],options:{duration:250,easing:"linear"}}),Ve("details.hide",{keyframes:[{height:"auto",opacity:"1"},{height:"0",opacity:"0"}],options:{duration:250,easing:"linear"}}),za.define("sl-details");var Fa=I`
  :host {
    --width: 31rem;
    --header-spacing: var(--sl-spacing-large);
    --body-spacing: var(--sl-spacing-large);
    --footer-spacing: var(--sl-spacing-large);

    display: contents;
  }

  .dialog {
    display: flex;
    align-items: center;
    justify-content: center;
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    z-index: var(--sl-z-index-dialog);
  }

  .dialog__panel {
    display: flex;
    flex-direction: column;
    z-index: 2;
    width: var(--width);
    max-width: calc(100% - var(--sl-spacing-2x-large));
    max-height: calc(100% - var(--sl-spacing-2x-large));
    background-color: var(--sl-panel-background-color);
    border-radius: var(--sl-border-radius-medium);
    box-shadow: var(--sl-shadow-x-large);
  }

  .dialog__panel:focus {
    outline: none;
  }

  /* Ensure there's enough vertical padding for phones that don't update vh when chrome appears (e.g. iPhone) */
  @media screen and (max-width: 420px) {
    .dialog__panel {
      max-height: 80vh;
    }
  }

  .dialog--open .dialog__panel {
    display: flex;
    opacity: 1;
  }

  .dialog__header {
    flex: 0 0 auto;
    display: flex;
  }

  .dialog__title {
    flex: 1 1 auto;
    font: inherit;
    font-size: var(--sl-font-size-large);
    line-height: var(--sl-line-height-dense);
    padding: var(--header-spacing);
    margin: 0;
  }

  .dialog__header-actions {
    flex-shrink: 0;
    display: flex;
    flex-wrap: wrap;
    justify-content: end;
    gap: var(--sl-spacing-2x-small);
    padding: 0 var(--header-spacing);
  }

  .dialog__header-actions sl-icon-button,
  .dialog__header-actions ::slotted(sl-icon-button) {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    font-size: var(--sl-font-size-medium);
  }

  .dialog__body {
    flex: 1 1 auto;
    display: block;
    padding: var(--body-spacing);
    overflow: auto;
    -webkit-overflow-scrolling: touch;
  }

  .dialog__footer {
    flex: 0 0 auto;
    text-align: right;
    padding: var(--footer-spacing);
  }

  .dialog__footer ::slotted(sl-button:not(:first-of-type)) {
    margin-inline-start: var(--sl-spacing-x-small);
  }

  .dialog:not(.dialog--has-footer) .dialog__footer {
    display: none;
  }

  .dialog__overlay {
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    background-color: var(--sl-overlay-background-color);
  }

  @media (forced-colors: active) {
    .dialog__panel {
      border: solid 1px var(--sl-color-neutral-0);
    }
  }
`,La=class extends he{constructor(){super(...arguments),this.hasSlotController=new Yt(this,"footer"),this.localize=new ze(this),this.modal=new Ta(this),this.open=!1,this.label="",this.noHeader=!1,this.handleDocumentKeyDown=t=>{"Escape"===t.key&&this.modal.isActive()&&this.open&&(t.stopPropagation(),this.requestClose("keyboard"))}}firstUpdated(){this.dialog.hidden=!this.open,this.open&&(this.addOpenListeners(),this.modal.activate(),Zr(this))}disconnectedCallback(){super.disconnectedCallback(),this.modal.deactivate(),Qr(this),this.removeOpenListeners()}requestClose(t){if(this.emit("sl-request-close",{cancelable:!0,detail:{source:t}}).defaultPrevented){const t=He(this,"dialog.denyClose",{dir:this.localize.dir()});return void Ne(this.panel,t.keyframes,t.options)}this.hide()}addOpenListeners(){var t;"CloseWatcher"in window?(null==(t=this.closeWatcher)||t.destroy(),this.closeWatcher=new CloseWatcher,this.closeWatcher.onclose=()=>this.requestClose("keyboard")):document.addEventListener("keydown",this.handleDocumentKeyDown)}removeOpenListeners(){var t;null==(t=this.closeWatcher)||t.destroy(),document.removeEventListener("keydown",this.handleDocumentKeyDown)}async handleOpenChange(){if(this.open){this.emit("sl-show"),this.addOpenListeners(),this.originalTrigger=document.activeElement,this.modal.activate(),Zr(this);const t=this.querySelector("[autofocus]");t&&t.removeAttribute("autofocus"),await Promise.all([Ue(this.dialog),Ue(this.overlay)]),this.dialog.hidden=!1,requestAnimationFrame(()=>{this.emit("sl-initial-focus",{cancelable:!0}).defaultPrevented||(t?t.focus({preventScroll:!0}):this.panel.focus({preventScroll:!0})),t&&t.setAttribute("autofocus","")});const e=He(this,"dialog.show",{dir:this.localize.dir()}),i=He(this,"dialog.overlay.show",{dir:this.localize.dir()});await Promise.all([Ne(this.panel,e.keyframes,e.options),Ne(this.overlay,i.keyframes,i.options)]),this.emit("sl-after-show")}else{Ma(this),this.emit("sl-hide"),this.removeOpenListeners(),this.modal.deactivate(),await Promise.all([Ue(this.dialog),Ue(this.overlay)]);const t=He(this,"dialog.hide",{dir:this.localize.dir()}),e=He(this,"dialog.overlay.hide",{dir:this.localize.dir()});await Promise.all([Ne(this.overlay,e.keyframes,e.options).then(()=>{this.overlay.hidden=!0}),Ne(this.panel,t.keyframes,t.options).then(()=>{this.panel.hidden=!0})]),this.dialog.hidden=!0,this.overlay.hidden=!1,this.panel.hidden=!1,Qr(this);const i=this.originalTrigger;"function"==typeof(null==i?void 0:i.focus)&&setTimeout(()=>i.focus()),this.emit("sl-after-hide")}}async show(){if(!this.open)return this.open=!0,wr(this,"sl-after-show")}async hide(){if(this.open)return this.open=!1,wr(this,"sl-after-hide")}render(){return bt`
      <div
        part="base"
        class=${xe({dialog:!0,"dialog--open":this.open,"dialog--has-footer":this.hasSlotController.test("footer")})}
      >
        <div part="overlay" class="dialog__overlay" @click=${()=>this.requestClose("overlay")} tabindex="-1"></div>

        <div
          part="panel"
          class="dialog__panel"
          role="dialog"
          aria-modal="true"
          aria-hidden=${this.open?"false":"true"}
          aria-label=${we(this.noHeader?this.label:void 0)}
          aria-labelledby=${we(this.noHeader?void 0:"title")}
          tabindex="-1"
        >
          ${this.noHeader?"":bt`
                <header part="header" class="dialog__header">
                  <h2 part="title" class="dialog__title" id="title">
                    <slot name="label"> ${this.label.length>0?this.label:String.fromCharCode(65279)} </slot>
                  </h2>
                  <div part="header-actions" class="dialog__header-actions">
                    <slot name="header-actions"></slot>
                    <sl-icon-button
                      part="close-button"
                      exportparts="base:close-button__base"
                      class="dialog__close"
                      name="x-lg"
                      label=${this.localize.term("close")}
                      library="system"
                      @click="${()=>this.requestClose("close-button")}"
                    ></sl-icon-button>
                  </div>
                </header>
              `}
          ${""}
          <div part="body" class="dialog__body" tabindex="-1"><slot></slot></div>

          <footer part="footer" class="dialog__footer">
            <slot name="footer"></slot>
          </footer>
        </div>
      </div>
    `}};La.styles=[te,Fa],La.dependencies={"sl-icon-button":Wr},f([oe(".dialog")],La.prototype,"dialog",2),f([oe(".dialog__panel")],La.prototype,"panel",2),f([oe(".dialog__overlay")],La.prototype,"overlay",2),f([re({type:Boolean,reflect:!0})],La.prototype,"open",2),f([re({reflect:!0})],La.prototype,"label",2),f([re({attribute:"no-header",type:Boolean,reflect:!0})],La.prototype,"noHeader",2),f([Jt("open",{waitUntilFirstUpdate:!0})],La.prototype,"handleOpenChange",1),Ve("dialog.show",{keyframes:[{opacity:0,scale:.8},{opacity:1,scale:1}],options:{duration:250,easing:"ease"}}),Ve("dialog.hide",{keyframes:[{opacity:1,scale:1},{opacity:0,scale:.8}],options:{duration:250,easing:"ease"}}),Ve("dialog.denyClose",{keyframes:[{scale:1},{scale:1.02},{scale:1}],options:{duration:250}}),Ve("dialog.overlay.show",{keyframes:[{opacity:0},{opacity:1}],options:{duration:250}}),Ve("dialog.overlay.hide",{keyframes:[{opacity:1},{opacity:0}],options:{duration:250}}),La.define("sl-dialog"),ke.define("sl-checkbox");var Da=I`
  :host {
    --grid-width: 280px;
    --grid-height: 200px;
    --grid-handle-size: 16px;
    --slider-height: 15px;
    --slider-handle-size: 17px;
    --swatch-size: 25px;

    display: inline-block;
  }

  .color-picker {
    width: var(--grid-width);
    font-family: var(--sl-font-sans);
    font-size: var(--sl-font-size-medium);
    font-weight: var(--sl-font-weight-normal);
    color: var(--color);
    background-color: var(--sl-panel-background-color);
    border-radius: var(--sl-border-radius-medium);
    user-select: none;
    -webkit-user-select: none;
  }

  .color-picker--inline {
    border: solid var(--sl-panel-border-width) var(--sl-panel-border-color);
  }

  .color-picker--inline:focus-visible {
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  .color-picker__grid {
    position: relative;
    height: var(--grid-height);
    background-image: linear-gradient(to bottom, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 1) 100%),
      linear-gradient(to right, #fff 0%, rgba(255, 255, 255, 0) 100%);
    border-top-left-radius: var(--sl-border-radius-medium);
    border-top-right-radius: var(--sl-border-radius-medium);
    cursor: crosshair;
    forced-color-adjust: none;
  }

  .color-picker__grid-handle {
    position: absolute;
    width: var(--grid-handle-size);
    height: var(--grid-handle-size);
    border-radius: 50%;
    box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.25);
    border: solid 2px white;
    margin-top: calc(var(--grid-handle-size) / -2);
    margin-left: calc(var(--grid-handle-size) / -2);
    transition: var(--sl-transition-fast) scale;
  }

  .color-picker__grid-handle--dragging {
    cursor: none;
    scale: 1.5;
  }

  .color-picker__grid-handle:focus-visible {
    outline: var(--sl-focus-ring);
  }

  .color-picker__controls {
    padding: var(--sl-spacing-small);
    display: flex;
    align-items: center;
  }

  .color-picker__sliders {
    flex: 1 1 auto;
  }

  .color-picker__slider {
    position: relative;
    height: var(--slider-height);
    border-radius: var(--sl-border-radius-pill);
    box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.2);
    forced-color-adjust: none;
  }

  .color-picker__slider:not(:last-of-type) {
    margin-bottom: var(--sl-spacing-small);
  }

  .color-picker__slider-handle {
    position: absolute;
    top: calc(50% - var(--slider-handle-size) / 2);
    width: var(--slider-handle-size);
    height: var(--slider-handle-size);
    background-color: white;
    border-radius: 50%;
    box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.25);
    margin-left: calc(var(--slider-handle-size) / -2);
  }

  .color-picker__slider-handle:focus-visible {
    outline: var(--sl-focus-ring);
  }

  .color-picker__hue {
    background-image: linear-gradient(
      to right,
      rgb(255, 0, 0) 0%,
      rgb(255, 255, 0) 17%,
      rgb(0, 255, 0) 33%,
      rgb(0, 255, 255) 50%,
      rgb(0, 0, 255) 67%,
      rgb(255, 0, 255) 83%,
      rgb(255, 0, 0) 100%
    );
  }

  .color-picker__alpha .color-picker__alpha-gradient {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border-radius: inherit;
  }

  .color-picker__preview {
    flex: 0 0 auto;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    position: relative;
    width: 2.25rem;
    height: 2.25rem;
    border: none;
    border-radius: var(--sl-border-radius-circle);
    background: none;
    margin-left: var(--sl-spacing-small);
    cursor: copy;
    forced-color-adjust: none;
  }

  .color-picker__preview:before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border-radius: inherit;
    box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.2);

    /* We use a custom property in lieu of currentColor because of https://bugs.webkit.org/show_bug.cgi?id=216780 */
    background-color: var(--preview-color);
  }

  .color-picker__preview:focus-visible {
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  .color-picker__preview-color {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border: solid 1px rgba(0, 0, 0, 0.125);
  }

  .color-picker__preview-color--copied {
    animation: pulse 0.75s;
  }

  @keyframes pulse {
    0% {
      box-shadow: 0 0 0 0 var(--sl-color-primary-500);
    }
    70% {
      box-shadow: 0 0 0 0.5rem transparent;
    }
    100% {
      box-shadow: 0 0 0 0 transparent;
    }
  }

  .color-picker__user-input {
    display: flex;
    padding: 0 var(--sl-spacing-small) var(--sl-spacing-small) var(--sl-spacing-small);
  }

  .color-picker__user-input sl-input {
    min-width: 0; /* fix input width in Safari */
    flex: 1 1 auto;
  }

  .color-picker__user-input sl-button-group {
    margin-left: var(--sl-spacing-small);
  }

  .color-picker__user-input sl-button {
    min-width: 3.25rem;
    max-width: 3.25rem;
    font-size: 1rem;
  }

  .color-picker__swatches {
    display: grid;
    grid-template-columns: repeat(8, 1fr);
    grid-gap: 0.5rem;
    justify-items: center;
    border-top: solid 1px var(--sl-color-neutral-200);
    padding: var(--sl-spacing-small);
    forced-color-adjust: none;
  }

  .color-picker__swatch {
    position: relative;
    width: var(--swatch-size);
    height: var(--swatch-size);
    border-radius: var(--sl-border-radius-small);
  }

  .color-picker__swatch .color-picker__swatch-color {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border: solid 1px rgba(0, 0, 0, 0.125);
    border-radius: inherit;
    cursor: pointer;
  }

  .color-picker__swatch:focus-visible {
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  .color-picker__transparent-bg {
    background-image: linear-gradient(45deg, var(--sl-color-neutral-300) 25%, transparent 25%),
      linear-gradient(45deg, transparent 75%, var(--sl-color-neutral-300) 75%),
      linear-gradient(45deg, transparent 75%, var(--sl-color-neutral-300) 75%),
      linear-gradient(45deg, var(--sl-color-neutral-300) 25%, transparent 25%);
    background-size: 10px 10px;
    background-position:
      0 0,
      0 0,
      -5px -5px,
      5px 5px;
  }

  .color-picker--disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  .color-picker--disabled .color-picker__grid,
  .color-picker--disabled .color-picker__grid-handle,
  .color-picker--disabled .color-picker__slider,
  .color-picker--disabled .color-picker__slider-handle,
  .color-picker--disabled .color-picker__preview,
  .color-picker--disabled .color-picker__swatch,
  .color-picker--disabled .color-picker__swatch-color {
    pointer-events: none;
  }

  /*
   * Color dropdown
   */

  .color-dropdown::part(panel) {
    max-height: none;
    background-color: var(--sl-panel-background-color);
    border: solid var(--sl-panel-border-width) var(--sl-panel-border-color);
    border-radius: var(--sl-border-radius-medium);
    overflow: visible;
  }

  .color-dropdown__trigger {
    display: inline-block;
    position: relative;
    background-color: transparent;
    border: none;
    cursor: pointer;
    forced-color-adjust: none;
  }

  .color-dropdown__trigger.color-dropdown__trigger--small {
    width: var(--sl-input-height-small);
    height: var(--sl-input-height-small);
    border-radius: var(--sl-border-radius-circle);
  }

  .color-dropdown__trigger.color-dropdown__trigger--medium {
    width: var(--sl-input-height-medium);
    height: var(--sl-input-height-medium);
    border-radius: var(--sl-border-radius-circle);
  }

  .color-dropdown__trigger.color-dropdown__trigger--large {
    width: var(--sl-input-height-large);
    height: var(--sl-input-height-large);
    border-radius: var(--sl-border-radius-circle);
  }

  .color-dropdown__trigger:before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border-radius: inherit;
    background-color: currentColor;
    box-shadow:
      inset 0 0 0 2px var(--sl-input-border-color),
      inset 0 0 0 4px var(--sl-color-neutral-0);
  }

  .color-dropdown__trigger--empty:before {
    background-color: transparent;
  }

  .color-dropdown__trigger:focus-visible {
    outline: none;
  }

  .color-dropdown__trigger:focus-visible:not(.color-dropdown__trigger--disabled) {
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  .color-dropdown__trigger.color-dropdown__trigger--disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
`,Wa=class extends he{constructor(){super(...arguments),this.formControlController=new k(this,{assumeInteractionOn:["click"]}),this.hasSlotController=new Yt(this,"[default]","prefix","suffix"),this.localize=new ze(this),this.hasFocus=!1,this.invalid=!1,this.title="",this.variant="default",this.size="medium",this.caret=!1,this.disabled=!1,this.loading=!1,this.outline=!1,this.pill=!1,this.circle=!1,this.type="button",this.name="",this.value="",this.href="",this.rel="noreferrer noopener"}get validity(){return this.isButton()?this.button.validity:S}get validationMessage(){return this.isButton()?this.button.validationMessage:""}firstUpdated(){this.isButton()&&this.formControlController.updateValidity()}handleBlur(){this.hasFocus=!1,this.emit("sl-blur")}handleFocus(){this.hasFocus=!0,this.emit("sl-focus")}handleClick(){"submit"===this.type&&this.formControlController.submit(this),"reset"===this.type&&this.formControlController.reset(this)}handleInvalid(t){this.formControlController.setValidity(!1),this.formControlController.emitInvalidEvent(t)}isButton(){return!this.href}isLink(){return!!this.href}handleDisabledChange(){this.isButton()&&this.formControlController.setValidity(this.disabled)}click(){this.button.click()}focus(t){this.button.focus(t)}blur(){this.button.blur()}checkValidity(){return!this.isButton()||this.button.checkValidity()}getForm(){return this.formControlController.getForm()}reportValidity(){return!this.isButton()||this.button.reportValidity()}setCustomValidity(t){this.isButton()&&(this.button.setCustomValidity(t),this.formControlController.updateValidity())}render(){const t=this.isLink(),e=t?zr`a`:zr`button`;return Dr`
      <${e}
        part="base"
        class=${xe({button:!0,"button--default":"default"===this.variant,"button--primary":"primary"===this.variant,"button--success":"success"===this.variant,"button--neutral":"neutral"===this.variant,"button--warning":"warning"===this.variant,"button--danger":"danger"===this.variant,"button--text":"text"===this.variant,"button--small":"small"===this.size,"button--medium":"medium"===this.size,"button--large":"large"===this.size,"button--caret":this.caret,"button--circle":this.circle,"button--disabled":this.disabled,"button--focused":this.hasFocus,"button--loading":this.loading,"button--standard":!this.outline,"button--outline":this.outline,"button--pill":this.pill,"button--rtl":"rtl"===this.localize.dir(),"button--has-label":this.hasSlotController.test("[default]"),"button--has-prefix":this.hasSlotController.test("prefix"),"button--has-suffix":this.hasSlotController.test("suffix")})}
        ?disabled=${we(t?void 0:this.disabled)}
        type=${we(t?void 0:this.type)}
        title=${this.title}
        name=${we(t?void 0:this.name)}
        value=${we(t?void 0:this.value)}
        href=${we(t&&!this.disabled?this.href:void 0)}
        target=${we(t?this.target:void 0)}
        download=${we(t?this.download:void 0)}
        rel=${we(t?this.rel:void 0)}
        role=${we(t?void 0:"button")}
        aria-disabled=${this.disabled?"true":"false"}
        tabindex=${this.disabled?"-1":"0"}
        @blur=${this.handleBlur}
        @focus=${this.handleFocus}
        @invalid=${this.isButton()?this.handleInvalid:null}
        @click=${this.handleClick}
      >
        <slot name="prefix" part="prefix" class="button__prefix"></slot>
        <slot part="label" class="button__label"></slot>
        <slot name="suffix" part="suffix" class="button__suffix"></slot>
        ${this.caret?Dr` <sl-icon part="caret" class="button__caret" library="system" name="caret"></sl-icon> `:""}
        ${this.loading?Dr`<sl-spinner part="spinner"></sl-spinner>`:""}
      </${e}>
    `}};function Va(t,e){(function(t){return"string"==typeof t&&-1!==t.indexOf(".")&&1===parseFloat(t)})(t)&&(t="100%");const i=function(t){return"string"==typeof t&&-1!==t.indexOf("%")}(t);return t=360===e?t:Math.min(e,Math.max(0,parseFloat(t))),i&&(t=parseInt(String(t*e),10)/100),Math.abs(t-e)<1e-6?1:t=360===e?(t<0?t%e+e:t%e)/parseFloat(String(e)):t%e/parseFloat(String(e))}function Ha(t){return Math.min(1,Math.max(0,t))}function Na(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function Ya(t){return Number(t)<=1?100*Number(t)+"%":t}function Xa(t){return 1===t.length?"0"+t:String(t)}function Ua(t,e,i){t=Va(t,255),e=Va(e,255),i=Va(i,255);const r=Math.max(t,e,i),s=Math.min(t,e,i);let a=0,n=0;const o=(r+s)/2;if(r===s)n=0,a=0;else{const l=r-s;switch(n=o>.5?l/(2-r-s):l/(r+s),r){case t:a=(e-i)/l+(e<i?6:0);break;case e:a=(i-t)/l+2;break;case i:a=(t-e)/l+4}a/=6}return{h:a,s:n,l:o}}function Ga(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*i*(e-t):i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t}function ja(t,e,i){t=Va(t,255),e=Va(e,255),i=Va(i,255);const r=Math.max(t,e,i),s=Math.min(t,e,i);let a=0;const n=r,o=r-s,l=0===r?0:o/r;if(r===s)a=0;else{switch(r){case t:a=(e-i)/o+(e<i?6:0);break;case e:a=(i-t)/o+2;break;case i:a=(t-e)/o+4}a/=6}return{h:a,s:l,v:n}}function qa(t,e,i,r){const s=[Xa(Math.round(t).toString(16)),Xa(Math.round(e).toString(16)),Xa(Math.round(i).toString(16))];return r&&s[0].startsWith(s[0].charAt(1))&&s[1].startsWith(s[1].charAt(1))&&s[2].startsWith(s[2].charAt(1))?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0):s.join("")}function Ka(t,e,i){let r=1-t/255,s=1-e/255,a=1-i/255,n=Math.min(r,s,a);return 1===n?(r=0,s=0,a=0):(r=(r-n)/(1-n)*100,s=(s-n)/(1-n)*100,a=(a-n)/(1-n)*100),n*=100,{c:Math.round(r),m:Math.round(s),y:Math.round(a),k:Math.round(n)}}function Za(t){return Math.round(255*parseFloat(t)).toString(16)}function Qa(t){return Ja(t)/255}function Ja(t){return parseInt(t,16)}Wa.styles=[te,_s],Wa.dependencies={"sl-icon":be,"sl-spinner":Fe},f([oe(".button")],Wa.prototype,"button",2),f([se()],Wa.prototype,"hasFocus",2),f([se()],Wa.prototype,"invalid",2),f([re()],Wa.prototype,"title",2),f([re({reflect:!0})],Wa.prototype,"variant",2),f([re({reflect:!0})],Wa.prototype,"size",2),f([re({type:Boolean,reflect:!0})],Wa.prototype,"caret",2),f([re({type:Boolean,reflect:!0})],Wa.prototype,"disabled",2),f([re({type:Boolean,reflect:!0})],Wa.prototype,"loading",2),f([re({type:Boolean,reflect:!0})],Wa.prototype,"outline",2),f([re({type:Boolean,reflect:!0})],Wa.prototype,"pill",2),f([re({type:Boolean,reflect:!0})],Wa.prototype,"circle",2),f([re()],Wa.prototype,"type",2),f([re()],Wa.prototype,"name",2),f([re()],Wa.prototype,"value",2),f([re()],Wa.prototype,"href",2),f([re()],Wa.prototype,"target",2),f([re()],Wa.prototype,"rel",2),f([re()],Wa.prototype,"download",2),f([re()],Wa.prototype,"form",2),f([re({attribute:"formaction"})],Wa.prototype,"formAction",2),f([re({attribute:"formenctype"})],Wa.prototype,"formEnctype",2),f([re({attribute:"formmethod"})],Wa.prototype,"formMethod",2),f([re({attribute:"formnovalidate",type:Boolean})],Wa.prototype,"formNoValidate",2),f([re({attribute:"formtarget"})],Wa.prototype,"formTarget",2),f([Jt("disabled",{waitUntilFirstUpdate:!0})],Wa.prototype,"handleDisabledChange",1);const tn={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};const en="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",rn="[\\s|\\(]+("+en+")[,|\\s]+("+en+")[,|\\s]+("+en+")\\s*\\)?",sn="[\\s|\\(]+("+en+")[,|\\s]+("+en+")[,|\\s]+("+en+")[,|\\s]+("+en+")\\s*\\)?",an={CSS_UNIT:new RegExp(en),rgb:new RegExp("rgb"+rn),rgba:new RegExp("rgba"+sn),hsl:new RegExp("hsl"+rn),hsla:new RegExp("hsla"+sn),hsv:new RegExp("hsv"+rn),hsva:new RegExp("hsva"+sn),cmyk:new RegExp("cmyk"+sn),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function nn(t){return"number"==typeof t?!Number.isNaN(t):an.CSS_UNIT.test(t)}class on{constructor(t="",e={}){if(t instanceof on)return t;"number"==typeof t&&(t=function(t){return{r:t>>16,g:(65280&t)>>8,b:255&t}}(t)),this.originalInput=t;const i=function(t){let e={r:0,g:0,b:0},i=1,r=null,s=null,a=null,n=!1,o=!1;return"string"==typeof t&&(t=function(t){if(0===(t=t.trim().toLowerCase()).length)return!1;let e=!1;if(tn[t])t=tn[t],e=!0;else if("transparent"===t)return{r:0,g:0,b:0,a:0,format:"name"};let i=an.rgb.exec(t);return i?{r:i[1],g:i[2],b:i[3]}:(i=an.rgba.exec(t),i?{r:i[1],g:i[2],b:i[3],a:i[4]}:(i=an.hsl.exec(t),i?{h:i[1],s:i[2],l:i[3]}:(i=an.hsla.exec(t),i?{h:i[1],s:i[2],l:i[3],a:i[4]}:(i=an.hsv.exec(t),i?{h:i[1],s:i[2],v:i[3]}:(i=an.hsva.exec(t),i?{h:i[1],s:i[2],v:i[3],a:i[4]}:(i=an.cmyk.exec(t),i?{c:i[1],m:i[2],y:i[3],k:i[4]}:(i=an.hex8.exec(t),i?{r:Ja(i[1]),g:Ja(i[2]),b:Ja(i[3]),a:Qa(i[4]),format:e?"name":"hex8"}:(i=an.hex6.exec(t),i?{r:Ja(i[1]),g:Ja(i[2]),b:Ja(i[3]),format:e?"name":"hex"}:(i=an.hex4.exec(t),i?{r:Ja(i[1]+i[1]),g:Ja(i[2]+i[2]),b:Ja(i[3]+i[3]),a:Qa(i[4]+i[4]),format:e?"name":"hex8"}:(i=an.hex3.exec(t),!!i&&{r:Ja(i[1]+i[1]),g:Ja(i[2]+i[2]),b:Ja(i[3]+i[3]),format:e?"name":"hex"}))))))))))}(t)),"object"==typeof t&&(nn(t.r)&&nn(t.g)&&nn(t.b)?(e=function(t,e,i){return{r:255*Va(t,255),g:255*Va(e,255),b:255*Va(i,255)}}(t.r,t.g,t.b),n=!0,o="%"===String(t.r).substr(-1)?"prgb":"rgb"):nn(t.h)&&nn(t.s)&&nn(t.v)?(r=Ya(t.s),s=Ya(t.v),e=function(t,e,i){t=6*Va(t,360),e=Va(e,100),i=Va(i,100);const r=Math.floor(t),s=t-r,a=i*(1-e),n=i*(1-s*e),o=i*(1-(1-s)*e),l=r%6;return{r:255*[i,n,a,a,o,i][l],g:255*[o,i,i,n,a,a][l],b:255*[a,a,o,i,i,n][l]}}(t.h,r,s),n=!0,o="hsv"):nn(t.h)&&nn(t.s)&&nn(t.l)?(r=Ya(t.s),a=Ya(t.l),e=function(t,e,i){let r,s,a;if(t=Va(t,360),e=Va(e,100),i=Va(i,100),0===e)s=i,a=i,r=i;else{const n=i<.5?i*(1+e):i+e-i*e,o=2*i-n;r=Ga(o,n,t+1/3),s=Ga(o,n,t),a=Ga(o,n,t-1/3)}return{r:255*r,g:255*s,b:255*a}}(t.h,r,a),n=!0,o="hsl"):nn(t.c)&&nn(t.m)&&nn(t.y)&&nn(t.k)&&(e=function(t,e,i,r){const s=r/100;return{r:255*(1-t/100)*(1-s),g:255*(1-e/100)*(1-s),b:255*(1-i/100)*(1-s)}}(t.c,t.m,t.y,t.k),n=!0,o="cmyk"),Object.prototype.hasOwnProperty.call(t,"a")&&(i=t.a)),i=Na(i),{ok:n,format:t.format||o,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:i}}(t);this.originalInput=t,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=e.format??i.format,this.gradientType=e.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok}isDark(){return this.getBrightness()<128}isLight(){return!this.isDark()}getBrightness(){const t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3}getLuminance(){const t=this.toRgb();let e,i,r;const s=t.r/255,a=t.g/255,n=t.b/255;return e=s<=.03928?s/12.92:Math.pow((s+.055)/1.055,2.4),i=a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4),r=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4),.2126*e+.7152*i+.0722*r}getAlpha(){return this.a}setAlpha(t){return this.a=Na(t),this.roundA=Math.round(100*this.a)/100,this}isMonochrome(){const{s:t}=this.toHsl();return 0===t}toHsv(){const t=ja(this.r,this.g,this.b);return{h:360*t.h,s:t.s,v:t.v,a:this.a}}toHsvString(){const t=ja(this.r,this.g,this.b),e=Math.round(360*t.h),i=Math.round(100*t.s),r=Math.round(100*t.v);return 1===this.a?`hsv(${e}, ${i}%, ${r}%)`:`hsva(${e}, ${i}%, ${r}%, ${this.roundA})`}toHsl(){const t=Ua(this.r,this.g,this.b);return{h:360*t.h,s:t.s,l:t.l,a:this.a}}toHslString(){const t=Ua(this.r,this.g,this.b),e=Math.round(360*t.h),i=Math.round(100*t.s),r=Math.round(100*t.l);return 1===this.a?`hsl(${e}, ${i}%, ${r}%)`:`hsla(${e}, ${i}%, ${r}%, ${this.roundA})`}toHex(t=!1){return qa(this.r,this.g,this.b,t)}toHexString(t=!1){return"#"+this.toHex(t)}toHex8(t=!1){return function(t,e,i,r,s){const a=[Xa(Math.round(t).toString(16)),Xa(Math.round(e).toString(16)),Xa(Math.round(i).toString(16)),Xa(Za(r))];return s&&a[0].startsWith(a[0].charAt(1))&&a[1].startsWith(a[1].charAt(1))&&a[2].startsWith(a[2].charAt(1))&&a[3].startsWith(a[3].charAt(1))?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}(this.r,this.g,this.b,this.a,t)}toHex8String(t=!1){return"#"+this.toHex8(t)}toHexShortString(t=!1){return 1===this.a?this.toHexString(t):this.toHex8String(t)}toRgb(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}}toRgbString(){const t=Math.round(this.r),e=Math.round(this.g),i=Math.round(this.b);return 1===this.a?`rgb(${t}, ${e}, ${i})`:`rgba(${t}, ${e}, ${i}, ${this.roundA})`}toPercentageRgb(){const t=t=>`${Math.round(100*Va(t,255))}%`;return{r:t(this.r),g:t(this.g),b:t(this.b),a:this.a}}toPercentageRgbString(){const t=t=>Math.round(100*Va(t,255));return 1===this.a?`rgb(${t(this.r)}%, ${t(this.g)}%, ${t(this.b)}%)`:`rgba(${t(this.r)}%, ${t(this.g)}%, ${t(this.b)}%, ${this.roundA})`}toCmyk(){return{...Ka(this.r,this.g,this.b)}}toCmykString(){const{c:t,m:e,y:i,k:r}=Ka(this.r,this.g,this.b);return`cmyk(${t}, ${e}, ${i}, ${r})`}toName(){if(0===this.a)return"transparent";if(this.a<1)return!1;const t="#"+qa(this.r,this.g,this.b,!1);for(const[e,i]of Object.entries(tn))if(t===i)return e;return!1}toString(t){const e=Boolean(t);t=t??this.format;let i=!1;const r=this.a<1&&this.a>=0;return e||!r||!t.startsWith("hex")&&"name"!==t?("rgb"===t&&(i=this.toRgbString()),"prgb"===t&&(i=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(i=this.toHexString()),"hex3"===t&&(i=this.toHexString(!0)),"hex4"===t&&(i=this.toHex8String(!0)),"hex8"===t&&(i=this.toHex8String()),"name"===t&&(i=this.toName()),"hsl"===t&&(i=this.toHslString()),"hsv"===t&&(i=this.toHsvString()),"cmyk"===t&&(i=this.toCmykString()),i||this.toHexString()):"name"===t&&0===this.a?this.toName():this.toRgbString()}toNumber(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)}clone(){return new on(this.toString())}lighten(t=10){const e=this.toHsl();return e.l+=t/100,e.l=Ha(e.l),new on(e)}brighten(t=10){const e=this.toRgb();return e.r=Math.max(0,Math.min(255,e.r-Math.round(-t/100*255))),e.g=Math.max(0,Math.min(255,e.g-Math.round(-t/100*255))),e.b=Math.max(0,Math.min(255,e.b-Math.round(-t/100*255))),new on(e)}darken(t=10){const e=this.toHsl();return e.l-=t/100,e.l=Ha(e.l),new on(e)}tint(t=10){return this.mix("white",t)}shade(t=10){return this.mix("black",t)}desaturate(t=10){const e=this.toHsl();return e.s-=t/100,e.s=Ha(e.s),new on(e)}saturate(t=10){const e=this.toHsl();return e.s+=t/100,e.s=Ha(e.s),new on(e)}greyscale(){return this.desaturate(100)}spin(t){const e=this.toHsl(),i=(e.h+t)%360;return e.h=i<0?360+i:i,new on(e)}mix(t,e=50){const i=this.toRgb(),r=new on(t).toRgb(),s=e/100,a={r:(r.r-i.r)*s+i.r,g:(r.g-i.g)*s+i.g,b:(r.b-i.b)*s+i.b,a:(r.a-i.a)*s+i.a};return new on(a)}analogous(t=6,e=30){const i=this.toHsl(),r=360/e,s=[this];for(i.h=(i.h-(r*t>>1)+720)%360;--t;)i.h=(i.h+r)%360,s.push(new on(i));return s}complement(){const t=this.toHsl();return t.h=(t.h+180)%360,new on(t)}monochromatic(t=6){const e=this.toHsv(),{h:i}=e,{s:r}=e;let{v:s}=e;const a=[],n=1/t;for(;t--;)a.push(new on({h:i,s:r,v:s})),s=(s+n)%1;return a}splitcomplement(){const t=this.toHsl(),{h:e}=t;return[this,new on({h:(e+72)%360,s:t.s,l:t.l}),new on({h:(e+216)%360,s:t.s,l:t.l})]}onBackground(t){const e=this.toRgb(),i=new on(t).toRgb(),r=e.a+i.a*(1-e.a);return new on({r:(e.r*e.a+i.r*i.a*(1-e.a))/r,g:(e.g*e.a+i.g*i.a*(1-e.a))/r,b:(e.b*e.a+i.b*i.a*(1-e.a))/r,a:r})}triad(){return this.polyad(3)}tetrad(){return this.polyad(4)}polyad(t){const e=this.toHsl(),{h:i}=e,r=[this],s=360/t;for(let a=1;a<t;a++)r.push(new on({h:(i+a*s)%360,s:e.s,l:e.l}));return r}equals(t){const e=new on(t);return"cmyk"===this.format||"cmyk"===e.format?this.toCmykString()===e.toCmykString():this.toRgbString()===e.toRgbString()}}var ln="EyeDropper"in window,hn=class extends he{constructor(){super(),this.formControlController=new k(this),this.isSafeValue=!1,this.localize=new ze(this),this.hasFocus=!1,this.isDraggingGridHandle=!1,this.isEmpty=!1,this.inputValue="",this.hue=0,this.saturation=100,this.brightness=100,this.alpha=100,this.value="",this.defaultValue="",this.label="",this.format="hex",this.inline=!1,this.size="medium",this.noFormatToggle=!1,this.name="",this.disabled=!1,this.hoist=!1,this.opacity=!1,this.uppercase=!1,this.swatches="",this.form="",this.required=!1,this.handleFocusIn=()=>{this.hasFocus=!0,this.emit("sl-focus")},this.handleFocusOut=()=>{this.hasFocus=!1,this.emit("sl-blur")},this.addEventListener("focusin",this.handleFocusIn),this.addEventListener("focusout",this.handleFocusOut)}get validity(){return this.input.validity}get validationMessage(){return this.input.validationMessage}firstUpdated(){this.input.updateComplete.then(()=>{this.formControlController.updateValidity()})}handleCopy(){this.input.select(),document.execCommand("copy"),this.previewButton.focus(),this.previewButton.classList.add("color-picker__preview-color--copied"),this.previewButton.addEventListener("animationend",()=>{this.previewButton.classList.remove("color-picker__preview-color--copied")})}handleFormatToggle(){const t=["hex","rgb","hsl","hsv"],e=(t.indexOf(this.format)+1)%t.length;this.format=t[e],this.setColor(this.value),this.emit("sl-change"),this.emit("sl-input")}handleAlphaDrag(t){const e=this.shadowRoot.querySelector(".color-picker__slider.color-picker__alpha"),i=e.querySelector(".color-picker__slider-handle"),{width:r}=e.getBoundingClientRect();let s=this.value,a=this.value;i.focus(),t.preventDefault(),ss(e,{onMove:t=>{this.alpha=Sr(t/r*100,0,100),this.syncValues(),this.value!==a&&(a=this.value,this.emit("sl-input"))},onStop:()=>{this.value!==s&&(s=this.value,this.emit("sl-change"))},initialEvent:t})}handleHueDrag(t){const e=this.shadowRoot.querySelector(".color-picker__slider.color-picker__hue"),i=e.querySelector(".color-picker__slider-handle"),{width:r}=e.getBoundingClientRect();let s=this.value,a=this.value;i.focus(),t.preventDefault(),ss(e,{onMove:t=>{this.hue=Sr(t/r*360,0,360),this.syncValues(),this.value!==a&&(a=this.value,this.emit("sl-input"))},onStop:()=>{this.value!==s&&(s=this.value,this.emit("sl-change"))},initialEvent:t})}handleGridDrag(t){const e=this.shadowRoot.querySelector(".color-picker__grid"),i=e.querySelector(".color-picker__grid-handle"),{width:r,height:s}=e.getBoundingClientRect();let a=this.value,n=this.value;i.focus(),t.preventDefault(),this.isDraggingGridHandle=!0,ss(e,{onMove:(t,e)=>{this.saturation=Sr(t/r*100,0,100),this.brightness=Sr(100-e/s*100,0,100),this.syncValues(),this.value!==n&&(n=this.value,this.emit("sl-input"))},onStop:()=>{this.isDraggingGridHandle=!1,this.value!==a&&(a=this.value,this.emit("sl-change"))},initialEvent:t})}handleAlphaKeyDown(t){const e=t.shiftKey?10:1,i=this.value;"ArrowLeft"===t.key&&(t.preventDefault(),this.alpha=Sr(this.alpha-e,0,100),this.syncValues()),"ArrowRight"===t.key&&(t.preventDefault(),this.alpha=Sr(this.alpha+e,0,100),this.syncValues()),"Home"===t.key&&(t.preventDefault(),this.alpha=0,this.syncValues()),"End"===t.key&&(t.preventDefault(),this.alpha=100,this.syncValues()),this.value!==i&&(this.emit("sl-change"),this.emit("sl-input"))}handleHueKeyDown(t){const e=t.shiftKey?10:1,i=this.value;"ArrowLeft"===t.key&&(t.preventDefault(),this.hue=Sr(this.hue-e,0,360),this.syncValues()),"ArrowRight"===t.key&&(t.preventDefault(),this.hue=Sr(this.hue+e,0,360),this.syncValues()),"Home"===t.key&&(t.preventDefault(),this.hue=0,this.syncValues()),"End"===t.key&&(t.preventDefault(),this.hue=360,this.syncValues()),this.value!==i&&(this.emit("sl-change"),this.emit("sl-input"))}handleGridKeyDown(t){const e=t.shiftKey?10:1,i=this.value;"ArrowLeft"===t.key&&(t.preventDefault(),this.saturation=Sr(this.saturation-e,0,100),this.syncValues()),"ArrowRight"===t.key&&(t.preventDefault(),this.saturation=Sr(this.saturation+e,0,100),this.syncValues()),"ArrowUp"===t.key&&(t.preventDefault(),this.brightness=Sr(this.brightness+e,0,100),this.syncValues()),"ArrowDown"===t.key&&(t.preventDefault(),this.brightness=Sr(this.brightness-e,0,100),this.syncValues()),this.value!==i&&(this.emit("sl-change"),this.emit("sl-input"))}handleInputChange(t){const e=t.target,i=this.value;t.stopPropagation(),this.input.value?(this.setColor(e.value),e.value=this.value):this.value="",this.value!==i&&(this.emit("sl-change"),this.emit("sl-input"))}handleInputInput(t){this.formControlController.updateValidity(),t.stopPropagation()}handleInputKeyDown(t){if("Enter"===t.key){const t=this.value;this.input.value?(this.setColor(this.input.value),this.input.value=this.value,this.value!==t&&(this.emit("sl-change"),this.emit("sl-input")),setTimeout(()=>this.input.select())):this.hue=0}}handleInputInvalid(t){this.formControlController.setValidity(!1),this.formControlController.emitInvalidEvent(t)}handleTouchMove(t){t.preventDefault()}parseColor(t){const e=new on(t);if(!e.isValid)return null;const i=e.toHsl(),r={h:i.h,s:100*i.s,l:100*i.l,a:i.a},s=e.toRgb(),a=e.toHexString(),n=e.toHex8String(),o=e.toHsv(),l={h:o.h,s:100*o.s,v:100*o.v,a:o.a};return{hsl:{h:r.h,s:r.s,l:r.l,string:this.setLetterCase(`hsl(${Math.round(r.h)}, ${Math.round(r.s)}%, ${Math.round(r.l)}%)`)},hsla:{h:r.h,s:r.s,l:r.l,a:r.a,string:this.setLetterCase(`hsla(${Math.round(r.h)}, ${Math.round(r.s)}%, ${Math.round(r.l)}%, ${r.a.toFixed(2).toString()})`)},hsv:{h:l.h,s:l.s,v:l.v,string:this.setLetterCase(`hsv(${Math.round(l.h)}, ${Math.round(l.s)}%, ${Math.round(l.v)}%)`)},hsva:{h:l.h,s:l.s,v:l.v,a:l.a,string:this.setLetterCase(`hsva(${Math.round(l.h)}, ${Math.round(l.s)}%, ${Math.round(l.v)}%, ${l.a.toFixed(2).toString()})`)},rgb:{r:s.r,g:s.g,b:s.b,string:this.setLetterCase(`rgb(${Math.round(s.r)}, ${Math.round(s.g)}, ${Math.round(s.b)})`)},rgba:{r:s.r,g:s.g,b:s.b,a:s.a,string:this.setLetterCase(`rgba(${Math.round(s.r)}, ${Math.round(s.g)}, ${Math.round(s.b)}, ${s.a.toFixed(2).toString()})`)},hex:this.setLetterCase(a),hexa:this.setLetterCase(n)}}setColor(t){const e=this.parseColor(t);return null!==e&&(this.hue=e.hsva.h,this.saturation=e.hsva.s,this.brightness=e.hsva.v,this.alpha=this.opacity?100*e.hsva.a:100,this.syncValues(),!0)}setLetterCase(t){return"string"!=typeof t?"":this.uppercase?t.toUpperCase():t.toLowerCase()}async syncValues(){const t=this.parseColor(`hsva(${this.hue}, ${this.saturation}%, ${this.brightness}%, ${this.alpha/100})`);null!==t&&("hsl"===this.format?this.inputValue=this.opacity?t.hsla.string:t.hsl.string:"rgb"===this.format?this.inputValue=this.opacity?t.rgba.string:t.rgb.string:"hsv"===this.format?this.inputValue=this.opacity?t.hsva.string:t.hsv.string:this.inputValue=this.opacity?t.hexa:t.hex,this.isSafeValue=!0,this.value=this.inputValue,await this.updateComplete,this.isSafeValue=!1)}handleAfterHide(){this.previewButton.classList.remove("color-picker__preview-color--copied")}handleEyeDropper(){ln&&(new EyeDropper).open().then(t=>{const e=this.value;this.setColor(t.sRGBHex),this.value!==e&&(this.emit("sl-change"),this.emit("sl-input"))}).catch(()=>{})}selectSwatch(t){const e=this.value;this.disabled||(this.setColor(t),this.value!==e&&(this.emit("sl-change"),this.emit("sl-input")))}getHexString(t,e,i,r=100){const s=new on(`hsva(${t}, ${e}%, ${i}%, ${r/100})`);return s.isValid?s.toHex8String():""}stopNestedEventPropagation(t){t.stopImmediatePropagation()}handleFormatChange(){this.syncValues()}handleOpacityChange(){this.alpha=100}handleValueChange(t,e){if(this.isEmpty=!e,e||(this.hue=0,this.saturation=0,this.brightness=100,this.alpha=100),!this.isSafeValue){const i=this.parseColor(e);null!==i?(this.inputValue=this.value,this.hue=i.hsva.h,this.saturation=i.hsva.s,this.brightness=i.hsva.v,this.alpha=100*i.hsva.a,this.syncValues()):this.inputValue=null!=t?t:""}}focus(t){this.inline?this.base.focus(t):this.trigger.focus(t)}blur(){var t;const e=this.inline?this.base:this.trigger;this.hasFocus&&(e.focus({preventScroll:!0}),e.blur()),(null==(t=this.dropdown)?void 0:t.open)&&this.dropdown.hide()}getFormattedValue(t="hex"){const e=this.parseColor(`hsva(${this.hue}, ${this.saturation}%, ${this.brightness}%, ${this.alpha/100})`);if(null===e)return"";switch(t){case"hex":return e.hex;case"hexa":return e.hexa;case"rgb":return e.rgb.string;case"rgba":return e.rgba.string;case"hsl":return e.hsl.string;case"hsla":return e.hsla.string;case"hsv":return e.hsv.string;case"hsva":return e.hsva.string;default:return""}}checkValidity(){return this.input.checkValidity()}getForm(){return this.formControlController.getForm()}reportValidity(){return this.inline||this.validity.valid?this.input.reportValidity():(this.dropdown.show(),this.addEventListener("sl-after-show",()=>this.input.reportValidity(),{once:!0}),this.disabled||this.formControlController.emitInvalidEvent(),!1)}setCustomValidity(t){this.input.setCustomValidity(t),this.formControlController.updateValidity()}render(){const t=this.saturation,e=100-this.brightness,i=Array.isArray(this.swatches)?this.swatches:this.swatches.split(";").filter(t=>""!==t.trim()),r=bt`
      <div
        part="base"
        class=${xe({"color-picker":!0,"color-picker--inline":this.inline,"color-picker--disabled":this.disabled,"color-picker--focused":this.hasFocus})}
        aria-disabled=${this.disabled?"true":"false"}
        aria-labelledby="label"
        tabindex=${this.inline?"0":"-1"}
      >
        ${this.inline?bt`
              <sl-visually-hidden id="label">
                <slot name="label">${this.label}</slot>
              </sl-visually-hidden>
            `:null}

        <div
          part="grid"
          class="color-picker__grid"
          style=${ys({backgroundColor:this.getHexString(this.hue,100,100)})}
          @pointerdown=${this.handleGridDrag}
          @touchmove=${this.handleTouchMove}
        >
          <span
            part="grid-handle"
            class=${xe({"color-picker__grid-handle":!0,"color-picker__grid-handle--dragging":this.isDraggingGridHandle})}
            style=${ys({top:`${e}%`,left:`${t}%`,backgroundColor:this.getHexString(this.hue,this.saturation,this.brightness,this.alpha)})}
            role="application"
            aria-label="HSV"
            tabindex=${we(this.disabled?void 0:"0")}
            @keydown=${this.handleGridKeyDown}
          ></span>
        </div>

        <div class="color-picker__controls">
          <div class="color-picker__sliders">
            <div
              part="slider hue-slider"
              class="color-picker__hue color-picker__slider"
              @pointerdown=${this.handleHueDrag}
              @touchmove=${this.handleTouchMove}
            >
              <span
                part="slider-handle hue-slider-handle"
                class="color-picker__slider-handle"
                style=${ys({left:(0===this.hue?0:100/(360/this.hue))+"%"})}
                role="slider"
                aria-label="hue"
                aria-orientation="horizontal"
                aria-valuemin="0"
                aria-valuemax="360"
                aria-valuenow=${`${Math.round(this.hue)}`}
                tabindex=${we(this.disabled?void 0:"0")}
                @keydown=${this.handleHueKeyDown}
              ></span>
            </div>

            ${this.opacity?bt`
                  <div
                    part="slider opacity-slider"
                    class="color-picker__alpha color-picker__slider color-picker__transparent-bg"
                    @pointerdown="${this.handleAlphaDrag}"
                    @touchmove=${this.handleTouchMove}
                  >
                    <div
                      class="color-picker__alpha-gradient"
                      style=${ys({backgroundImage:`linear-gradient(\n                          to right,\n                          ${this.getHexString(this.hue,this.saturation,this.brightness,0)} 0%,\n                          ${this.getHexString(this.hue,this.saturation,this.brightness,100)} 100%\n                        )`})}
                    ></div>
                    <span
                      part="slider-handle opacity-slider-handle"
                      class="color-picker__slider-handle"
                      style=${ys({left:`${this.alpha}%`})}
                      role="slider"
                      aria-label="alpha"
                      aria-orientation="horizontal"
                      aria-valuemin="0"
                      aria-valuemax="100"
                      aria-valuenow=${Math.round(this.alpha)}
                      tabindex=${we(this.disabled?void 0:"0")}
                      @keydown=${this.handleAlphaKeyDown}
                    ></span>
                  </div>
                `:""}
          </div>

          <button
            type="button"
            part="preview"
            class="color-picker__preview color-picker__transparent-bg"
            aria-label=${this.localize.term("copy")}
            style=${ys({"--preview-color":this.getHexString(this.hue,this.saturation,this.brightness,this.alpha)})}
            @click=${this.handleCopy}
          ></button>
        </div>

        <div class="color-picker__user-input" aria-live="polite">
          <sl-input
            part="input"
            type="text"
            name=${this.name}
            autocomplete="off"
            autocorrect="off"
            autocapitalize="off"
            spellcheck="false"
            value=${this.isEmpty?"":this.inputValue}
            ?required=${this.required}
            ?disabled=${this.disabled}
            aria-label=${this.localize.term("currentValue")}
            @keydown=${this.handleInputKeyDown}
            @sl-change=${this.handleInputChange}
            @sl-input=${this.handleInputInput}
            @sl-invalid=${this.handleInputInvalid}
            @sl-blur=${this.stopNestedEventPropagation}
            @sl-focus=${this.stopNestedEventPropagation}
          ></sl-input>

          <sl-button-group>
            ${this.noFormatToggle?"":bt`
                  <sl-button
                    part="format-button"
                    aria-label=${this.localize.term("toggleColorFormat")}
                    exportparts="
                      base:format-button__base,
                      prefix:format-button__prefix,
                      label:format-button__label,
                      suffix:format-button__suffix,
                      caret:format-button__caret
                    "
                    @click=${this.handleFormatToggle}
                    @sl-blur=${this.stopNestedEventPropagation}
                    @sl-focus=${this.stopNestedEventPropagation}
                  >
                    ${this.setLetterCase(this.format)}
                  </sl-button>
                `}
            ${ln?bt`
                  <sl-button
                    part="eye-dropper-button"
                    exportparts="
                      base:eye-dropper-button__base,
                      prefix:eye-dropper-button__prefix,
                      label:eye-dropper-button__label,
                      suffix:eye-dropper-button__suffix,
                      caret:eye-dropper-button__caret
                    "
                    @click=${this.handleEyeDropper}
                    @sl-blur=${this.stopNestedEventPropagation}
                    @sl-focus=${this.stopNestedEventPropagation}
                  >
                    <sl-icon
                      library="system"
                      name="eyedropper"
                      label=${this.localize.term("selectAColorFromTheScreen")}
                    ></sl-icon>
                  </sl-button>
                `:""}
          </sl-button-group>
        </div>

        ${i.length>0?bt`
              <div part="swatches" class="color-picker__swatches">
                ${i.map(t=>{const e=this.parseColor(t);return e?bt`
                    <div
                      part="swatch"
                      class="color-picker__swatch color-picker__transparent-bg"
                      tabindex=${we(this.disabled?void 0:"0")}
                      role="button"
                      aria-label=${t}
                      @click=${()=>this.selectSwatch(t)}
                      @keydown=${t=>!this.disabled&&"Enter"===t.key&&this.setColor(e.hexa)}
                    >
                      <div
                        class="color-picker__swatch-color"
                        style=${ys({backgroundColor:e.hexa})}
                      ></div>
                    </div>
                  `:(console.error(`Unable to parse swatch color: "${t}"`,this),"")})}
              </div>
            `:""}
      </div>
    `;return this.inline?r:bt`
      <sl-dropdown
        class="color-dropdown"
        aria-disabled=${this.disabled?"true":"false"}
        .containingElement=${this}
        ?disabled=${this.disabled}
        ?hoist=${this.hoist}
        @sl-after-hide=${this.handleAfterHide}
      >
        <button
          part="trigger"
          slot="trigger"
          class=${xe({"color-dropdown__trigger":!0,"color-dropdown__trigger--disabled":this.disabled,"color-dropdown__trigger--small":"small"===this.size,"color-dropdown__trigger--medium":"medium"===this.size,"color-dropdown__trigger--large":"large"===this.size,"color-dropdown__trigger--empty":this.isEmpty,"color-dropdown__trigger--focused":this.hasFocus,"color-picker__transparent-bg":!0})}
          style=${ys({color:this.getHexString(this.hue,this.saturation,this.brightness,this.alpha)})}
          type="button"
        >
          <sl-visually-hidden>
            <slot name="label">${this.label}</slot>
          </sl-visually-hidden>
        </button>
        ${r}
      </sl-dropdown>
    `}};hn.styles=[te,Da],hn.dependencies={"sl-button-group":Ts,"sl-button":Wa,"sl-dropdown":Ia,"sl-icon":be,"sl-input":js,"sl-visually-hidden":Mr},f([oe('[part~="base"]')],hn.prototype,"base",2),f([oe('[part~="input"]')],hn.prototype,"input",2),f([oe(".color-dropdown")],hn.prototype,"dropdown",2),f([oe('[part~="preview"]')],hn.prototype,"previewButton",2),f([oe('[part~="trigger"]')],hn.prototype,"trigger",2),f([se()],hn.prototype,"hasFocus",2),f([se()],hn.prototype,"isDraggingGridHandle",2),f([se()],hn.prototype,"isEmpty",2),f([se()],hn.prototype,"inputValue",2),f([se()],hn.prototype,"hue",2),f([se()],hn.prototype,"saturation",2),f([se()],hn.prototype,"brightness",2),f([se()],hn.prototype,"alpha",2),f([re()],hn.prototype,"value",2),f([Ht()],hn.prototype,"defaultValue",2),f([re()],hn.prototype,"label",2),f([re()],hn.prototype,"format",2),f([re({type:Boolean,reflect:!0})],hn.prototype,"inline",2),f([re({reflect:!0})],hn.prototype,"size",2),f([re({attribute:"no-format-toggle",type:Boolean})],hn.prototype,"noFormatToggle",2),f([re()],hn.prototype,"name",2),f([re({type:Boolean,reflect:!0})],hn.prototype,"disabled",2),f([re({type:Boolean})],hn.prototype,"hoist",2),f([re({type:Boolean})],hn.prototype,"opacity",2),f([re({type:Boolean})],hn.prototype,"uppercase",2),f([re()],hn.prototype,"swatches",2),f([re({reflect:!0})],hn.prototype,"form",2),f([re({type:Boolean,reflect:!0})],hn.prototype,"required",2),f([ae({passive:!1})],hn.prototype,"handleTouchMove",1),f([Jt("format",{waitUntilFirstUpdate:!0})],hn.prototype,"handleFormatChange",1),f([Jt("opacity",{waitUntilFirstUpdate:!0})],hn.prototype,"handleOpacityChange",1),f([Jt("value")],hn.prototype,"handleValueChange",1),hn.define("sl-color-picker");var cn=I`
  :host {
    --border-color: var(--sl-color-neutral-200);
    --border-radius: var(--sl-border-radius-medium);
    --border-width: 1px;
    --padding: var(--sl-spacing-large);

    display: inline-block;
  }

  .card {
    display: flex;
    flex-direction: column;
    background-color: var(--sl-panel-background-color);
    box-shadow: var(--sl-shadow-x-small);
    border: solid var(--border-width) var(--border-color);
    border-radius: var(--border-radius);
  }

  .card__image {
    display: flex;
    border-top-left-radius: var(--border-radius);
    border-top-right-radius: var(--border-radius);
    margin: calc(-1 * var(--border-width));
    overflow: hidden;
  }

  .card__image::slotted(img) {
    display: block;
    width: 100%;
  }

  .card:not(.card--has-image) .card__image {
    display: none;
  }

  .card__header {
    display: block;
    border-bottom: solid var(--border-width) var(--border-color);
    padding: calc(var(--padding) / 2) var(--padding);
  }

  .card:not(.card--has-header) .card__header {
    display: none;
  }

  .card:not(.card--has-image) .card__header {
    border-top-left-radius: var(--border-radius);
    border-top-right-radius: var(--border-radius);
  }

  .card__body {
    display: block;
    padding: var(--padding);
  }

  .card--has-footer .card__footer {
    display: block;
    border-top: solid var(--border-width) var(--border-color);
    padding: var(--padding);
  }

  .card:not(.card--has-footer) .card__footer {
    display: none;
  }
`,dn=class extends he{constructor(){super(...arguments),this.hasSlotController=new Yt(this,"footer","header","image")}render(){return bt`
      <div
        part="base"
        class=${xe({card:!0,"card--has-footer":this.hasSlotController.test("footer"),"card--has-image":this.hasSlotController.test("image"),"card--has-header":this.hasSlotController.test("header")})}
      >
        <slot name="image" part="image" class="card__image"></slot>
        <slot name="header" part="header" class="card__header"></slot>
        <slot part="body" class="card__body"></slot>
        <slot name="footer" part="footer" class="card__footer"></slot>
      </div>
    `}};dn.styles=[te,cn],dn.define("sl-card");var un=class{constructor(t,e){this.timerId=0,this.activeInteractions=0,this.paused=!1,this.stopped=!0,this.pause=()=>{this.activeInteractions++||(this.paused=!0,this.host.requestUpdate())},this.resume=()=>{--this.activeInteractions||(this.paused=!1,this.host.requestUpdate())},t.addController(this),this.host=t,this.tickCallback=e}hostConnected(){this.host.addEventListener("mouseenter",this.pause),this.host.addEventListener("mouseleave",this.resume),this.host.addEventListener("focusin",this.pause),this.host.addEventListener("focusout",this.resume),this.host.addEventListener("touchstart",this.pause,{passive:!0}),this.host.addEventListener("touchend",this.resume)}hostDisconnected(){this.stop(),this.host.removeEventListener("mouseenter",this.pause),this.host.removeEventListener("mouseleave",this.resume),this.host.removeEventListener("focusin",this.pause),this.host.removeEventListener("focusout",this.resume),this.host.removeEventListener("touchstart",this.pause),this.host.removeEventListener("touchend",this.resume)}start(t){this.stop(),this.stopped=!1,this.timerId=window.setInterval(()=>{this.paused||this.tickCallback()},t)}stop(){clearInterval(this.timerId),this.stopped=!0,this.host.requestUpdate()}},pn=I`
  :host {
    --slide-gap: var(--sl-spacing-medium, 1rem);
    --aspect-ratio: 16 / 9;
    --scroll-hint: 0px;

    display: flex;
  }

  .carousel {
    display: grid;
    grid-template-columns: min-content 1fr min-content;
    grid-template-rows: 1fr min-content;
    grid-template-areas:
      '. slides .'
      '. pagination .';
    gap: var(--sl-spacing-medium);
    align-items: center;
    min-height: 100%;
    min-width: 100%;
    position: relative;
  }

  .carousel__pagination {
    grid-area: pagination;
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: var(--sl-spacing-small);
  }

  .carousel__slides {
    grid-area: slides;

    display: grid;
    height: 100%;
    width: 100%;
    align-items: center;
    justify-items: center;
    overflow: auto;
    overscroll-behavior-x: contain;
    scrollbar-width: none;
    aspect-ratio: calc(var(--aspect-ratio) * var(--slides-per-page));
    border-radius: var(--sl-border-radius-small);

    --slide-size: calc((100% - (var(--slides-per-page) - 1) * var(--slide-gap)) / var(--slides-per-page));
  }

  @media (prefers-reduced-motion) {
    :where(.carousel__slides) {
      scroll-behavior: auto;
    }
  }

  .carousel__slides--horizontal {
    grid-auto-flow: column;
    grid-auto-columns: var(--slide-size);
    grid-auto-rows: 100%;
    column-gap: var(--slide-gap);
    scroll-snap-type: x mandatory;
    scroll-padding-inline: var(--scroll-hint);
    padding-inline: var(--scroll-hint);
    overflow-y: hidden;
  }

  .carousel__slides--vertical {
    grid-auto-flow: row;
    grid-auto-columns: 100%;
    grid-auto-rows: var(--slide-size);
    row-gap: var(--slide-gap);
    scroll-snap-type: y mandatory;
    scroll-padding-block: var(--scroll-hint);
    padding-block: var(--scroll-hint);
    overflow-x: hidden;
  }

  .carousel__slides--dragging {
  }

  :host([vertical]) ::slotted(sl-carousel-item) {
    height: 100%;
  }

  .carousel__slides::-webkit-scrollbar {
    display: none;
  }

  .carousel__navigation {
    grid-area: navigation;
    display: contents;
    font-size: var(--sl-font-size-x-large);
  }

  .carousel__navigation-button {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    background: none;
    border: none;
    border-radius: var(--sl-border-radius-small);
    font-size: inherit;
    color: var(--sl-color-neutral-600);
    padding: var(--sl-spacing-x-small);
    cursor: pointer;
    transition: var(--sl-transition-medium) color;
    appearance: none;
  }

  .carousel__navigation-button--disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  .carousel__navigation-button--disabled::part(base) {
    pointer-events: none;
  }

  .carousel__navigation-button--previous {
    grid-column: 1;
    grid-row: 1;
  }

  .carousel__navigation-button--next {
    grid-column: 3;
    grid-row: 1;
  }

  .carousel__pagination-item {
    display: block;
    cursor: pointer;
    background: none;
    border: 0;
    border-radius: var(--sl-border-radius-circle);
    width: var(--sl-spacing-small);
    height: var(--sl-spacing-small);
    background-color: var(--sl-color-neutral-300);
    padding: 0;
    margin: 0;
  }

  .carousel__pagination-item--active {
    background-color: var(--sl-color-neutral-700);
    transform: scale(1.2);
  }

  /* Focus styles */
  .carousel__slides:focus-visible,
  .carousel__navigation-button:focus-visible,
  .carousel__pagination-item:focus-visible {
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }
`,mn=class extends he{constructor(){super(...arguments),this.loop=!1,this.navigation=!1,this.pagination=!1,this.autoplay=!1,this.autoplayInterval=3e3,this.slidesPerPage=1,this.slidesPerMove=1,this.orientation="horizontal",this.mouseDragging=!1,this.activeSlide=0,this.scrolling=!1,this.dragging=!1,this.autoplayController=new un(this,()=>this.next()),this.dragStartPosition=[-1,-1],this.localize=new ze(this),this.pendingSlideChange=!1,this.handleMouseDrag=t=>{this.dragging||(this.scrollContainer.style.setProperty("scroll-snap-type","none"),this.dragging=!0,this.dragStartPosition=[t.clientX,t.clientY]),this.scrollContainer.scrollBy({left:-t.movementX,top:-t.movementY,behavior:"instant"})},this.handleMouseDragEnd=()=>{const t=this.scrollContainer;document.removeEventListener("pointermove",this.handleMouseDrag,{capture:!0});const e=t.scrollLeft,i=t.scrollTop;t.style.removeProperty("scroll-snap-type"),t.style.setProperty("overflow","hidden");const r=t.scrollLeft,s=t.scrollTop;t.style.removeProperty("overflow"),t.style.setProperty("scroll-snap-type","none"),t.scrollTo({left:e,top:i,behavior:"instant"}),requestAnimationFrame(async()=>{e===r&&i===s||(t.scrollTo({left:r,top:s,behavior:Xe()?"auto":"smooth"}),await wr(t,"scrollend")),t.style.removeProperty("scroll-snap-type"),this.dragging=!1,this.dragStartPosition=[-1,-1],this.handleScrollEnd()})},this.handleSlotChange=t=>{const e=t.some(t=>[...t.addedNodes,...t.removedNodes].some(t=>this.isCarouselItem(t)&&!t.hasAttribute("data-clone")));e&&this.initializeSlides(),this.requestUpdate()}}connectedCallback(){super.connectedCallback(),this.setAttribute("role","region"),this.setAttribute("aria-label",this.localize.term("carousel"))}disconnectedCallback(){var t;super.disconnectedCallback(),null==(t=this.mutationObserver)||t.disconnect()}firstUpdated(){this.initializeSlides(),this.mutationObserver=new MutationObserver(this.handleSlotChange),this.mutationObserver.observe(this,{childList:!0,subtree:!0})}willUpdate(t){(t.has("slidesPerMove")||t.has("slidesPerPage"))&&(this.slidesPerMove=Math.min(this.slidesPerMove,this.slidesPerPage))}getPageCount(){const t=this.getSlides().length,{slidesPerPage:e,slidesPerMove:i,loop:r}=this,s=r?t/i:(t-e)/i+1;return Math.ceil(s)}getCurrentPage(){return Math.ceil(this.activeSlide/this.slidesPerMove)}canScrollNext(){return this.loop||this.getCurrentPage()<this.getPageCount()-1}canScrollPrev(){return this.loop||this.getCurrentPage()>0}getSlides({excludeClones:t=!0}={}){return[...this.children].filter(e=>this.isCarouselItem(e)&&(!t||!e.hasAttribute("data-clone")))}handleClick(t){if(this.dragging&&this.dragStartPosition[0]>0&&this.dragStartPosition[1]>0){const e=Math.abs(this.dragStartPosition[0]-t.clientX),i=Math.abs(this.dragStartPosition[1]-t.clientY);Math.sqrt(e*e+i*i)>=10&&t.preventDefault()}}handleKeyDown(t){if(["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Home","End"].includes(t.key)){const e=t.target,i="rtl"===this.localize.dir(),r=null!==e.closest('[part~="pagination-item"]'),s="ArrowDown"===t.key||!i&&"ArrowRight"===t.key||i&&"ArrowLeft"===t.key,a="ArrowUp"===t.key||!i&&"ArrowLeft"===t.key||i&&"ArrowRight"===t.key;t.preventDefault(),a&&this.previous(),s&&this.next(),"Home"===t.key&&this.goToSlide(0),"End"===t.key&&this.goToSlide(this.getSlides().length-1),r&&this.updateComplete.then(()=>{var t;const e=null==(t=this.shadowRoot)?void 0:t.querySelector('[part~="pagination-item--active"]');e&&e.focus()})}}handleMouseDragStart(t){this.mouseDragging&&0===t.button&&(t.preventDefault(),document.addEventListener("pointermove",this.handleMouseDrag,{capture:!0,passive:!0}),document.addEventListener("pointerup",this.handleMouseDragEnd,{capture:!0,once:!0}))}handleScroll(){this.scrolling=!0,this.pendingSlideChange||this.synchronizeSlides()}synchronizeSlides(){const t=new IntersectionObserver(e=>{t.disconnect();for(const t of e){const e=t.target;e.toggleAttribute("inert",!t.isIntersecting),e.classList.toggle("--in-view",t.isIntersecting),e.setAttribute("aria-hidden",t.isIntersecting?"false":"true")}const i=e.find(t=>t.isIntersecting);if(!i)return;const r=this.getSlides({excludeClones:!1}),s=this.getSlides().length,a=r.indexOf(i.target),n=this.loop?a-this.slidesPerPage:a;if(this.activeSlide=(Math.ceil(n/this.slidesPerMove)*this.slidesPerMove+s)%s,!this.scrolling&&this.loop&&i.target.hasAttribute("data-clone")){const t=Number(i.target.getAttribute("data-clone"));this.goToSlide(t,"instant")}},{root:this.scrollContainer,threshold:.6});this.getSlides({excludeClones:!1}).forEach(e=>{t.observe(e)})}handleScrollEnd(){this.scrolling&&!this.dragging&&(this.scrolling=!1,this.pendingSlideChange=!1,this.synchronizeSlides())}isCarouselItem(t){return t instanceof Element&&"sl-carousel-item"===t.tagName.toLowerCase()}initializeSlides(){this.getSlides({excludeClones:!1}).forEach((t,e)=>{t.classList.remove("--in-view"),t.classList.remove("--is-active"),t.setAttribute("role","group"),t.setAttribute("aria-label",this.localize.term("slideNum",e+1)),this.pagination&&(t.setAttribute("id",`slide-${e+1}`),t.setAttribute("role","tabpanel"),t.removeAttribute("aria-label"),t.setAttribute("aria-labelledby",`tab-${e+1}`)),t.hasAttribute("data-clone")&&t.remove()}),this.updateSlidesSnap(),this.loop&&this.createClones(),this.goToSlide(this.activeSlide,"auto"),this.synchronizeSlides()}createClones(){const t=this.getSlides(),e=this.slidesPerPage,i=t.slice(-e),r=t.slice(0,e);i.reverse().forEach((e,i)=>{const r=e.cloneNode(!0);r.setAttribute("data-clone",String(t.length-i-1)),this.prepend(r)}),r.forEach((t,e)=>{const i=t.cloneNode(!0);i.setAttribute("data-clone",String(e)),this.append(i)})}handleSlideChange(){const t=this.getSlides();t.forEach((t,e)=>{t.classList.toggle("--is-active",e===this.activeSlide)}),this.hasUpdated&&this.emit("sl-slide-change",{detail:{index:this.activeSlide,slide:t[this.activeSlide]}})}updateSlidesSnap(){const t=this.getSlides(),e=this.slidesPerMove;t.forEach((t,i)=>{(i+e)%e===0?t.style.removeProperty("scroll-snap-align"):t.style.setProperty("scroll-snap-align","none")})}handleAutoplayChange(){this.autoplayController.stop(),this.autoplay&&this.autoplayController.start(this.autoplayInterval)}previous(t="smooth"){this.goToSlide(this.activeSlide-this.slidesPerMove,t)}next(t="smooth"){this.goToSlide(this.activeSlide+this.slidesPerMove,t)}goToSlide(t,e="smooth"){const{slidesPerPage:i,loop:r}=this,s=this.getSlides(),a=this.getSlides({excludeClones:!1});if(!s.length)return;const n=r?(t+s.length)%s.length:Sr(t,0,s.length-i);this.activeSlide=n;const o=a[Sr(t+(r?i:0)+("rtl"===this.localize.dir()?i-1:0),0,a.length-1)];this.scrollToSlide(o,Xe()?"auto":e)}scrollToSlide(t,e="smooth"){this.pendingSlideChange=!0,window.requestAnimationFrame(()=>{if(!this.scrollContainer)return;const i=this.scrollContainer,r=i.getBoundingClientRect(),s=t.getBoundingClientRect(),a=s.left-r.left,n=s.top-r.top;a||n?(this.pendingSlideChange=!0,i.scrollTo({left:a+i.scrollLeft,top:n+i.scrollTop,behavior:e})):this.pendingSlideChange=!1})}render(){const{slidesPerMove:t,scrolling:e}=this,i=this.getPageCount(),r=this.getCurrentPage(),s=this.canScrollPrev(),a=this.canScrollNext(),n="ltr"===this.localize.dir();return bt`
      <div part="base" class="carousel">
        <div
          id="scroll-container"
          part="scroll-container"
          class="${xe({carousel__slides:!0,"carousel__slides--horizontal":"horizontal"===this.orientation,"carousel__slides--vertical":"vertical"===this.orientation,"carousel__slides--dragging":this.dragging})}"
          style="--slides-per-page: ${this.slidesPerPage};"
          aria-busy="${e?"true":"false"}"
          aria-atomic="true"
          tabindex="0"
          @keydown=${this.handleKeyDown}
          @mousedown="${this.handleMouseDragStart}"
          @scroll="${this.handleScroll}"
          @scrollend=${this.handleScrollEnd}
          @click=${this.handleClick}
        >
          <slot></slot>
        </div>

        ${this.navigation?bt`
              <div part="navigation" class="carousel__navigation">
                <button
                  part="navigation-button navigation-button--previous"
                  class="${xe({"carousel__navigation-button":!0,"carousel__navigation-button--previous":!0,"carousel__navigation-button--disabled":!s})}"
                  aria-label="${this.localize.term("previousSlide")}"
                  aria-controls="scroll-container"
                  aria-disabled="${s?"false":"true"}"
                  @click=${s?()=>this.previous():null}
                >
                  <slot name="previous-icon">
                    <sl-icon library="system" name="${n?"chevron-left":"chevron-right"}"></sl-icon>
                  </slot>
                </button>

                <button
                  part="navigation-button navigation-button--next"
                  class=${xe({"carousel__navigation-button":!0,"carousel__navigation-button--next":!0,"carousel__navigation-button--disabled":!a})}
                  aria-label="${this.localize.term("nextSlide")}"
                  aria-controls="scroll-container"
                  aria-disabled="${a?"false":"true"}"
                  @click=${a?()=>this.next():null}
                >
                  <slot name="next-icon">
                    <sl-icon library="system" name="${n?"chevron-right":"chevron-left"}"></sl-icon>
                  </slot>
                </button>
              </div>
            `:""}
        ${this.pagination?bt`
              <div part="pagination" role="tablist" class="carousel__pagination">
                ${function*(t,e){if(void 0!==t){let i=0;for(const r of t)yield e(r,i++)}}(function*(t,e,i=1){const r=void 0===e?0:t;e??=t;for(let t=r;i>0?t<e:e<t;t+=i)yield t}(i),e=>{const s=e===r;return bt`
                    <button
                      part="pagination-item ${s?"pagination-item--active":""}"
                      class="${xe({"carousel__pagination-item":!0,"carousel__pagination-item--active":s})}"
                      role="tab"
                      id="tab-${e+1}"
                      aria-controls="slide-${e+1}"
                      aria-selected="${s?"true":"false"}"
                      aria-label="${s?this.localize.term("slideNum",e+1):this.localize.term("goToSlide",e+1,i)}"
                      tabindex=${s?"0":"-1"}
                      @click=${()=>this.goToSlide(e*t)}
                      @keydown=${this.handleKeyDown}
                    ></button>
                  `})}
              </div>
            `:""}
      </div>
    `}};mn.styles=[te,pn],mn.dependencies={"sl-icon":be},f([re({type:Boolean,reflect:!0})],mn.prototype,"loop",2),f([re({type:Boolean,reflect:!0})],mn.prototype,"navigation",2),f([re({type:Boolean,reflect:!0})],mn.prototype,"pagination",2),f([re({type:Boolean,reflect:!0})],mn.prototype,"autoplay",2),f([re({type:Number,attribute:"autoplay-interval"})],mn.prototype,"autoplayInterval",2),f([re({type:Number,attribute:"slides-per-page"})],mn.prototype,"slidesPerPage",2),f([re({type:Number,attribute:"slides-per-move"})],mn.prototype,"slidesPerMove",2),f([re()],mn.prototype,"orientation",2),f([re({type:Boolean,reflect:!0,attribute:"mouse-dragging"})],mn.prototype,"mouseDragging",2),f([oe(".carousel__slides")],mn.prototype,"scrollContainer",2),f([oe(".carousel__pagination")],mn.prototype,"paginationContainer",2),f([se()],mn.prototype,"activeSlide",2),f([se()],mn.prototype,"scrolling",2),f([se()],mn.prototype,"dragging",2),f([ae({passive:!0})],mn.prototype,"handleScroll",1),f([Jt("loop",{waitUntilFirstUpdate:!0}),Jt("slidesPerPage",{waitUntilFirstUpdate:!0})],mn.prototype,"initializeSlides",1),f([Jt("activeSlide")],mn.prototype,"handleSlideChange",1),f([Jt("slidesPerMove")],mn.prototype,"updateSlidesSnap",1),f([Jt("autoplay")],mn.prototype,"handleAutoplayChange",1),mn.define("sl-carousel");var fn=(t,e)=>{let i=0;return function(...r){window.clearTimeout(i),i=window.setTimeout(()=>{t.call(this,...r)},e)}},gn=(t,e,i)=>{const r=t[e];t[e]=function(...t){r.call(this,...t),i.call(this,r,...t)}};(()=>{if("undefined"!=typeof window&&!("onscrollend"in window)){const t=new Set,e=new WeakMap,i=e=>{for(const i of e.changedTouches)t.add(i.identifier)},r=e=>{for(const i of e.changedTouches)t.delete(i.identifier)};document.addEventListener("touchstart",i,!0),document.addEventListener("touchend",r,!0),document.addEventListener("touchcancel",r,!0),gn(EventTarget.prototype,"addEventListener",function(i,r){if("scrollend"!==r)return;const s=fn(()=>{t.size?s():this.dispatchEvent(new Event("scrollend"))},100);i.call(this,"scroll",s,{passive:!0}),e.set(this,s)}),gn(EventTarget.prototype,"removeEventListener",function(t,i){if("scrollend"!==i)return;const r=e.get(this);r&&t.call(this,"scroll",r,{passive:!0})})}})();var bn=I`
  :host {
    --aspect-ratio: inherit;

    display: flex;
    align-items: center;
    justify-content: center;
    flex-direction: column;
    width: 100%;
    max-height: 100%;
    aspect-ratio: var(--aspect-ratio);
    scroll-snap-align: start;
    scroll-snap-stop: always;
  }

  ::slotted(img) {
    width: 100% !important;
    height: 100% !important;
    object-fit: cover;
  }
`,yn=class extends he{connectedCallback(){super.connectedCallback()}render(){return bt` <slot></slot> `}};yn.styles=[te,bn],yn.define("sl-carousel-item");var vn=I`
  :host {
    display: inline-flex;
  }

  .breadcrumb-item {
    display: inline-flex;
    align-items: center;
    font-family: var(--sl-font-sans);
    font-size: var(--sl-font-size-small);
    font-weight: var(--sl-font-weight-semibold);
    color: var(--sl-color-neutral-600);
    line-height: var(--sl-line-height-normal);
    white-space: nowrap;
  }

  .breadcrumb-item__label {
    display: inline-block;
    font-family: inherit;
    font-size: inherit;
    font-weight: inherit;
    line-height: inherit;
    text-decoration: none;
    color: inherit;
    background: none;
    border: none;
    border-radius: var(--sl-border-radius-medium);
    padding: 0;
    margin: 0;
    cursor: pointer;
    transition: var(--sl-transition-fast) --color;
  }

  :host(:not(:last-of-type)) .breadcrumb-item__label {
    color: var(--sl-color-primary-600);
  }

  :host(:not(:last-of-type)) .breadcrumb-item__label:hover {
    color: var(--sl-color-primary-500);
  }

  :host(:not(:last-of-type)) .breadcrumb-item__label:active {
    color: var(--sl-color-primary-600);
  }

  .breadcrumb-item__label:focus {
    outline: none;
  }

  .breadcrumb-item__label:focus-visible {
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  .breadcrumb-item__prefix,
  .breadcrumb-item__suffix {
    display: none;
    flex: 0 0 auto;
    display: flex;
    align-items: center;
  }

  .breadcrumb-item--has-prefix .breadcrumb-item__prefix {
    display: inline-flex;
    margin-inline-end: var(--sl-spacing-x-small);
  }

  .breadcrumb-item--has-suffix .breadcrumb-item__suffix {
    display: inline-flex;
    margin-inline-start: var(--sl-spacing-x-small);
  }

  :host(:last-of-type) .breadcrumb-item__separator {
    display: none;
  }

  .breadcrumb-item__separator {
    display: inline-flex;
    align-items: center;
    margin: 0 var(--sl-spacing-x-small);
    user-select: none;
    -webkit-user-select: none;
  }
`,xn=class extends he{constructor(){super(...arguments),this.hasSlotController=new Yt(this,"prefix","suffix"),this.renderType="button",this.rel="noreferrer noopener"}setRenderType(){const t=this.defaultSlot.assignedElements({flatten:!0}).filter(t=>"sl-dropdown"===t.tagName.toLowerCase()).length>0;this.href?this.renderType="link":this.renderType=t?"dropdown":"button"}hrefChanged(){this.setRenderType()}handleSlotChange(){this.setRenderType()}render(){return bt`
      <div
        part="base"
        class=${xe({"breadcrumb-item":!0,"breadcrumb-item--has-prefix":this.hasSlotController.test("prefix"),"breadcrumb-item--has-suffix":this.hasSlotController.test("suffix")})}
      >
        <span part="prefix" class="breadcrumb-item__prefix">
          <slot name="prefix"></slot>
        </span>

        ${"link"===this.renderType?bt`
              <a
                part="label"
                class="breadcrumb-item__label breadcrumb-item__label--link"
                href="${this.href}"
                target="${we(this.target?this.target:void 0)}"
                rel=${we(this.target?this.rel:void 0)}
              >
                <slot @slotchange=${this.handleSlotChange}></slot>
              </a>
            `:""}
        ${"button"===this.renderType?bt`
              <button part="label" type="button" class="breadcrumb-item__label breadcrumb-item__label--button">
                <slot @slotchange=${this.handleSlotChange}></slot>
              </button>
            `:""}
        ${"dropdown"===this.renderType?bt`
              <div part="label" class="breadcrumb-item__label breadcrumb-item__label--drop-down">
                <slot @slotchange=${this.handleSlotChange}></slot>
              </div>
            `:""}

        <span part="suffix" class="breadcrumb-item__suffix">
          <slot name="suffix"></slot>
        </span>

        <span part="separator" class="breadcrumb-item__separator" aria-hidden="true">
          <slot name="separator"></slot>
        </span>
      </div>
    `}};xn.styles=[te,vn],f([oe("slot:not([name])")],xn.prototype,"defaultSlot",2),f([se()],xn.prototype,"renderType",2),f([re()],xn.prototype,"href",2),f([re()],xn.prototype,"target",2),f([re()],xn.prototype,"rel",2),f([Jt("href",{waitUntilFirstUpdate:!0})],xn.prototype,"hrefChanged",1),xn.define("sl-breadcrumb-item"),Ts.define("sl-button-group");var wn=I`
  :host {
    display: inline-block;

    --size: 3rem;
  }

  .avatar {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    position: relative;
    width: var(--size);
    height: var(--size);
    background-color: var(--sl-color-neutral-400);
    font-family: var(--sl-font-sans);
    font-size: calc(var(--size) * 0.5);
    font-weight: var(--sl-font-weight-normal);
    color: var(--sl-color-neutral-0);
    user-select: none;
    -webkit-user-select: none;
    vertical-align: middle;
  }

  .avatar--circle,
  .avatar--circle .avatar__image {
    border-radius: var(--sl-border-radius-circle);
  }

  .avatar--rounded,
  .avatar--rounded .avatar__image {
    border-radius: var(--sl-border-radius-medium);
  }

  .avatar--square {
    border-radius: 0;
  }

  .avatar__icon {
    display: flex;
    align-items: center;
    justify-content: center;
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }

  .avatar__initials {
    line-height: 1;
    text-transform: uppercase;
  }

  .avatar__image {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    overflow: hidden;
  }
`,_n=class extends he{constructor(){super(...arguments),this.hasError=!1,this.image="",this.label="",this.initials="",this.loading="eager",this.shape="circle"}handleImageChange(){this.hasError=!1}handleImageLoadError(){this.hasError=!0,this.emit("sl-error")}render(){const t=bt`
      <img
        part="image"
        class="avatar__image"
        src="${this.image}"
        loading="${this.loading}"
        alt=""
        @error="${this.handleImageLoadError}"
      />
    `;let e=bt``;return e=this.initials?bt`<div part="initials" class="avatar__initials">${this.initials}</div>`:bt`
        <div part="icon" class="avatar__icon" aria-hidden="true">
          <slot name="icon">
            <sl-icon name="person-fill" library="system"></sl-icon>
          </slot>
        </div>
      `,bt`
      <div
        part="base"
        class=${xe({avatar:!0,"avatar--circle":"circle"===this.shape,"avatar--rounded":"rounded"===this.shape,"avatar--square":"square"===this.shape})}
        role="img"
        aria-label=${this.label}
      >
        ${this.image&&!this.hasError?t:e}
      </div>
    `}};_n.styles=[te,wn],_n.dependencies={"sl-icon":be},f([se()],_n.prototype,"hasError",2),f([re()],_n.prototype,"image",2),f([re()],_n.prototype,"label",2),f([re()],_n.prototype,"initials",2),f([re()],_n.prototype,"loading",2),f([re({reflect:!0})],_n.prototype,"shape",2),f([Jt("image")],_n.prototype,"handleImageChange",1),_n.define("sl-avatar");var kn=I`
  .breadcrumb {
    display: flex;
    align-items: center;
    flex-wrap: wrap;
  }
`,Sn=class extends he{constructor(){super(...arguments),this.localize=new ze(this),this.separatorDir=this.localize.dir(),this.label=""}getSeparator(){const t=this.separatorSlot.assignedElements({flatten:!0})[0].cloneNode(!0);return[t,...t.querySelectorAll("[id]")].forEach(t=>t.removeAttribute("id")),t.setAttribute("data-default",""),t.slot="separator",t}handleSlotChange(){const t=[...this.defaultSlot.assignedElements({flatten:!0})].filter(t=>"sl-breadcrumb-item"===t.tagName.toLowerCase());t.forEach((e,i)=>{const r=e.querySelector('[slot="separator"]');null===r?e.append(this.getSeparator()):r.hasAttribute("data-default")&&r.replaceWith(this.getSeparator()),i===t.length-1?e.setAttribute("aria-current","page"):e.removeAttribute("aria-current")})}render(){return this.separatorDir!==this.localize.dir()&&(this.separatorDir=this.localize.dir(),this.updateComplete.then(()=>this.handleSlotChange())),bt`
      <nav part="base" class="breadcrumb" aria-label=${this.label}>
        <slot @slotchange=${this.handleSlotChange}></slot>
      </nav>

      <span hidden aria-hidden="true">
        <slot name="separator">
          <sl-icon name=${"rtl"===this.localize.dir()?"chevron-left":"chevron-right"} library="system"></sl-icon>
        </slot>
      </span>
    `}};Sn.styles=[te,kn],Sn.dependencies={"sl-icon":be},f([oe("slot")],Sn.prototype,"defaultSlot",2),f([oe('slot[name="separator"]')],Sn.prototype,"separatorSlot",2),f([re()],Sn.prototype,"label",2),Sn.define("sl-breadcrumb"),Wa.define("sl-button");var Cn=I`
  :host {
    --control-box-size: 3rem;
    --icon-size: calc(var(--control-box-size) * 0.625);

    display: inline-flex;
    position: relative;
    cursor: pointer;
  }

  img {
    display: block;
    width: 100%;
    height: 100%;
  }

  img[aria-hidden='true'] {
    display: none;
  }

  .animated-image__control-box {
    display: flex;
    position: absolute;
    align-items: center;
    justify-content: center;
    top: calc(50% - var(--control-box-size) / 2);
    right: calc(50% - var(--control-box-size) / 2);
    width: var(--control-box-size);
    height: var(--control-box-size);
    font-size: var(--icon-size);
    background: none;
    border: solid 2px currentColor;
    background-color: rgb(0 0 0 /50%);
    border-radius: var(--sl-border-radius-circle);
    color: white;
    pointer-events: none;
    transition: var(--sl-transition-fast) opacity;
  }

  :host([play]:hover) .animated-image__control-box {
    opacity: 1;
  }

  :host([play]:not(:hover)) .animated-image__control-box {
    opacity: 0;
  }

  :host([play]) slot[name='play-icon'],
  :host(:not([play])) slot[name='pause-icon'] {
    display: none;
  }
`,An=class extends he{constructor(){super(...arguments),this.isLoaded=!1}handleClick(){this.play=!this.play}handleLoad(){const t=document.createElement("canvas"),{width:e,height:i}=this.animatedImage;t.width=e,t.height=i,t.getContext("2d").drawImage(this.animatedImage,0,0,e,i),this.frozenFrame=t.toDataURL("image/gif"),this.isLoaded||(this.emit("sl-load"),this.isLoaded=!0)}handleError(){this.emit("sl-error")}handlePlayChange(){this.play&&(this.animatedImage.src="",this.animatedImage.src=this.src)}handleSrcChange(){this.isLoaded=!1}render(){return bt`
      <div class="animated-image">
        <img
          class="animated-image__animated"
          src=${this.src}
          alt=${this.alt}
          crossorigin="anonymous"
          aria-hidden=${this.play?"false":"true"}
          @click=${this.handleClick}
          @load=${this.handleLoad}
          @error=${this.handleError}
        />

        ${this.isLoaded?bt`
              <img
                class="animated-image__frozen"
                src=${this.frozenFrame}
                alt=${this.alt}
                aria-hidden=${this.play?"true":"false"}
                @click=${this.handleClick}
              />

              <div part="control-box" class="animated-image__control-box">
                <slot name="play-icon"><sl-icon name="play-fill" library="system"></sl-icon></slot>
                <slot name="pause-icon"><sl-icon name="pause-fill" library="system"></sl-icon></slot>
              </div>
            `:""}
      </div>
    `}};An.styles=[te,Cn],An.dependencies={"sl-icon":be},f([oe(".animated-image__animated")],An.prototype,"animatedImage",2),f([se()],An.prototype,"frozenFrame",2),f([se()],An.prototype,"isLoaded",2),f([re()],An.prototype,"src",2),f([re()],An.prototype,"alt",2),f([re({type:Boolean,reflect:!0})],An.prototype,"play",2),f([Jt("play",{waitUntilFirstUpdate:!0})],An.prototype,"handlePlayChange",1),f([Jt("src")],An.prototype,"handleSrcChange",1),An.define("sl-animated-image");var Tn=I`
  :host {
    display: inline-flex;
  }

  .badge {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    font-size: max(12px, 0.75em);
    font-weight: var(--sl-font-weight-semibold);
    letter-spacing: var(--sl-letter-spacing-normal);
    line-height: 1;
    border-radius: var(--sl-border-radius-small);
    border: solid 1px var(--sl-color-neutral-0);
    white-space: nowrap;
    padding: 0.35em 0.6em;
    user-select: none;
    -webkit-user-select: none;
    cursor: inherit;
  }

  /* Variant modifiers */
  .badge--primary {
    background-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
  }

  .badge--success {
    background-color: var(--sl-color-success-600);
    color: var(--sl-color-neutral-0);
  }

  .badge--neutral {
    background-color: var(--sl-color-neutral-600);
    color: var(--sl-color-neutral-0);
  }

  .badge--warning {
    background-color: var(--sl-color-warning-600);
    color: var(--sl-color-neutral-0);
  }

  .badge--danger {
    background-color: var(--sl-color-danger-600);
    color: var(--sl-color-neutral-0);
  }

  /* Pill modifier */
  .badge--pill {
    border-radius: var(--sl-border-radius-pill);
  }

  /* Pulse modifier */
  .badge--pulse {
    animation: pulse 1.5s infinite;
  }

  .badge--pulse.badge--primary {
    --pulse-color: var(--sl-color-primary-600);
  }

  .badge--pulse.badge--success {
    --pulse-color: var(--sl-color-success-600);
  }

  .badge--pulse.badge--neutral {
    --pulse-color: var(--sl-color-neutral-600);
  }

  .badge--pulse.badge--warning {
    --pulse-color: var(--sl-color-warning-600);
  }

  .badge--pulse.badge--danger {
    --pulse-color: var(--sl-color-danger-600);
  }

  @keyframes pulse {
    0% {
      box-shadow: 0 0 0 0 var(--pulse-color);
    }
    70% {
      box-shadow: 0 0 0 0.5rem transparent;
    }
    100% {
      box-shadow: 0 0 0 0 transparent;
    }
  }
`,Mn=class extends he{constructor(){super(...arguments),this.variant="primary",this.pill=!1,this.pulse=!1}render(){return bt`
      <span
        part="base"
        class=${xe({badge:!0,"badge--primary":"primary"===this.variant,"badge--success":"success"===this.variant,"badge--neutral":"neutral"===this.variant,"badge--warning":"warning"===this.variant,"badge--danger":"danger"===this.variant,"badge--pill":this.pill,"badge--pulse":this.pulse})}
        role="status"
      >
        <slot></slot>
      </span>
    `}};Mn.styles=[te,Tn],f([re({reflect:!0})],Mn.prototype,"variant",2),f([re({type:Boolean,reflect:!0})],Mn.prototype,"pill",2),f([re({type:Boolean,reflect:!0})],Mn.prototype,"pulse",2),Mn.define("sl-badge");var Bn=I`
  :host {
    display: contents;

    /* For better DX, we'll reset the margin here so the base part can inherit it */
    margin: 0;
  }

  .alert {
    position: relative;
    display: flex;
    align-items: stretch;
    background-color: var(--sl-panel-background-color);
    border: solid var(--sl-panel-border-width) var(--sl-panel-border-color);
    border-top-width: calc(var(--sl-panel-border-width) * 3);
    border-radius: var(--sl-border-radius-medium);
    font-family: var(--sl-font-sans);
    font-size: var(--sl-font-size-small);
    font-weight: var(--sl-font-weight-normal);
    line-height: 1.6;
    color: var(--sl-color-neutral-700);
    margin: inherit;
    overflow: hidden;
  }

  .alert:not(.alert--has-icon) .alert__icon,
  .alert:not(.alert--closable) .alert__close-button {
    display: none;
  }

  .alert__icon {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    font-size: var(--sl-font-size-large);
    padding-inline-start: var(--sl-spacing-large);
  }

  .alert--has-countdown {
    border-bottom: none;
  }

  .alert--primary {
    border-top-color: var(--sl-color-primary-600);
  }

  .alert--primary .alert__icon {
    color: var(--sl-color-primary-600);
  }

  .alert--success {
    border-top-color: var(--sl-color-success-600);
  }

  .alert--success .alert__icon {
    color: var(--sl-color-success-600);
  }

  .alert--neutral {
    border-top-color: var(--sl-color-neutral-600);
  }

  .alert--neutral .alert__icon {
    color: var(--sl-color-neutral-600);
  }

  .alert--warning {
    border-top-color: var(--sl-color-warning-600);
  }

  .alert--warning .alert__icon {
    color: var(--sl-color-warning-600);
  }

  .alert--danger {
    border-top-color: var(--sl-color-danger-600);
  }

  .alert--danger .alert__icon {
    color: var(--sl-color-danger-600);
  }

  .alert__message {
    flex: 1 1 auto;
    display: block;
    padding: var(--sl-spacing-large);
    overflow: hidden;
  }

  .alert__close-button {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    font-size: var(--sl-font-size-medium);
    margin-inline-end: var(--sl-spacing-medium);
    align-self: center;
  }

  .alert__countdown {
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    height: calc(var(--sl-panel-border-width) * 3);
    background-color: var(--sl-panel-border-color);
    display: flex;
  }

  .alert__countdown--ltr {
    justify-content: flex-end;
  }

  .alert__countdown .alert__countdown-elapsed {
    height: 100%;
    width: 0;
  }

  .alert--primary .alert__countdown-elapsed {
    background-color: var(--sl-color-primary-600);
  }

  .alert--success .alert__countdown-elapsed {
    background-color: var(--sl-color-success-600);
  }

  .alert--neutral .alert__countdown-elapsed {
    background-color: var(--sl-color-neutral-600);
  }

  .alert--warning .alert__countdown-elapsed {
    background-color: var(--sl-color-warning-600);
  }

  .alert--danger .alert__countdown-elapsed {
    background-color: var(--sl-color-danger-600);
  }

  .alert__timer {
    display: none;
  }
`,Pn=class t extends he{constructor(){super(...arguments),this.hasSlotController=new Yt(this,"icon","suffix"),this.localize=new ze(this),this.open=!1,this.closable=!1,this.variant="primary",this.duration=1/0,this.remainingTime=this.duration}static get toastStack(){return this.currentToastStack||(this.currentToastStack=Object.assign(document.createElement("div"),{className:"sl-toast-stack"})),this.currentToastStack}firstUpdated(){this.base.hidden=!this.open}restartAutoHide(){this.handleCountdownChange(),clearTimeout(this.autoHideTimeout),clearInterval(this.remainingTimeInterval),this.open&&this.duration<1/0&&(this.autoHideTimeout=window.setTimeout(()=>this.hide(),this.duration),this.remainingTime=this.duration,this.remainingTimeInterval=window.setInterval(()=>{this.remainingTime-=100},100))}pauseAutoHide(){var t;null==(t=this.countdownAnimation)||t.pause(),clearTimeout(this.autoHideTimeout),clearInterval(this.remainingTimeInterval)}resumeAutoHide(){var t;this.duration<1/0&&(this.autoHideTimeout=window.setTimeout(()=>this.hide(),this.remainingTime),this.remainingTimeInterval=window.setInterval(()=>{this.remainingTime-=100},100),null==(t=this.countdownAnimation)||t.play())}handleCountdownChange(){if(this.open&&this.duration<1/0&&this.countdown){const{countdownElement:t}=this,e="100%",i="0";this.countdownAnimation=t.animate([{width:e},{width:i}],{duration:this.duration,easing:"linear"})}}handleCloseClick(){this.hide()}async handleOpenChange(){if(this.open){this.emit("sl-show"),this.duration<1/0&&this.restartAutoHide(),await Ue(this.base),this.base.hidden=!1;const{keyframes:t,options:e}=He(this,"alert.show",{dir:this.localize.dir()});await Ne(this.base,t,e),this.emit("sl-after-show")}else{Ma(this),this.emit("sl-hide"),clearTimeout(this.autoHideTimeout),clearInterval(this.remainingTimeInterval),await Ue(this.base);const{keyframes:t,options:e}=He(this,"alert.hide",{dir:this.localize.dir()});await Ne(this.base,t,e),this.base.hidden=!0,this.emit("sl-after-hide")}}handleDurationChange(){this.restartAutoHide()}async show(){if(!this.open)return this.open=!0,wr(this,"sl-after-show")}async hide(){if(this.open)return this.open=!1,wr(this,"sl-after-hide")}async toast(){return new Promise(e=>{this.handleCountdownChange(),null===t.toastStack.parentElement&&document.body.append(t.toastStack),t.toastStack.appendChild(this),requestAnimationFrame(()=>{this.clientWidth,this.show()}),this.addEventListener("sl-after-hide",()=>{t.toastStack.removeChild(this),e(),null===t.toastStack.querySelector("sl-alert")&&t.toastStack.remove()},{once:!0})})}render(){return bt`
      <div
        part="base"
        class=${xe({alert:!0,"alert--open":this.open,"alert--closable":this.closable,"alert--has-countdown":!!this.countdown,"alert--has-icon":this.hasSlotController.test("icon"),"alert--primary":"primary"===this.variant,"alert--success":"success"===this.variant,"alert--neutral":"neutral"===this.variant,"alert--warning":"warning"===this.variant,"alert--danger":"danger"===this.variant})}
        role="alert"
        aria-hidden=${this.open?"false":"true"}
        @mouseenter=${this.pauseAutoHide}
        @mouseleave=${this.resumeAutoHide}
      >
        <div part="icon" class="alert__icon">
          <slot name="icon"></slot>
        </div>

        <div part="message" class="alert__message" aria-live="polite">
          <slot></slot>
        </div>

        ${this.closable?bt`
              <sl-icon-button
                part="close-button"
                exportparts="base:close-button__base"
                class="alert__close-button"
                name="x-lg"
                library="system"
                label=${this.localize.term("close")}
                @click=${this.handleCloseClick}
              ></sl-icon-button>
            `:""}

        <div role="timer" class="alert__timer">${this.remainingTime}</div>

        ${this.countdown?bt`
              <div
                class=${xe({alert__countdown:!0,"alert__countdown--ltr":"ltr"===this.countdown})}
              >
                <div class="alert__countdown-elapsed"></div>
              </div>
            `:""}
      </div>
    `}};Pn.styles=[te,Bn],Pn.dependencies={"sl-icon-button":Wr},f([oe('[part~="base"]')],Pn.prototype,"base",2),f([oe(".alert__countdown-elapsed")],Pn.prototype,"countdownElement",2),f([re({type:Boolean,reflect:!0})],Pn.prototype,"open",2),f([re({type:Boolean,reflect:!0})],Pn.prototype,"closable",2),f([re({reflect:!0})],Pn.prototype,"variant",2),f([re({type:Number})],Pn.prototype,"duration",2),f([re({type:String,reflect:!0})],Pn.prototype,"countdown",2),f([se()],Pn.prototype,"remainingTime",2),f([Jt("open",{waitUntilFirstUpdate:!0})],Pn.prototype,"handleOpenChange",1),f([Jt("duration")],Pn.prototype,"handleDurationChange",1);var On=Pn;Ve("alert.show",{keyframes:[{opacity:0,scale:.8},{opacity:1,scale:1}],options:{duration:250,easing:"ease"}}),Ve("alert.hide",{keyframes:[{opacity:1,scale:1},{opacity:0,scale:.8}],options:{duration:250,easing:"ease"}}),On.define("sl-alert");const In=[{offset:0,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)",transform:"translate3d(0, 0, 0)"},{offset:.2,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)",transform:"translate3d(0, 0, 0)"},{offset:.4,easing:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",transform:"translate3d(0, -30px, 0) scaleY(1.1)"},{offset:.43,easing:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",transform:"translate3d(0, -30px, 0) scaleY(1.1)"},{offset:.53,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)",transform:"translate3d(0, 0, 0)"},{offset:.7,easing:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",transform:"translate3d(0, -15px, 0) scaleY(1.05)"},{offset:.8,"transition-timing-function":"cubic-bezier(0.215, 0.61, 0.355, 1)",transform:"translate3d(0, 0, 0) scaleY(0.95)"},{offset:.9,transform:"translate3d(0, -4px, 0) scaleY(1.02)"},{offset:1,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)",transform:"translate3d(0, 0, 0)"}],En=[{offset:0,opacity:"1"},{offset:.25,opacity:"0"},{offset:.5,opacity:"1"},{offset:.75,opacity:"0"},{offset:1,opacity:"1"}],$n=[{offset:0,transform:"translateX(0)"},{offset:.065,transform:"translateX(-6px) rotateY(-9deg)"},{offset:.185,transform:"translateX(5px) rotateY(7deg)"},{offset:.315,transform:"translateX(-3px) rotateY(-5deg)"},{offset:.435,transform:"translateX(2px) rotateY(3deg)"},{offset:.5,transform:"translateX(0)"}],Rn=[{offset:0,transform:"scale(1)"},{offset:.14,transform:"scale(1.3)"},{offset:.28,transform:"scale(1)"},{offset:.42,transform:"scale(1.3)"},{offset:.7,transform:"scale(1)"}],zn=[{offset:0,transform:"translate3d(0, 0, 0)"},{offset:.111,transform:"translate3d(0, 0, 0)"},{offset:.222,transform:"skewX(-12.5deg) skewY(-12.5deg)"},{offset:.33299999999999996,transform:"skewX(6.25deg) skewY(6.25deg)"},{offset:.444,transform:"skewX(-3.125deg) skewY(-3.125deg)"},{offset:.555,transform:"skewX(1.5625deg) skewY(1.5625deg)"},{offset:.6659999999999999,transform:"skewX(-0.78125deg) skewY(-0.78125deg)"},{offset:.777,transform:"skewX(0.390625deg) skewY(0.390625deg)"},{offset:.888,transform:"skewX(-0.1953125deg) skewY(-0.1953125deg)"},{offset:1,transform:"translate3d(0, 0, 0)"}],Fn=[{offset:0,transform:"scale3d(1, 1, 1)"},{offset:.5,transform:"scale3d(1.05, 1.05, 1.05)"},{offset:1,transform:"scale3d(1, 1, 1)"}],Ln=[{offset:0,transform:"scale3d(1, 1, 1)"},{offset:.3,transform:"scale3d(1.25, 0.75, 1)"},{offset:.4,transform:"scale3d(0.75, 1.25, 1)"},{offset:.5,transform:"scale3d(1.15, 0.85, 1)"},{offset:.65,transform:"scale3d(0.95, 1.05, 1)"},{offset:.75,transform:"scale3d(1.05, 0.95, 1)"},{offset:1,transform:"scale3d(1, 1, 1)"}],Dn=[{offset:0,transform:"translate3d(0, 0, 0)"},{offset:.1,transform:"translate3d(-10px, 0, 0)"},{offset:.2,transform:"translate3d(10px, 0, 0)"},{offset:.3,transform:"translate3d(-10px, 0, 0)"},{offset:.4,transform:"translate3d(10px, 0, 0)"},{offset:.5,transform:"translate3d(-10px, 0, 0)"},{offset:.6,transform:"translate3d(10px, 0, 0)"},{offset:.7,transform:"translate3d(-10px, 0, 0)"},{offset:.8,transform:"translate3d(10px, 0, 0)"},{offset:.9,transform:"translate3d(-10px, 0, 0)"},{offset:1,transform:"translate3d(0, 0, 0)"}],Wn=[{offset:0,transform:"translate3d(0, 0, 0)"},{offset:.1,transform:"translate3d(-10px, 0, 0)"},{offset:.2,transform:"translate3d(10px, 0, 0)"},{offset:.3,transform:"translate3d(-10px, 0, 0)"},{offset:.4,transform:"translate3d(10px, 0, 0)"},{offset:.5,transform:"translate3d(-10px, 0, 0)"},{offset:.6,transform:"translate3d(10px, 0, 0)"},{offset:.7,transform:"translate3d(-10px, 0, 0)"},{offset:.8,transform:"translate3d(10px, 0, 0)"},{offset:.9,transform:"translate3d(-10px, 0, 0)"},{offset:1,transform:"translate3d(0, 0, 0)"}],Vn=[{offset:0,transform:"translate3d(0, 0, 0)"},{offset:.1,transform:"translate3d(0, -10px, 0)"},{offset:.2,transform:"translate3d(0, 10px, 0)"},{offset:.3,transform:"translate3d(0, -10px, 0)"},{offset:.4,transform:"translate3d(0, 10px, 0)"},{offset:.5,transform:"translate3d(0, -10px, 0)"},{offset:.6,transform:"translate3d(0, 10px, 0)"},{offset:.7,transform:"translate3d(0, -10px, 0)"},{offset:.8,transform:"translate3d(0, 10px, 0)"},{offset:.9,transform:"translate3d(0, -10px, 0)"},{offset:1,transform:"translate3d(0, 0, 0)"}],Hn=[{offset:.2,transform:"rotate3d(0, 0, 1, 15deg)"},{offset:.4,transform:"rotate3d(0, 0, 1, -10deg)"},{offset:.6,transform:"rotate3d(0, 0, 1, 5deg)"},{offset:.8,transform:"rotate3d(0, 0, 1, -5deg)"},{offset:1,transform:"rotate3d(0, 0, 1, 0deg)"}],Nn=[{offset:0,transform:"scale3d(1, 1, 1)"},{offset:.1,transform:"scale3d(0.9, 0.9, 0.9) rotate3d(0, 0, 1, -3deg)"},{offset:.2,transform:"scale3d(0.9, 0.9, 0.9) rotate3d(0, 0, 1, -3deg)"},{offset:.3,transform:"scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, 3deg)"},{offset:.4,transform:"scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, -3deg)"},{offset:.5,transform:"scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, 3deg)"},{offset:.6,transform:"scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, -3deg)"},{offset:.7,transform:"scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, 3deg)"},{offset:.8,transform:"scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, -3deg)"},{offset:.9,transform:"scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, 3deg)"},{offset:1,transform:"scale3d(1, 1, 1)"}],Yn=[{offset:0,transform:"translate3d(0, 0, 0)"},{offset:.15,transform:"translate3d(-25%, 0, 0) rotate3d(0, 0, 1, -5deg)"},{offset:.3,transform:"translate3d(20%, 0, 0) rotate3d(0, 0, 1, 3deg)"},{offset:.45,transform:"translate3d(-15%, 0, 0) rotate3d(0, 0, 1, -3deg)"},{offset:.6,transform:"translate3d(10%, 0, 0) rotate3d(0, 0, 1, 2deg)"},{offset:.75,transform:"translate3d(-5%, 0, 0) rotate3d(0, 0, 1, -1deg)"},{offset:1,transform:"translate3d(0, 0, 0)"}],Xn=[{offset:0,transform:"translateY(-1200px) scale(0.7)",opacity:"0.7"},{offset:.8,transform:"translateY(0px) scale(0.7)",opacity:"0.7"},{offset:1,transform:"scale(1)",opacity:"1"}],Un=[{offset:0,transform:"translateX(-2000px) scale(0.7)",opacity:"0.7"},{offset:.8,transform:"translateX(0px) scale(0.7)",opacity:"0.7"},{offset:1,transform:"scale(1)",opacity:"1"}],Gn=[{offset:0,transform:"translateX(2000px) scale(0.7)",opacity:"0.7"},{offset:.8,transform:"translateX(0px) scale(0.7)",opacity:"0.7"},{offset:1,transform:"scale(1)",opacity:"1"}],jn=[{offset:0,transform:"translateY(1200px) scale(0.7)",opacity:"0.7"},{offset:.8,transform:"translateY(0px) scale(0.7)",opacity:"0.7"},{offset:1,transform:"scale(1)",opacity:"1"}],qn=[{offset:0,transform:"scale(1)",opacity:"1"},{offset:.2,transform:"translateY(0px) scale(0.7)",opacity:"0.7"},{offset:1,transform:"translateY(700px) scale(0.7)",opacity:"0.7"}],Kn=[{offset:0,transform:"scale(1)",opacity:"1"},{offset:.2,transform:"translateX(0px) scale(0.7)",opacity:"0.7"},{offset:1,transform:"translateX(-2000px) scale(0.7)",opacity:"0.7"}],Zn=[{offset:0,transform:"scale(1)",opacity:"1"},{offset:.2,transform:"translateX(0px) scale(0.7)",opacity:"0.7"},{offset:1,transform:"translateX(2000px) scale(0.7)",opacity:"0.7"}],Qn=[{offset:0,transform:"scale(1)",opacity:"1"},{offset:.2,transform:"translateY(0px) scale(0.7)",opacity:"0.7"},{offset:1,transform:"translateY(-700px) scale(0.7)",opacity:"0.7"}],Jn=[{offset:0,opacity:"0",transform:"scale3d(0.3, 0.3, 0.3)"},{offset:0,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)"},{offset:.2,transform:"scale3d(1.1, 1.1, 1.1)"},{offset:.2,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)"},{offset:.4,transform:"scale3d(0.9, 0.9, 0.9)"},{offset:.4,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)"},{offset:.6,opacity:"1",transform:"scale3d(1.03, 1.03, 1.03)"},{offset:.6,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)"},{offset:.8,transform:"scale3d(0.97, 0.97, 0.97)"},{offset:.8,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)"},{offset:1,opacity:"1",transform:"scale3d(1, 1, 1)"},{offset:1,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)"}],to=[{offset:0,opacity:"0",transform:"translate3d(0, -3000px, 0) scaleY(3)"},{offset:0,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)"},{offset:.6,opacity:"1",transform:"translate3d(0, 25px, 0) scaleY(0.9)"},{offset:.6,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)"},{offset:.75,transform:"translate3d(0, -10px, 0) scaleY(0.95)"},{offset:.75,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)"},{offset:.9,transform:"translate3d(0, 5px, 0) scaleY(0.985)"},{offset:.9,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)"},{offset:1,transform:"translate3d(0, 0, 0)"},{offset:1,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)"}],eo=[{offset:0,opacity:"0",transform:"translate3d(-3000px, 0, 0) scaleX(3)"},{offset:0,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)"},{offset:.6,opacity:"1",transform:"translate3d(25px, 0, 0) scaleX(1)"},{offset:.6,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)"},{offset:.75,transform:"translate3d(-10px, 0, 0) scaleX(0.98)"},{offset:.75,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)"},{offset:.9,transform:"translate3d(5px, 0, 0) scaleX(0.995)"},{offset:.9,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)"},{offset:1,transform:"translate3d(0, 0, 0)"},{offset:1,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)"}],io=[{offset:0,opacity:"0",transform:"translate3d(3000px, 0, 0) scaleX(3)"},{offset:0,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)"},{offset:.6,opacity:"1",transform:"translate3d(-25px, 0, 0) scaleX(1)"},{offset:.6,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)"},{offset:.75,transform:"translate3d(10px, 0, 0) scaleX(0.98)"},{offset:.75,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)"},{offset:.9,transform:"translate3d(-5px, 0, 0) scaleX(0.995)"},{offset:.9,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)"},{offset:1,transform:"translate3d(0, 0, 0)"},{offset:1,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)"}],ro=[{offset:0,opacity:"0",transform:"translate3d(0, 3000px, 0) scaleY(5)"},{offset:0,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)"},{offset:.6,opacity:"1",transform:"translate3d(0, -20px, 0) scaleY(0.9)"},{offset:.6,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)"},{offset:.75,transform:"translate3d(0, 10px, 0) scaleY(0.95)"},{offset:.75,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)"},{offset:.9,transform:"translate3d(0, -5px, 0) scaleY(0.985)"},{offset:.9,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)"},{offset:1,transform:"translate3d(0, 0, 0)"},{offset:1,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)"}],so=[{offset:.2,transform:"scale3d(0.9, 0.9, 0.9)"},{offset:.5,opacity:"1",transform:"scale3d(1.1, 1.1, 1.1)"},{offset:.55,opacity:"1",transform:"scale3d(1.1, 1.1, 1.1)"},{offset:1,opacity:"0",transform:"scale3d(0.3, 0.3, 0.3)"}],ao=[{offset:.2,transform:"translate3d(0, 10px, 0) scaleY(0.985)"},{offset:.4,opacity:"1",transform:"translate3d(0, -20px, 0) scaleY(0.9)"},{offset:.45,opacity:"1",transform:"translate3d(0, -20px, 0) scaleY(0.9)"},{offset:1,opacity:"0",transform:"translate3d(0, 2000px, 0) scaleY(3)"}],no=[{offset:.2,opacity:"1",transform:"translate3d(20px, 0, 0) scaleX(0.9)"},{offset:1,opacity:"0",transform:"translate3d(-2000px, 0, 0) scaleX(2)"}],oo=[{offset:.2,opacity:"1",transform:"translate3d(-20px, 0, 0) scaleX(0.9)"},{offset:1,opacity:"0",transform:"translate3d(2000px, 0, 0) scaleX(2)"}],lo=[{offset:.2,transform:"translate3d(0, -10px, 0) scaleY(0.985)"},{offset:.4,opacity:"1",transform:"translate3d(0, 20px, 0) scaleY(0.9)"},{offset:.45,opacity:"1",transform:"translate3d(0, 20px, 0) scaleY(0.9)"},{offset:1,opacity:"0",transform:"translate3d(0, -2000px, 0) scaleY(3)"}],ho=[{offset:0,opacity:"0"},{offset:1,opacity:"1"}],co=[{offset:0,opacity:"0",transform:"translate3d(-100%, 100%, 0)"},{offset:1,opacity:"1",transform:"translate3d(0, 0, 0)"}],uo=[{offset:0,opacity:"0",transform:"translate3d(100%, 100%, 0)"},{offset:1,opacity:"1",transform:"translate3d(0, 0, 0)"}],po=[{offset:0,opacity:"0",transform:"translate3d(0, -100%, 0)"},{offset:1,opacity:"1",transform:"translate3d(0, 0, 0)"}],mo=[{offset:0,opacity:"0",transform:"translate3d(0, -2000px, 0)"},{offset:1,opacity:"1",transform:"translate3d(0, 0, 0)"}],fo=[{offset:0,opacity:"0",transform:"translate3d(-100%, 0, 0)"},{offset:1,opacity:"1",transform:"translate3d(0, 0, 0)"}],go=[{offset:0,opacity:"0",transform:"translate3d(-2000px, 0, 0)"},{offset:1,opacity:"1",transform:"translate3d(0, 0, 0)"}],bo=[{offset:0,opacity:"0",transform:"translate3d(100%, 0, 0)"},{offset:1,opacity:"1",transform:"translate3d(0, 0, 0)"}],yo=[{offset:0,opacity:"0",transform:"translate3d(2000px, 0, 0)"},{offset:1,opacity:"1",transform:"translate3d(0, 0, 0)"}],vo=[{offset:0,opacity:"0",transform:"translate3d(-100%, -100%, 0)"},{offset:1,opacity:"1",transform:"translate3d(0, 0, 0)"}],xo=[{offset:0,opacity:"0",transform:"translate3d(100%, -100%, 0)"},{offset:1,opacity:"1",transform:"translate3d(0, 0, 0)"}],wo=[{offset:0,opacity:"0",transform:"translate3d(0, 100%, 0)"},{offset:1,opacity:"1",transform:"translate3d(0, 0, 0)"}],_o=[{offset:0,opacity:"0",transform:"translate3d(0, 2000px, 0)"},{offset:1,opacity:"1",transform:"translate3d(0, 0, 0)"}],ko=[{offset:0,opacity:"1"},{offset:1,opacity:"0"}],So=[{offset:0,opacity:"1",transform:"translate3d(0, 0, 0)"},{offset:1,opacity:"0",transform:"translate3d(-100%, 100%, 0)"}],Co=[{offset:0,opacity:"1",transform:"translate3d(0, 0, 0)"},{offset:1,opacity:"0",transform:"translate3d(100%, 100%, 0)"}],Ao=[{offset:0,opacity:"1"},{offset:1,opacity:"0",transform:"translate3d(0, 100%, 0)"}],To=[{offset:0,opacity:"1"},{offset:1,opacity:"0",transform:"translate3d(0, 2000px, 0)"}],Mo=[{offset:0,opacity:"1"},{offset:1,opacity:"0",transform:"translate3d(-100%, 0, 0)"}],Bo=[{offset:0,opacity:"1"},{offset:1,opacity:"0",transform:"translate3d(-2000px, 0, 0)"}],Po=[{offset:0,opacity:"1"},{offset:1,opacity:"0",transform:"translate3d(100%, 0, 0)"}],Oo=[{offset:0,opacity:"1"},{offset:1,opacity:"0",transform:"translate3d(2000px, 0, 0)"}],Io=[{offset:0,opacity:"1",transform:"translate3d(0, 0, 0)"},{offset:1,opacity:"0",transform:"translate3d(-100%, -100%, 0)"}],Eo=[{offset:0,opacity:"1",transform:"translate3d(0, 0, 0)"},{offset:1,opacity:"0",transform:"translate3d(100%, -100%, 0)"}],$o=[{offset:0,opacity:"1"},{offset:1,opacity:"0",transform:"translate3d(0, -100%, 0)"}],Ro=[{offset:0,opacity:"1"},{offset:1,opacity:"0",transform:"translate3d(0, -2000px, 0)"}],zo=[{offset:0,transform:"perspective(400px) scale3d(1, 1, 1) translate3d(0, 0, 0) rotate3d(0, 1, 0, -360deg)",easing:"ease-out"},{offset:.4,transform:"perspective(400px) scale3d(1, 1, 1) translate3d(0, 0, 150px)\n      rotate3d(0, 1, 0, -190deg)",easing:"ease-out"},{offset:.5,transform:"perspective(400px) scale3d(1, 1, 1) translate3d(0, 0, 150px)\n      rotate3d(0, 1, 0, -170deg)",easing:"ease-in"},{offset:.8,transform:"perspective(400px) scale3d(0.95, 0.95, 0.95) translate3d(0, 0, 0)\n      rotate3d(0, 1, 0, 0deg)",easing:"ease-in"},{offset:1,transform:"perspective(400px) scale3d(1, 1, 1) translate3d(0, 0, 0) rotate3d(0, 1, 0, 0deg)",easing:"ease-in"}],Fo=[{offset:0,transform:"perspective(400px) rotate3d(1, 0, 0, 90deg)",easing:"ease-in",opacity:"0"},{offset:.4,transform:"perspective(400px) rotate3d(1, 0, 0, -20deg)",easing:"ease-in"},{offset:.6,transform:"perspective(400px) rotate3d(1, 0, 0, 10deg)",opacity:"1"},{offset:.8,transform:"perspective(400px) rotate3d(1, 0, 0, -5deg)"},{offset:1,transform:"perspective(400px)"}],Lo=[{offset:0,transform:"perspective(400px) rotate3d(0, 1, 0, 90deg)",easing:"ease-in",opacity:"0"},{offset:.4,transform:"perspective(400px) rotate3d(0, 1, 0, -20deg)",easing:"ease-in"},{offset:.6,transform:"perspective(400px) rotate3d(0, 1, 0, 10deg)",opacity:"1"},{offset:.8,transform:"perspective(400px) rotate3d(0, 1, 0, -5deg)"},{offset:1,transform:"perspective(400px)"}],Do=[{offset:0,transform:"perspective(400px)"},{offset:.3,transform:"perspective(400px) rotate3d(1, 0, 0, -20deg)",opacity:"1"},{offset:1,transform:"perspective(400px) rotate3d(1, 0, 0, 90deg)",opacity:"0"}],Wo=[{offset:0,transform:"perspective(400px)"},{offset:.3,transform:"perspective(400px) rotate3d(0, 1, 0, -15deg)",opacity:"1"},{offset:1,transform:"perspective(400px) rotate3d(0, 1, 0, 90deg)",opacity:"0"}],Vo=[{offset:0,transform:"translate3d(-100%, 0, 0) skewX(30deg)",opacity:"0"},{offset:.6,transform:"skewX(-20deg)",opacity:"1"},{offset:.8,transform:"skewX(5deg)"},{offset:1,transform:"translate3d(0, 0, 0)"}],Ho=[{offset:0,transform:"translate3d(100%, 0, 0) skewX(-30deg)",opacity:"0"},{offset:.6,transform:"skewX(20deg)",opacity:"1"},{offset:.8,transform:"skewX(-5deg)"},{offset:1,transform:"translate3d(0, 0, 0)"}],No=[{offset:0,opacity:"1"},{offset:1,transform:"translate3d(-100%, 0, 0) skewX(-30deg)",opacity:"0"}],Yo=[{offset:0,opacity:"1"},{offset:1,transform:"translate3d(100%, 0, 0) skewX(30deg)",opacity:"0"}],Xo=[{offset:0,transform:"rotate3d(0, 0, 1, -200deg)",opacity:"0"},{offset:1,transform:"translate3d(0, 0, 0)",opacity:"1"}],Uo=[{offset:0,transform:"rotate3d(0, 0, 1, -45deg)",opacity:"0"},{offset:1,transform:"translate3d(0, 0, 0)",opacity:"1"}],Go=[{offset:0,transform:"rotate3d(0, 0, 1, 45deg)",opacity:"0"},{offset:1,transform:"translate3d(0, 0, 0)",opacity:"1"}],jo=[{offset:0,transform:"rotate3d(0, 0, 1, 45deg)",opacity:"0"},{offset:1,transform:"translate3d(0, 0, 0)",opacity:"1"}],qo=[{offset:0,transform:"rotate3d(0, 0, 1, -90deg)",opacity:"0"},{offset:1,transform:"translate3d(0, 0, 0)",opacity:"1"}],Ko=[{offset:0,opacity:"1"},{offset:1,transform:"rotate3d(0, 0, 1, 200deg)",opacity:"0"}],Zo=[{offset:0,opacity:"1"},{offset:1,transform:"rotate3d(0, 0, 1, 45deg)",opacity:"0"}],Qo=[{offset:0,opacity:"1"},{offset:1,transform:"rotate3d(0, 0, 1, -45deg)",opacity:"0"}],Jo=[{offset:0,opacity:"1"},{offset:1,transform:"rotate3d(0, 0, 1, -45deg)",opacity:"0"}],tl=[{offset:0,opacity:"1"},{offset:1,transform:"rotate3d(0, 0, 1, 90deg)",opacity:"0"}],el=[{offset:0,transform:"translate3d(0, -100%, 0)",visibility:"visible"},{offset:1,transform:"translate3d(0, 0, 0)"}],il=[{offset:0,transform:"translate3d(-100%, 0, 0)",visibility:"visible"},{offset:1,transform:"translate3d(0, 0, 0)"}],rl=[{offset:0,transform:"translate3d(100%, 0, 0)",visibility:"visible"},{offset:1,transform:"translate3d(0, 0, 0)"}],sl=[{offset:0,transform:"translate3d(0, 100%, 0)",visibility:"visible"},{offset:1,transform:"translate3d(0, 0, 0)"}],al=[{offset:0,transform:"translate3d(0, 0, 0)"},{offset:1,visibility:"hidden",transform:"translate3d(0, 100%, 0)"}],nl=[{offset:0,transform:"translate3d(0, 0, 0)"},{offset:1,visibility:"hidden",transform:"translate3d(-100%, 0, 0)"}],ol=[{offset:0,transform:"translate3d(0, 0, 0)"},{offset:1,visibility:"hidden",transform:"translate3d(100%, 0, 0)"}],ll=[{offset:0,transform:"translate3d(0, 0, 0)"},{offset:1,visibility:"hidden",transform:"translate3d(0, -100%, 0)"}],hl=[{offset:0,easing:"ease-in-out"},{offset:.2,transform:"rotate3d(0, 0, 1, 80deg)",easing:"ease-in-out"},{offset:.4,transform:"rotate3d(0, 0, 1, 60deg)",easing:"ease-in-out",opacity:"1"},{offset:.6,transform:"rotate3d(0, 0, 1, 80deg)",easing:"ease-in-out"},{offset:.8,transform:"rotate3d(0, 0, 1, 60deg)",easing:"ease-in-out",opacity:"1"},{offset:1,transform:"translate3d(0, 700px, 0)",opacity:"0"}],cl=[{offset:0,opacity:"0",transform:"scale(0.1) rotate(30deg)","transform-origin":"center bottom"},{offset:.5,transform:"rotate(-10deg)"},{offset:.7,transform:"rotate(3deg)"},{offset:1,opacity:"1",transform:"scale(1)"}],dl=[{offset:0,opacity:"0",transform:"translate3d(-100%, 0, 0) rotate3d(0, 0, 1, -120deg)"},{offset:1,opacity:"1",transform:"translate3d(0, 0, 0)"}],ul=[{offset:0,opacity:"1"},{offset:1,opacity:"0",transform:"translate3d(100%, 0, 0) rotate3d(0, 0, 1, 120deg)"}],pl=[{offset:0,opacity:"0",transform:"scale3d(0.3, 0.3, 0.3)"},{offset:.5,opacity:"1"}],ml=[{offset:0,opacity:"0",transform:"scale3d(0.1, 0.1, 0.1) translate3d(0, -1000px, 0)",easing:"cubic-bezier(0.55, 0.055, 0.675, 0.19)"},{offset:.6,opacity:"1",transform:"scale3d(0.475, 0.475, 0.475) translate3d(0, 60px, 0)",easing:"cubic-bezier(0.175, 0.885, 0.32, 1)"}],fl=[{offset:0,opacity:"0",transform:"scale3d(0.1, 0.1, 0.1) translate3d(-1000px, 0, 0)",easing:"cubic-bezier(0.55, 0.055, 0.675, 0.19)"},{offset:.6,opacity:"1",transform:"scale3d(0.475, 0.475, 0.475) translate3d(10px, 0, 0)",easing:"cubic-bezier(0.175, 0.885, 0.32, 1)"}],gl=[{offset:0,opacity:"0",transform:"scale3d(0.1, 0.1, 0.1) translate3d(1000px, 0, 0)",easing:"cubic-bezier(0.55, 0.055, 0.675, 0.19)"},{offset:.6,opacity:"1",transform:"scale3d(0.475, 0.475, 0.475) translate3d(-10px, 0, 0)",easing:"cubic-bezier(0.175, 0.885, 0.32, 1)"}],bl=[{offset:0,opacity:"0",transform:"scale3d(0.1, 0.1, 0.1) translate3d(0, 1000px, 0)",easing:"cubic-bezier(0.55, 0.055, 0.675, 0.19)"},{offset:.6,opacity:"1",transform:"scale3d(0.475, 0.475, 0.475) translate3d(0, -60px, 0)",easing:"cubic-bezier(0.175, 0.885, 0.32, 1)"}],yl=[{offset:0,opacity:"1"},{offset:.5,opacity:"0",transform:"scale3d(0.3, 0.3, 0.3)"},{offset:1,opacity:"0"}],vl=[{offset:.4,opacity:"1",transform:"scale3d(0.475, 0.475, 0.475) translate3d(0, -60px, 0)",easing:"cubic-bezier(0.55, 0.055, 0.675, 0.19)"},{offset:1,opacity:"0",transform:"scale3d(0.1, 0.1, 0.1) translate3d(0, 2000px, 0)",easing:"cubic-bezier(0.175, 0.885, 0.32, 1)"}],xl=[{offset:.4,opacity:"1",transform:"scale3d(0.475, 0.475, 0.475) translate3d(42px, 0, 0)"},{offset:1,opacity:"0",transform:"scale(0.1) translate3d(-2000px, 0, 0)"}],wl=[{offset:.4,opacity:"1",transform:"scale3d(0.475, 0.475, 0.475) translate3d(-42px, 0, 0)"},{offset:1,opacity:"0",transform:"scale(0.1) translate3d(2000px, 0, 0)"}],_l=[{offset:.4,opacity:"1",transform:"scale3d(0.475, 0.475, 0.475) translate3d(0, 60px, 0)",easing:"cubic-bezier(0.55, 0.055, 0.675, 0.19)"},{offset:1,opacity:"0",transform:"scale3d(0.1, 0.1, 0.1) translate3d(0, -2000px, 0)",easing:"cubic-bezier(0.175, 0.885, 0.32, 1)"}],kl={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",easeInSine:"cubic-bezier(0.47, 0, 0.745, 0.715)",easeOutSine:"cubic-bezier(0.39, 0.575, 0.565, 1)",easeInOutSine:"cubic-bezier(0.445, 0.05, 0.55, 0.95)",easeInQuad:"cubic-bezier(0.55, 0.085, 0.68, 0.53)",easeOutQuad:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",easeInOutQuad:"cubic-bezier(0.455, 0.03, 0.515, 0.955)",easeInCubic:"cubic-bezier(0.55, 0.055, 0.675, 0.19)",easeOutCubic:"cubic-bezier(0.215, 0.61, 0.355, 1)",easeInOutCubic:"cubic-bezier(0.645, 0.045, 0.355, 1)",easeInQuart:"cubic-bezier(0.895, 0.03, 0.685, 0.22)",easeOutQuart:"cubic-bezier(0.165, 0.84, 0.44, 1)",easeInOutQuart:"cubic-bezier(0.77, 0, 0.175, 1)",easeInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",easeOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",easeInOutQuint:"cubic-bezier(0.86, 0, 0.07, 1)",easeInExpo:"cubic-bezier(0.95, 0.05, 0.795, 0.035)",easeOutExpo:"cubic-bezier(0.19, 1, 0.22, 1)",easeInOutExpo:"cubic-bezier(1, 0, 0, 1)",easeInCirc:"cubic-bezier(0.6, 0.04, 0.98, 0.335)",easeOutCirc:"cubic-bezier(0.075, 0.82, 0.165, 1)",easeInOutCirc:"cubic-bezier(0.785, 0.135, 0.15, 0.86)",easeInBack:"cubic-bezier(0.6, -0.28, 0.735, 0.045)",easeOutBack:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",easeInOutBack:"cubic-bezier(0.68, -0.55, 0.265, 1.55)"};var Sl=I`
  :host {
    display: contents;
  }
`,Cl=class extends he{constructor(){super(...arguments),this.hasStarted=!1,this.name="none",this.play=!1,this.delay=0,this.direction="normal",this.duration=1e3,this.easing="linear",this.endDelay=0,this.fill="auto",this.iterations=1/0,this.iterationStart=0,this.playbackRate=1,this.handleAnimationFinish=()=>{this.play=!1,this.hasStarted=!1,this.emit("sl-finish")},this.handleAnimationCancel=()=>{this.play=!1,this.hasStarted=!1,this.emit("sl-cancel")}}get currentTime(){var t,e;return null!=(e=null==(t=this.animation)?void 0:t.currentTime)?e:0}set currentTime(t){this.animation&&(this.animation.currentTime=t)}connectedCallback(){super.connectedCallback(),this.createAnimation()}disconnectedCallback(){super.disconnectedCallback(),this.destroyAnimation()}handleSlotChange(){this.destroyAnimation(),this.createAnimation()}async createAnimation(){var e,i;const r=null!=(e=kl[this.easing])?e:this.easing,s=null!=(i=this.keyframes)?i:t[this.name],a=(await this.defaultSlot).assignedElements()[0];return!(!a||!s||(this.destroyAnimation(),this.animation=a.animate(s,{delay:this.delay,direction:this.direction,duration:this.duration,easing:r,endDelay:this.endDelay,fill:this.fill,iterationStart:this.iterationStart,iterations:this.iterations}),this.animation.playbackRate=this.playbackRate,this.animation.addEventListener("cancel",this.handleAnimationCancel),this.animation.addEventListener("finish",this.handleAnimationFinish),this.play?(this.hasStarted=!0,this.emit("sl-start")):this.animation.pause(),0))}destroyAnimation(){this.animation&&(this.animation.cancel(),this.animation.removeEventListener("cancel",this.handleAnimationCancel),this.animation.removeEventListener("finish",this.handleAnimationFinish),this.hasStarted=!1)}handleAnimationChange(){this.hasUpdated&&this.createAnimation()}handlePlayChange(){return!!this.animation&&(this.play&&!this.hasStarted&&(this.hasStarted=!0,this.emit("sl-start")),this.play?this.animation.play():this.animation.pause(),!0)}handlePlaybackRateChange(){this.animation&&(this.animation.playbackRate=this.playbackRate)}cancel(){var t;null==(t=this.animation)||t.cancel()}finish(){var t;null==(t=this.animation)||t.finish()}render(){return bt` <slot @slotchange=${this.handleSlotChange}></slot> `}};Cl.styles=[te,Sl],f([(t,e)=>ne(t,e,{async get(){return await this.updateComplete,this.renderRoot?.querySelector("slot")??null}})],Cl.prototype,"defaultSlot",2),f([re()],Cl.prototype,"name",2),f([re({type:Boolean,reflect:!0})],Cl.prototype,"play",2),f([re({type:Number})],Cl.prototype,"delay",2),f([re()],Cl.prototype,"direction",2),f([re({type:Number})],Cl.prototype,"duration",2),f([re()],Cl.prototype,"easing",2),f([re({attribute:"end-delay",type:Number})],Cl.prototype,"endDelay",2),f([re()],Cl.prototype,"fill",2),f([re({type:Number})],Cl.prototype,"iterations",2),f([re({attribute:"iteration-start",type:Number})],Cl.prototype,"iterationStart",2),f([re({attribute:!1})],Cl.prototype,"keyframes",2),f([re({attribute:"playback-rate",type:Number})],Cl.prototype,"playbackRate",2),f([Jt(["name","delay","direction","duration","easing","endDelay","fill","iterations","iterationsStart","keyframes"])],Cl.prototype,"handleAnimationChange",1),f([Jt("play")],Cl.prototype,"handlePlayChange",1),f([Jt("playbackRate")],Cl.prototype,"handlePlaybackRateChange",1),Cl.define("sl-animation");const Al=JSON.parse('[{"name":"Background","parts":[{"name":"Background","images":[{"path":"background.png","drawOrder":0}]}]},{"name":"Wing","parts":[{"name":"None","percent":90},{"name":"Wing","images":[{"path":"man/0wing/0.png","drawOrder":100}]}]},{"name":"Body","parts":[{"name":"Naked","images":[{"path":"man/2body/0.png","drawOrder":300}]},{"name":"Cloak","images":[{"path":"man/2body/1.png","drawOrder":300}]},{"name":"Himation","images":[{"path":"man/2body/2.png","drawOrder":300}]},{"name":"Chiton","images":[{"path":"man/2body/3.png","drawOrder":300}]},{"name":"Chains","images":[{"path":"man/2body/4.png","drawOrder":300}]},{"name":"Leather Belt","images":[{"path":"man/2body/5.png","drawOrder":300}]},{"name":"Chlamys","images":[{"path":"man/2body/6.png","drawOrder":300}]},{"name":"Shoulder Armor","images":[{"path":"man/2body/7.png","drawOrder":300}]},{"name":"Apron","images":[{"path":"man/2body/8.png","drawOrder":300}]},{"name":"Constraint","images":[{"path":"man/2body/9.png","drawOrder":300}]}]},{"name":"Head","parts":[{"name":"Wound","images":[{"path":"man/3head/0.png","drawOrder":400}]},{"name":"Teenage","images":[{"path":"man/3head/1.png","drawOrder":400}]},{"name":"Serious","images":[{"path":"man/3head/2.png","drawOrder":400}]},{"name":"Madness","images":[{"path":"man/3head/3.png","drawOrder":400}]},{"name":"Anger","images":[{"path":"man/3head/4.png","drawOrder":400}]},{"name":"Shy","images":[{"path":"man/3head/5.png","drawOrder":400}]},{"name":"Amazed","images":[{"path":"man/3head/6.png","drawOrder":400}]},{"name":"Ridicule","images":[{"path":"man/3head/7.png","drawOrder":400}]},{"name":"Dark Circles","images":[{"path":"man/3head/8.png","drawOrder":400}]},{"name":"Skul","images":[{"path":"man/3head/9.png","drawOrder":400}]}]},{"name":"Hair","parts":[{"name":"Bald","images":[{"path":"man/4hair/0.png","drawOrder":500}]},{"name":"Shaggy","images":[{"path":"man/1bhair/1.png","drawOrder":200},{"path":"man/4hair/1.png","drawOrder":500}]},{"name":"Short Wavy","images":[{"path":"man/1bhair/2.png","drawOrder":200},{"path":"man/4hair/2.png","drawOrder":500}]},{"name":"Wild","images":[{"path":"man/1bhair/3.png","drawOrder":200},{"path":"man/4hair/3.png","drawOrder":500}]},{"name":"Bob","images":[{"path":"man/1bhair/4.png","drawOrder":200},{"path":"man/4hair/4.png","drawOrder":500}]},{"name":"Mohican","images":[{"path":"man/4hair/5.png","drawOrder":500}]},{"name":"Power","images":[{"path":"man/4hair/6.png","drawOrder":500}]},{"name":"Monk","images":[{"path":"man/1bhair/7.png","drawOrder":200},{"path":"man/4hair/7.png","drawOrder":500}]},{"name":"Curly Hair","images":[{"path":"man/4hair/8.png","drawOrder":500}]},{"name":"Ponytail","images":[{"path":"man/1bhair/9.png","drawOrder":200},{"path":"man/4hair/9.png","drawOrder":500}]},{"name":"V","images":[{"path":"man/1bhair/10.png","drawOrder":200},{"path":"man/4hair/10.png","drawOrder":500}]},{"name":"Natural","images":[{"path":"man/1bhair/11.png","drawOrder":200},{"path":"man/4hair/11.png","drawOrder":500}]}]},{"name":"Face","parts":[{"name":"Devil Eyes","images":[{"path":"man/5face/0.png","drawOrder":600}]},{"name":"Eagle Eyes","images":[{"path":"man/5face/1.png","drawOrder":600}]},{"name":"Tears","images":[{"path":"man/5face/2.png","drawOrder":600}]},{"name":"Stare","images":[{"path":"man/5face/3.png","drawOrder":600}]},{"name":"Closed Eyes","images":[{"path":"man/5face/4.png","drawOrder":600}]},{"name":"Eye Beam","images":[{"path":"man/5face/5.png","drawOrder":600},{"path":"man/7face_effect/5.png","drawOrder":800}]},{"name":"Glance","images":[{"path":"man/5face/6.png","drawOrder":600}]},{"name":"Glowing Eyes","images":[{"path":"man/5face/7.png","drawOrder":600},{"path":"man/7face_effect/7.png","drawOrder":800}]},{"name":"Psionic","images":[{"path":"man/5face/8.png","drawOrder":600},{"path":"man/7face_effect/8.png","drawOrder":800}]},{"name":"Cyborg Eyes","images":[{"path":"man/5face/9.png","drawOrder":600}]},{"name":"Burning Eyes","images":[{"path":"man/5face/10.png","drawOrder":600},{"path":"man/7face_effect/10.png","drawOrder":800}]},{"name":"Odd Eyes","images":[{"path":"man/5face/11.png","drawOrder":600}]}]},{"name":"Accessory","parts":[{"name":"None","percent":60},{"name":"Crown","images":[{"path":"man/6acce/0.png","drawOrder":700}]},{"name":"Long Horns","images":[{"path":"man/6acce/1.png","drawOrder":700}]},{"name":"Eye Patch","images":[{"path":"man/6acce/2.png","drawOrder":700}]},{"name":"Short Horns","images":[{"path":"man/6acce/3.png","drawOrder":700}]},{"name":"Laurel Wreath","images":[{"path":"man/6acce/4.png","drawOrder":700}]},{"name":"Six Dots","images":[{"path":"man/6acce/5.png","drawOrder":700}]},{"name":"Goat Horns","images":[{"path":"man/6acce/6.png","drawOrder":700}]},{"name":"Curved Horns","images":[{"path":"man/6acce/7.png","drawOrder":700}]},{"name":"Devil Horns","images":[{"path":"man/6acce/8.png","drawOrder":700}]}]}]'),Tl=JSON.parse('[{"name":"Background","parts":[{"name":"Background","images":[{"path":"background.png","drawOrder":0}]}]},{"name":"Wing","parts":[{"name":"None","percent":90},{"name":"Wing","images":[{"path":"woman/0wing/0.png","drawOrder":100}]}]},{"name":"Body","parts":[{"name":"Diplax","images":[{"path":"woman/2body/0.png","drawOrder":300}]},{"name":"Armor","images":[{"path":"woman/2body/1.png","drawOrder":300}]},{"name":"Himation","images":[{"path":"woman/2body/2.png","drawOrder":300}]},{"name":"Chiton","images":[{"path":"woman/2body/3.png","drawOrder":300}]},{"name":"Harnes","images":[{"path":"woman/2body/4.png","drawOrder":300}]},{"name":"Constraints","images":[{"path":"woman/2body/5.png","drawOrder":300}]},{"name":"Chlamys","images":[{"path":"woman/2body/6.png","drawOrder":300}]},{"name":"Shoulder Armor","images":[{"path":"woman/2body/7.png","drawOrder":300}]},{"name":"Peplos","images":[{"path":"woman/2body/8.png","drawOrder":300}]},{"name":"Heavy Armor","images":[{"path":"woman/2body/9.png","drawOrder":300}]}]},{"name":"Head","parts":[{"name":"Wound","images":[{"path":"woman/3head/0.png","drawOrder":400}]},{"name":"Eye Tattoo","images":[{"path":"woman/3head/1.png","drawOrder":400}]},{"name":"Anger","images":[{"path":"woman/3head/2.png","drawOrder":400}]},{"name":"Serious","images":[{"path":"woman/3head/3.png","drawOrder":400}]},{"name":"Happy","images":[{"path":"woman/3head/4.png","drawOrder":400}]},{"name":"Madness","images":[{"path":"woman/3head/5.png","drawOrder":400}]},{"name":"Sad","images":[{"path":"woman/3head/6.png","drawOrder":400}]},{"name":"Cloudy","images":[{"path":"woman/3head/7.png","drawOrder":400}]},{"name":"Ridicule","images":[{"path":"woman/3head/8.png","drawOrder":400}]},{"name":"Calm","images":[{"path":"woman/3head/9.png","drawOrder":400}]}]},{"name":"Hair","parts":[{"name":"Wavy","images":[{"path":"woman/1bhair/0.png","drawOrder":200},{"path":"woman/4hair/0.png","drawOrder":500}]},{"name":"Shaggy","images":[{"path":"woman/1bhair/1.png","drawOrder":200},{"path":"woman/4hair/1.png","drawOrder":500}]},{"name":"Bob","images":[{"path":"woman/1bhair/2.png","drawOrder":200},{"path":"woman/4hair/2.png","drawOrder":500}]},{"name":"Wild","images":[{"path":"woman/1bhair/3.png","drawOrder":200},{"path":"woman/4hair/3.png","drawOrder":500}]},{"name":"Short Wavy","images":[{"path":"woman/1bhair/4.png","drawOrder":200},{"path":"woman/4hair/4.png","drawOrder":500}]},{"name":"Mohican","images":[{"path":"woman/4hair/5.png","drawOrder":500}]},{"name":"Power","images":[{"path":"woman/4hair/6.png","drawOrder":500}]},{"name":"Braid","images":[{"path":"woman/1bhair/7.png","drawOrder":200},{"path":"woman/4hair/7.png","drawOrder":500}]},{"name":"Hime","images":[{"path":"woman/1bhair/8.png","drawOrder":200},{"path":"woman/4hair/8.png","drawOrder":500}]},{"name":"Long Wavy","images":[{"path":"woman/1bhair/9.png","drawOrder":200},{"path":"woman/4hair/9.png","drawOrder":500}]},{"name":"Natural","images":[{"path":"woman/1bhair/10.png","drawOrder":200},{"path":"woman/4hair/10.png","drawOrder":500}]},{"name":"Ponytail","images":[{"path":"woman/1bhair/11.png","drawOrder":200},{"path":"woman/4hair/11.png","drawOrder":500}]}]},{"name":"Face","parts":[{"name":"Eagle Eyes","images":[{"path":"woman/5face/0.png","drawOrder":600}]},{"name":"Devil Eyes","images":[{"path":"woman/5face/1.png","drawOrder":600}]},{"name":"Tears","images":[{"path":"woman/5face/2.png","drawOrder":600}]},{"name":"Stare","images":[{"path":"woman/5face/3.png","drawOrder":600}]},{"name":"Closed Eyes","images":[{"path":"woman/5face/4.png","drawOrder":600}]},{"name":"Odd Eyes","images":[{"path":"woman/5face/5.png","drawOrder":600}]},{"name":"Glance","images":[{"path":"woman/5face/6.png","drawOrder":600}]},{"name":"Glowing Eyes","images":[{"path":"woman/5face/7.png","drawOrder":600},{"path":"woman/7face_effect/7.png","drawOrder":800}]},{"name":"Cyborg Eyes","images":[{"path":"woman/5face/8.png","drawOrder":600}]},{"name":"Smiling Eyes","images":[{"path":"woman/5face/9.png","drawOrder":600}]},{"name":"Burning Eyes","images":[{"path":"woman/5face/10.png","drawOrder":600},{"path":"woman/7face_effect/10.png","drawOrder":800}]},{"name":"Psionic","images":[{"path":"woman/5face/11.png","drawOrder":600},{"path":"woman/7face_effect/11.png","drawOrder":800}]},{"name":"Eye Beam","images":[{"path":"woman/5face/12.png","drawOrder":600},{"path":"woman/7face_effect/12.png","drawOrder":800}]}]},{"name":"Accessory","parts":[{"name":"None","percent":60},{"name":"Crown","images":[{"path":"woman/6acce/0.png","drawOrder":700}]},{"name":"Long Horns","images":[{"path":"woman/6acce/1.png","drawOrder":700}]},{"name":"Eye Patch","images":[{"path":"woman/6acce/2.png","drawOrder":700}]},{"name":"Short Horns","images":[{"path":"woman/6acce/3.png","drawOrder":700}]},{"name":"Laurel Wreath","images":[{"path":"woman/6acce/4.png","drawOrder":700}]},{"name":"Curved Horns","images":[{"path":"woman/6acce/5.png","drawOrder":700}]},{"name":"Goat Horns","images":[{"path":"woman/6acce/6.png","drawOrder":700}]},{"name":"Succubus Horns","images":[{"path":"woman/6acce/7.png","drawOrder":700}]},{"name":"Devil Horns","images":[{"path":"woman/6acce/8.png","drawOrder":700}]}]}]'),Ml={Stone:{Man:JSON.parse('[{"name":"Background","parts":[{"name":"Background","images":[{"path":"background.png","drawOrder":100}]}]},{"name":"Background Accessory","parts":[{"name":"None","percent":60},{"name":"Shine","images":[{"path":"man/1-back-acce/0.png","drawOrder":200}]},{"name":"Angel Ring","images":[{"path":"man/1-back-acce/1.png","drawOrder":200}]},{"name":"Gold Light","images":[{"path":"man/1-back-acce/2.png","drawOrder":200}]},{"name":"Cloth","images":[{"path":"man/1-back-acce/3.png","drawOrder":200}]},{"name":"Wide Wings","images":[{"path":"man/1-back-acce/4.png","drawOrder":200}]},{"name":"Pillar","images":[{"path":"man/1-back-acce/5.png","drawOrder":200}]},{"name":"Sun","images":[{"path":"man/1-back-acce/6.png","drawOrder":200}]},{"name":"White Circle","images":[{"path":"man/1-back-acce/7.png","drawOrder":200}]},{"name":"Wings","images":[{"path":"man/1-back-acce/8.png","drawOrder":200}]},{"name":"Gold Moon","images":[{"path":"man/1-back-acce/9.png","drawOrder":200}]},{"name":"Crescent Moon","images":[{"path":"man/1-back-acce/10.png","drawOrder":200}]},{"name":"Constellation","images":[{"path":"man/1-back-acce/11.png","drawOrder":200}]}]},{"name":"Body","parts":[{"name":"None","images":[{"path":"man/2-outfit/0.png","drawOrder":300}]},{"name":"Cloak","images":[{"path":"man/2-outfit/1.png","drawOrder":300}]},{"name":"Cape","images":[{"path":"man/2-outfit/2.png","drawOrder":300}]},{"name":"Himation","images":[{"path":"man/2-outfit/3.png","drawOrder":300}]},{"name":"Tunic","images":[{"path":"man/2-outfit/4.png","drawOrder":300}]},{"name":"Chiton","images":[{"path":"man/2-outfit/5.png","drawOrder":300}]},{"name":"Armor","images":[{"path":"man/2-outfit/6.png","drawOrder":300}]},{"name":"Pallium","images":[{"path":"man/2-outfit/7.png","drawOrder":300}]},{"name":"Open Shirt","images":[{"path":"man/2-outfit/8.png","drawOrder":300}]},{"name":"Philosopher","images":[{"path":"man/2-outfit/9.png","drawOrder":300}]},{"name":"Towel","images":[{"path":"man/2-outfit/10.png","drawOrder":300}]},{"name":"Snake","images":[{"path":"man/2-outfit/11.png","drawOrder":300}]}]},{"name":"Face","parts":[{"name":"Teenager","images":[{"path":"man/3-face/0.png","drawOrder":400}]},{"name":"David","images":[{"path":"man/3-face/1.png","drawOrder":400}]},{"name":"Mature","images":[{"path":"man/3-face/2.png","drawOrder":400}]},{"name":"Elder","images":[{"path":"man/3-face/3.png","drawOrder":400}]},{"name":"Wild","images":[{"path":"man/3-face/4.png","drawOrder":400}]},{"name":"General","images":[{"path":"man/3-face/5.png","drawOrder":400}]},{"name":"Serious","images":[{"path":"man/3-face/6.png","drawOrder":400}]},{"name":"Relaxed","images":[{"path":"man/3-face/7.png","drawOrder":400}]},{"name":"Gentleman","images":[{"path":"man/3-face/8.png","drawOrder":400}]},{"name":"Old Man","images":[{"path":"man/3-face/9.png","drawOrder":400}]},{"name":"Aggressive","images":[{"path":"man/3-face/10.png","drawOrder":400}]},{"name":"Barbarian","images":[{"path":"man/3-face/11.png","drawOrder":400}]},{"name":"Closed Eyes","images":[{"path":"man/3-face/12.png","drawOrder":400}]},{"name":"White Eyes","images":[{"path":"man/3-face/13.png","drawOrder":400}]}]},{"name":"Hair","parts":[{"name":"Curly","images":[{"path":"man/4-hair/0.png","drawOrder":500}]},{"name":"Short Curly","images":[{"path":"man/4-hair/1.png","drawOrder":500}]},{"name":"Classic","images":[{"path":"man/4-hair/2.png","drawOrder":500}]},{"name":"Wolf","images":[{"path":"man/4-hair/3.png","drawOrder":500}]},{"name":"Half Bald","images":[{"path":"man/4-hair/4.png","drawOrder":500}]},{"name":"Ancient Greek","images":[{"path":"man/4-hair/5.png","drawOrder":500}]},{"name":"Natural","images":[{"path":"man/4-hair/6.png","drawOrder":500}]},{"name":"Slick Back","images":[{"path":"man/4-hair/7.png","drawOrder":500}]},{"name":"Short Layered","images":[{"path":"man/4-hair/8.png","drawOrder":500}]},{"name":"Banding","images":[{"path":"man/4-hair/9.png","drawOrder":500}]},{"name":"Shaggy","images":[{"path":"man/4-hair/10.png","drawOrder":500}]},{"name":"Wavy","images":[{"path":"man/4-hair/11.png","drawOrder":500}]}]},{"name":"Front Accessory","parts":[{"name":"None","percent":60},{"name":"Crown","images":[{"path":"man/5-front-acce/0.png","drawOrder":600}]},{"name":"Sunglasses","images":[{"path":"man/5-front-acce/1.png","drawOrder":600}]},{"name":"Bluetooth Earphone","images":[{"path":"man/5-front-acce/2.png","drawOrder":600}]},{"name":"Laurel Wreath","images":[{"path":"man/5-front-acce/3.png","drawOrder":600}]},{"name":"VR","images":[{"path":"man/5-front-acce/4.png","drawOrder":600}]},{"name":"Glasses","images":[{"path":"man/5-front-acce/5.png","drawOrder":600}]},{"name":"Helm","images":[{"path":"man/5-front-acce/6.png","drawOrder":600}]},{"name":"White Mask","images":[{"path":"man/5-front-acce/7.png","drawOrder":600}]},{"name":"Flower","images":[{"path":"man/5-front-acce/8.png","drawOrder":600}]},{"name":"Bubble Gum","images":[{"path":"man/5-front-acce/9.png","drawOrder":600}]},{"name":"Blindfold","images":[{"path":"man/5-front-acce/10.png","drawOrder":600}]},{"name":"Flower Crown","images":[{"path":"man/5-front-acce/11.png","drawOrder":600}]},{"name":"Earrings","images":[{"path":"man/5-front-acce/12.png","drawOrder":600}]}]},{"name":"Hand","parts":[{"name":"None","percent":60},{"name":"David","images":[{"path":"man/6-hand/0.png","drawOrder":700}]},{"name":"Selfpic","images":[{"path":"man/6-hand/1.png","drawOrder":700}]},{"name":"Klaytn","images":[{"path":"man/6-hand/2.png","drawOrder":700}]},{"name":"Cuff","images":[{"path":"man/6-hand/3.png","drawOrder":700}]},{"name":"Cigar","images":[{"path":"man/6-hand/4.png","drawOrder":700}]},{"name":"Palm","images":[{"path":"man/6-hand/5.png","drawOrder":700}]},{"name":"Claw","images":[{"path":"man/6-hand/6.png","drawOrder":700}]},{"name":"Tongs","images":[{"path":"man/6-hand/7.png","drawOrder":700}]}]}]'),Woman:JSON.parse('[{"name":"Background","parts":[{"name":"Background","images":[{"path":"background.png","drawOrder":100}]}]},{"name":"Background Accessory","parts":[{"name":"None","percent":60},{"name":"Sun","images":[{"path":"woman/1-back-acce/0.png","drawOrder":200}]},{"name":"White Circle","images":[{"path":"woman/1-back-acce/1.png","drawOrder":200}]},{"name":"Wings","images":[{"path":"woman/1-back-acce/2.png","drawOrder":200}]},{"name":"Gold Moon","images":[{"path":"woman/1-back-acce/3.png","drawOrder":200}]},{"name":"Crescent Moon","images":[{"path":"woman/1-back-acce/4.png","drawOrder":200}]},{"name":"Constellation","images":[{"path":"woman/1-back-acce/5.png","drawOrder":200}]},{"name":"Shine","images":[{"path":"woman/1-back-acce/6.png","drawOrder":200}]},{"name":"Angel Ring","images":[{"path":"woman/1-back-acce/7.png","drawOrder":200}]},{"name":"Gold Light","images":[{"path":"woman/1-back-acce/8.png","drawOrder":200}]},{"name":"Cloth","images":[{"path":"woman/1-back-acce/9.png","drawOrder":200}]},{"name":"Cupid Wings","images":[{"path":"woman/1-back-acce/10.png","drawOrder":200}]},{"name":"Pillar","images":[{"path":"woman/1-back-acce/11.png","drawOrder":200}]}]},{"name":"Body","parts":[{"name":"Gowns","images":[{"path":"woman/3-outfit/0.png","drawOrder":400}]},{"name":"Chiton","images":[{"path":"woman/3-outfit/1.png","drawOrder":400}]},{"name":"Himation","images":[{"path":"woman/3-outfit/2.png","drawOrder":400}]},{"name":"Off Shoulder","images":[{"path":"woman/3-outfit/3.png","drawOrder":400}]},{"name":"Pallium","images":[{"path":"woman/3-outfit/4.png","drawOrder":400}]},{"name":"Himation with Rope","images":[{"path":"woman/3-outfit/5.png","drawOrder":400}]},{"name":"Tunic","images":[{"path":"woman/3-outfit/6.png","drawOrder":400}]},{"name":"One Piece","images":[{"path":"woman/3-outfit/7.png","drawOrder":400}]},{"name":"Armor","images":[{"path":"woman/3-outfit/8.png","drawOrder":400}]},{"name":"Shirt","images":[{"path":"woman/3-outfit/9.png","drawOrder":400}]},{"name":"Towel","images":[{"path":"woman/3-outfit/10.png","drawOrder":400}]},{"name":"Snake","images":[{"path":"woman/3-outfit/11.png","drawOrder":400}]}]},{"name":"Face","parts":[{"name":"Teenager","images":[{"path":"woman/4-face/0.png","drawOrder":500}]},{"name":"Mature","images":[{"path":"woman/4-face/1.png","drawOrder":500}]},{"name":"Graceful","images":[{"path":"woman/4-face/2.png","drawOrder":500}]},{"name":"Intellectual","images":[{"path":"woman/4-face/3.png","drawOrder":500}]},{"name":"Closed Eyes","images":[{"path":"woman/4-face/4.png","drawOrder":500}]},{"name":"Sharp","images":[{"path":"woman/4-face/5.png","drawOrder":500}]},{"name":"Calm","images":[{"path":"woman/4-face/6.png","drawOrder":500}]},{"name":"Mysterious","images":[{"path":"woman/4-face/7.png","drawOrder":500}]},{"name":"Proud","images":[{"path":"woman/4-face/8.png","drawOrder":500}]},{"name":"Noble","images":[{"path":"woman/4-face/9.png","drawOrder":500}]},{"name":"Royale","images":[{"path":"woman/4-face/10.png","drawOrder":500}]},{"name":"Modern","images":[{"path":"woman/4-face/11.png","drawOrder":500}]},{"name":"White Eyes","images":[{"path":"woman/4-face/12.png","drawOrder":500}]}]},{"name":"Hair","parts":[{"name":"Gaia","images":[{"path":"woman/2-back-hair/0.png","drawOrder":300},{"path":"woman/5-hair/0.png","drawOrder":600}]},{"name":"Short Ponytail","images":[{"path":"woman/5-hair/1.png","drawOrder":600}]},{"name":"Hippie","images":[{"path":"woman/2-back-hair/2.png","drawOrder":300},{"path":"woman/5-hair/2.png","drawOrder":600}]},{"name":"Short Braid","images":[{"path":"woman/5-hair/3.png","drawOrder":600}]},{"name":"Justitia","images":[{"path":"woman/2-back-hair/4.png","drawOrder":300},{"path":"woman/5-hair/4.png","drawOrder":600}]},{"name":"Braid","images":[{"path":"woman/2-back-hair/5.png","drawOrder":300},{"path":"woman/5-hair/5.png","drawOrder":600}]},{"name":"Goddess","images":[{"path":"woman/2-back-hair/6.png","drawOrder":300},{"path":"woman/5-hair/6.png","drawOrder":600}]},{"name":"Long Braid","images":[{"path":"woman/2-back-hair/7.png","drawOrder":300},{"path":"woman/5-hair/7.png","drawOrder":600}]},{"name":"Queen","images":[{"path":"woman/5-hair/8.png","drawOrder":600}]},{"name":"Natural","images":[{"path":"woman/2-back-hair/9.png","drawOrder":300},{"path":"woman/5-hair/9.png","drawOrder":600}]},{"name":"Ancient Greek","images":[{"path":"woman/2-back-hair/10.png","drawOrder":300},{"path":"woman/5-hair/10.png","drawOrder":600}]},{"name":"Shaman","images":[{"path":"woman/2-back-hair/11.png","drawOrder":300},{"path":"woman/5-hair/11.png","drawOrder":600}]},{"name":"Pontiff","images":[{"path":"woman/2-back-hair/12.png","drawOrder":300},{"path":"woman/5-hair/12.png","drawOrder":600}]},{"name":"Lady","images":[{"path":"woman/2-back-hair/13.png","drawOrder":300},{"path":"woman/5-hair/13.png","drawOrder":600}]}]},{"name":"Front Accessory","parts":[{"name":"None","percent":60},{"name":"Tiara","images":[{"path":"woman/6-front-acce/0.png","drawOrder":700}]},{"name":"Hair Band","images":[{"path":"woman/6-front-acce/1.png","drawOrder":700}]},{"name":"Bubble Gum","images":[{"path":"woman/6-front-acce/2.png","drawOrder":700}]},{"name":"Laurel Wreath","images":[{"path":"woman/6-front-acce/3.png","drawOrder":700}]},{"name":"Blindfold","images":[{"path":"woman/6-front-acce/4.png","drawOrder":700}]},{"name":"Glasses","images":[{"path":"woman/6-front-acce/5.png","drawOrder":700}]},{"name":"Sun Glasses","images":[{"path":"woman/6-front-acce/6.png","drawOrder":700}]},{"name":"White Mask","images":[{"path":"woman/6-front-acce/7.png","drawOrder":700}]},{"name":"Flower","images":[{"path":"woman/6-front-acce/8.png","drawOrder":700}]},{"name":"VR","images":[{"path":"woman/6-front-acce/9.png","drawOrder":700}]},{"name":"Flower Crown","images":[{"path":"woman/6-front-acce/10.png","drawOrder":700}]},{"name":"Earrings","images":[{"path":"woman/6-front-acce/11.png","drawOrder":700}]}]},{"name":"Hand","parts":[{"name":"None","percent":60},{"name":"Elegant","images":[{"path":"woman/7-hand/0.png","drawOrder":800}]},{"name":"Grabbed","images":[{"path":"woman/7-hand/1.png","drawOrder":800}]},{"name":"Thinking","images":[{"path":"woman/7-hand/2.png","drawOrder":800}]},{"name":"Cute","images":[{"path":"woman/7-hand/3.png","drawOrder":800}]},{"name":"Klaytn","images":[{"path":"woman/7-hand/4.png","drawOrder":800}]},{"name":"Girlisy","images":[{"path":"woman/7-hand/5.png","drawOrder":800}]},{"name":"Tongs","images":[{"path":"woman/7-hand/6.png","drawOrder":800}]},{"name":"Selfpic","images":[{"path":"woman/7-hand/7.png","drawOrder":800}]}]}]')},Fire:{Man:Al,Woman:Tl},Water:{Man:JSON.parse('[{"name":"Background","parts":[{"name":"BlueMarble","images":[{"path":"man/background/0.png","drawOrder":100}]},{"name":"BlueMarble2","images":[{"path":"man/background/1.png","drawOrder":100}]},{"name":"BlueMarble3","images":[{"path":"man/background/2.png","drawOrder":100}]},{"name":"BlueMarble4","images":[{"path":"man/background/3.png","drawOrder":100}]},{"name":"BlueMarble5","images":[{"path":"man/background/4.png","drawOrder":100}]},{"name":"BlueMarble6","images":[{"path":"man/background/5.png","drawOrder":100}]},{"name":"BlueMarble7","images":[{"path":"man/background/6.png","drawOrder":100}]},{"name":"BlueMarble8","images":[{"path":"man/background/7.png","drawOrder":100}]},{"name":"BlueMarble9","images":[{"path":"man/background/8.png","drawOrder":100}]},{"name":"BlueMarble10","images":[{"path":"man/background/9.png","drawOrder":100}]}]},{"name":"Body","parts":[{"name":"Light","images":[{"path":"man/body/0.png","drawOrder":300}]},{"name":"Dark","percent":25,"images":[{"path":"man/body/1.png","drawOrder":300}]}]},{"name":"Mouth","parts":[{"name":"Grin","images":[{"path":"man/mouth/0.png","drawOrder":400}]},{"name":"Chewing","images":[{"path":"man/mouth/1.png","drawOrder":400}]},{"name":"Smile","images":[{"path":"man/mouth/2.png","drawOrder":400}]},{"name":"Frown","images":[{"path":"man/mouth/3.png","drawOrder":400}]},{"name":"Closed","images":[{"path":"man/mouth/4.png","drawOrder":400}]},{"name":"Relaxed","images":[{"path":"man/mouth/5.png","drawOrder":400}]},{"name":"Not Bad","images":[{"path":"man/mouth/6.png","drawOrder":400}]},{"name":"Growl","images":[{"path":"man/mouth/7.png","drawOrder":400}]},{"name":"Happy","images":[{"path":"man/mouth/8.png","drawOrder":400}]},{"name":"Fun","images":[{"path":"man/mouth/9.png","drawOrder":400}]},{"name":"Serious","images":[{"path":"man/mouth/10.png","drawOrder":400}]},{"name":"Kid","images":[{"path":"man/mouth/11.png","drawOrder":400}]},{"name":"Open","images":[{"path":"man/mouth/12.png","drawOrder":400}]}]},{"name":"Eye","parts":[{"name":"Gold Chill","images":[{"path":"man/eye/0.png","drawOrder":500}]},{"name":"Blue Chill","images":[{"path":"man/eye/1.png","drawOrder":500}]},{"name":"Gold Striking","images":[{"path":"man/eye/2.png","drawOrder":500}]},{"name":"Blue Striking","images":[{"path":"man/eye/3.png","drawOrder":500}]},{"name":"Odd Eyes","images":[{"path":"man/eye/4.png","drawOrder":500}]},{"name":"Dark Gold","images":[{"path":"man/eye/5.png","drawOrder":500}]},{"name":"Gold Stare","images":[{"path":"man/eye/6.png","drawOrder":500}]},{"name":"Blue Stare","images":[{"path":"man/eye/7.png","drawOrder":500}]},{"name":"Blue Serious","images":[{"path":"man/eye/8.png","drawOrder":500}]},{"name":"Gold Serious","images":[{"path":"man/eye/9.png","drawOrder":500}]},{"name":"Ghost","images":[{"path":"man/eye/10.png","drawOrder":500}]},{"name":"White","images":[{"path":"man/eye/11.png","drawOrder":500}]},{"name":"Closed","images":[{"path":"man/eye/12.png","drawOrder":500}]},{"name":"White Closed","images":[{"path":"man/eye/13.png","drawOrder":500}]},{"name":"Fox Eyes","images":[{"path":"man/eye/14.png","drawOrder":500}]},{"name":"White Fox Eyes","images":[{"path":"man/eye/15.png","drawOrder":500}]},{"name":"Gold Vampire","images":[{"path":"man/eye/16.png","drawOrder":500}]},{"name":"Blue Vampire","images":[{"path":"man/eye/17.png","drawOrder":500}]},{"name":"Blue Demon","images":[{"path":"man/eye/18.png","drawOrder":500}]},{"name":"Gold Demon","images":[{"path":"man/eye/19.png","drawOrder":500}]}]},{"name":"Onepiece","parts":[{"name":"Dark Royal","images":[{"path":"man/onepiece/0.png","drawOrder":600}]},{"name":"Light Royal","images":[{"path":"man/onepiece/1.png","drawOrder":600}]},{"name":"Tuxedo","images":[{"path":"man/onepiece/2.png","drawOrder":600}]},{"name":"Gothic","images":[{"path":"man/onepiece/3.png","drawOrder":600}]},{"name":"Gold Oriental","images":[{"path":"man/onepiece/4.png","drawOrder":600}]},{"name":"Blue Oriental","images":[{"path":"man/onepiece/5.png","drawOrder":600}]},{"name":"None","images":[{"path":"man/inner/0.png","drawOrder":600}]},{"name":"White Holder Neck","images":[{"path":"man/inner/1.png","drawOrder":600}]},{"name":"Black Holder Neck","images":[{"path":"man/inner/2.png","drawOrder":600}]},{"name":"Black Top","images":[{"path":"man/inner/3.png","drawOrder":600}]},{"name":"Tatoo","images":[{"path":"man/inner/4.png","drawOrder":600}]},{"name":"Oriental","images":[{"path":"man/inner/5.png","drawOrder":600}]},{"name":"Blue Layered","images":[{"path":"man/inner/6.png","drawOrder":600}]},{"name":"Gold Layered","images":[{"path":"man/inner/7.png","drawOrder":600}]},{"name":"Armor","images":[{"path":"man/inner/8.png","drawOrder":600}]},{"name":"Blue Suit","images":[{"path":"man/inner/9.png","drawOrder":600}]}]},{"name":"Outer","parts":[{"name":"None","percent":60},{"name":"Himation","condition":{"part":"Onepiece","values":["None","White Holder Neck","Black Holder Neck","Black Top","Tatoo","Oriental","Blue Layered","Gold Layered","Armor","Blue Suit"]},"images":[{"path":"man/outer/0.png","drawOrder":700}]},{"name":"Cape","condition":{"part":"Onepiece","values":["None","White Holder Neck","Black Holder Neck","Black Top","Tatoo","Oriental","Blue Layered","Gold Layered","Armor","Blue Suit"]},"images":[{"path":"man/outer/1.png","drawOrder":700}]},{"name":"Coat","condition":{"part":"Onepiece","values":["None","White Holder Neck","Black Holder Neck","Black Top","Tatoo","Oriental","Blue Layered","Gold Layered","Armor","Blue Suit"]},"images":[{"path":"man/outer/2.png","drawOrder":700}]},{"name":"Gold King","condition":{"part":"Onepiece","values":["None","White Holder Neck","Black Holder Neck","Black Top","Tatoo","Oriental","Blue Layered","Gold Layered","Armor","Blue Suit"]},"images":[{"path":"man/outer/3.png","drawOrder":700}]},{"name":"Dark Cloak","condition":{"part":"Onepiece","values":["None","White Holder Neck","Black Holder Neck","Black Top","Tatoo","Oriental","Blue Layered","Gold Layered","Armor","Blue Suit"]},"images":[{"path":"man/outer/4.png","drawOrder":700}]},{"name":"Light Cloak","condition":{"part":"Onepiece","values":["None","White Holder Neck","Black Holder Neck","Black Top","Tatoo","Oriental","Blue Layered","Gold Layered","Armor","Blue Suit"]},"images":[{"path":"man/outer/5.png","drawOrder":700}]},{"name":"Chiton","condition":{"part":"Onepiece","values":["None","White Holder Neck","Black Holder Neck","Black Top","Tatoo","Oriental","Blue Layered","Gold Layered","Armor","Blue Suit"]},"images":[{"path":"man/outer/6.png","drawOrder":700}]},{"name":"Tunic","condition":{"part":"Onepiece","values":["None","White Holder Neck","Black Holder Neck","Black Top","Tatoo","Oriental","Blue Layered","Gold Layered","Armor","Blue Suit"]},"images":[{"path":"man/outer/7.png","drawOrder":700}]},{"name":"Neck Guard","condition":{"part":"Onepiece","values":["None","White Holder Neck","Black Holder Neck","Black Top","Tatoo","Oriental","Blue Layered","Gold Layered","Armor","Blue Suit"]},"images":[{"path":"man/outer/8.png","drawOrder":700}]},{"name":"Dark Long Coat","condition":{"part":"Onepiece","values":["None","White Holder Neck","Black Holder Neck","Black Top","Tatoo","Oriental","Blue Layered","Gold Layered","Armor","Blue Suit"]},"images":[{"path":"man/outer/9.png","drawOrder":700}]},{"name":"Light Long Coat","condition":{"part":"Onepiece","values":["None","White Holder Neck","Black Holder Neck","Black Top","Tatoo","Oriental","Blue Layered","Gold Layered","Armor","Blue Suit"]},"images":[{"path":"man/outer/10.png","drawOrder":700}]}]},{"name":"Hair","parts":[{"name":"Black Hair","images":[{"path":"man/hair/black/0.png","drawOrder":800}]},{"name":"White Hair","images":[{"path":"man/hair/white/0.png","drawOrder":800}]},{"name":"Half Hair","images":[{"path":"man/hair/half/0.png","drawOrder":800}]},{"name":"None","images":[{"path":"man/hair/whole/0.png","drawOrder":800}]},{"name":"Light Dandy","images":[{"path":"man/hair/whole/1.png","drawOrder":800}]},{"name":"Dark Dandy","images":[{"path":"man/hair/whole/2.png","drawOrder":800}]},{"name":"Light Short Cut","images":[{"path":"man/hair/whole/3.png","drawOrder":800}]},{"name":"Dark Short Cut","images":[{"path":"man/hair/whole/4.png","drawOrder":800}]},{"name":"Light Shaggy","images":[{"path":"man/hair/whole/5.png","drawOrder":800}]},{"name":"Dark Shaggy","images":[{"path":"man/hair/whole/6.png","drawOrder":800}]},{"name":"Soldier","images":[{"path":"man/hair/whole/7.png","drawOrder":800}]},{"name":"Light All Back","images":[{"path":"man/hair/whole/8.png","drawOrder":800}]},{"name":"Dark All Back","images":[{"path":"man/hair/whole/9.png","drawOrder":800}]},{"name":"Light Cool","images":[{"path":"man/hair/whole/10.png","drawOrder":800}]},{"name":"Dark Cool","images":[{"path":"man/hair/whole/11.png","drawOrder":800}]},{"name":"Light Shaved","images":[{"path":"man/hair/whole/12.png","drawOrder":800}]},{"name":"Dark Shaved","images":[{"path":"man/hair/whole/13.png","drawOrder":800}]},{"name":"Barcode","images":[{"path":"man/hair/whole/14.png","drawOrder":800}]},{"name":"Light Layered","images":[{"path":"man/hair/whole/15.png","drawOrder":800}]},{"name":"Dark Layered","images":[{"path":"man/hair/whole/16.png","drawOrder":800}]},{"name":"Light Reggae","images":[{"path":"man/hair/whole/17.png","drawOrder":800}]},{"name":"Dark Reggae","images":[{"path":"man/hair/whole/18.png","drawOrder":800}]},{"name":"Light Punk","images":[{"path":"man/hair/whole/19.png","drawOrder":800}]},{"name":"Dark Punk","images":[{"path":"man/hair/whole/20.png","drawOrder":800}]},{"name":"Light Pomade","images":[{"path":"man/hair/whole/21.png","drawOrder":800}]},{"name":"Dark Pomade","images":[{"path":"man/hair/whole/22.png","drawOrder":800}]},{"name":"Rider","images":[{"path":"man/hair/whole/23.png","drawOrder":800}]},{"name":"Light Nobility","images":[{"path":"man/hair/whole/24.png","drawOrder":800}]},{"name":"Dark Nobility","images":[{"path":"man/hair/whole/25.png","drawOrder":800}]},{"name":"Light Short","images":[{"path":"man/hair/whole/26.png","drawOrder":800}]},{"name":"Dark Short","images":[{"path":"man/hair/whole/27.png","drawOrder":800}]}]},{"name":"Back Hair","parts":[{"name":"Black Back Hair","condition":{"part":"Hair","values":["Black Hair"]},"images":[{"path":"man/back_hair/black/0.png","drawOrder":200}]},{"name":"White Back Hair","condition":{"part":"Hair","values":["White Hair"]},"images":[{"path":"man/back_hair/white/0.png","drawOrder":200}]},{"name":"Half Back Hair","condition":{"part":"Hair","values":["Half Hair"]},"images":[{"path":"man/back_hair/half/0.png","drawOrder":200}]}]},{"name":"Accessory","parts":[{"name":"None","percent":70},{"name":"Hair Chain","images":[{"path":"man/acce/0.png","drawOrder":900}]},{"name":"Helm","images":[{"path":"man/acce/1.png","drawOrder":900}]},{"name":"Blue Horn","images":[{"path":"man/acce/2.png","drawOrder":900}]},{"name":"Crown","images":[{"path":"man/acce/3.png","drawOrder":900}]},{"name":"Gold Horn","images":[{"path":"man/acce/4.png","drawOrder":900}]},{"name":"Head Band","images":[{"path":"man/acce/5.png","drawOrder":900}]},{"name":"Laurel Wreath","images":[{"path":"man/acce/6.png","drawOrder":900}]},{"name":"Flower Crown","images":[{"path":"man/acce/7.png","drawOrder":900}]},{"name":"Glasses","images":[{"path":"man/acce/8.png","drawOrder":900}]},{"name":"Wing Crown","images":[{"path":"man/acce/9.png","drawOrder":900}]},{"name":"Mask","images":[{"path":"man/acce/10.png","drawOrder":750}]},{"name":"Moon Earrings","images":[{"path":"man/acce/11.png","drawOrder":900}]},{"name":"Drop Earrings","images":[{"path":"man/acce/12.png","drawOrder":900}]},{"name":"Earrings","images":[{"path":"man/acce/13.png","drawOrder":900}]},{"name":"Eye Patch","images":[{"path":"man/acce/14.png","drawOrder":750}]},{"name":"Dancer Mask","images":[{"path":"man/acce/15.png","drawOrder":750}]},{"name":"Opera Mask","images":[{"path":"man/acce/16.png","drawOrder":750}]},{"name":"Scar","images":[{"path":"man/acce/17.png","drawOrder":750}]},{"name":"Wukong Ring","images":[{"path":"man/acce/18.png","drawOrder":750}]}]}]'),Woman:JSON.parse('[{"name":"Background","parts":[{"name":"BlueMarble","images":[{"path":"woman/background/0.png","drawOrder":100}]},{"name":"BlueMarble2","images":[{"path":"woman/background/1.png","drawOrder":100}]},{"name":"BlueMarble3","images":[{"path":"woman/background/2.png","drawOrder":100}]},{"name":"BlueMarble4","images":[{"path":"woman/background/3.png","drawOrder":100}]},{"name":"BlueMarble5","images":[{"path":"woman/background/4.png","drawOrder":100}]},{"name":"BlueMarble6","images":[{"path":"woman/background/5.png","drawOrder":100}]},{"name":"BlueMarble7","images":[{"path":"woman/background/6.png","drawOrder":100}]},{"name":"BlueMarble8","images":[{"path":"woman/background/7.png","drawOrder":100}]},{"name":"BlueMarble9","images":[{"path":"woman/background/8.png","drawOrder":100}]},{"name":"BlueMarble10","images":[{"path":"woman/background/9.png","drawOrder":100}]}]},{"name":"Body","parts":[{"name":"Light","images":[{"path":"woman/body/0.png","drawOrder":300}]},{"name":"Dark","percent":25,"images":[{"path":"woman/body/1.png","drawOrder":300}]}]},{"name":"Mouth","parts":[{"name":"Blue Grin","images":[{"path":"woman/mouth/0.png","drawOrder":400}]},{"name":"Gold Chewing","images":[{"path":"woman/mouth/1.png","drawOrder":400}]},{"name":"Smile","images":[{"path":"woman/mouth/2.png","drawOrder":400}]},{"name":"Blue Frown","images":[{"path":"woman/mouth/3.png","drawOrder":400}]},{"name":"Gold Relaxed","images":[{"path":"woman/mouth/4.png","drawOrder":400}]},{"name":"Closed","images":[{"path":"woman/mouth/5.png","drawOrder":400}]},{"name":"Dark Lips","images":[{"path":"woman/mouth/6.png","drawOrder":400}]},{"name":"Gold Fun","images":[{"path":"woman/mouth/7.png","drawOrder":400}]},{"name":"Blue Happy","images":[{"path":"woman/mouth/8.png","drawOrder":400}]},{"name":"Gold Serious","images":[{"path":"woman/mouth/9.png","drawOrder":400}]},{"name":"Blue Serious","images":[{"path":"woman/mouth/10.png","drawOrder":400}]},{"name":"Open","images":[{"path":"woman/mouth/11.png","drawOrder":400}]},{"name":"Growl","images":[{"path":"woman/mouth/12.png","drawOrder":400}]},{"name":"Blue Evil","images":[{"path":"woman/mouth/13.png","drawOrder":400}]},{"name":"Gold Evil","images":[{"path":"woman/mouth/14.png","drawOrder":400}]},{"name":"Gold Scoff","images":[{"path":"woman/mouth/15.png","drawOrder":400}]},{"name":"Blue Scoff","images":[{"path":"woman/mouth/16.png","drawOrder":400}]},{"name":"Boss","images":[{"path":"woman/mouth/17.png","drawOrder":400}]}]},{"name":"Eye","parts":[{"name":"Gold Chill","images":[{"path":"woman/eye/0.png","drawOrder":500}]},{"name":"Blue Chill","images":[{"path":"woman/eye/1.png","drawOrder":500}]},{"name":"Mysterious","images":[{"path":"woman/eye/2.png","drawOrder":500}]},{"name":"Gold Striking","images":[{"path":"woman/eye/3.png","drawOrder":500}]},{"name":"Blue Striking","images":[{"path":"woman/eye/4.png","drawOrder":500}]},{"name":"Dark Gold","images":[{"path":"woman/eye/5.png","drawOrder":500}]},{"name":"Gold Stare","images":[{"path":"woman/eye/6.png","drawOrder":500}]},{"name":"Blue Stare","images":[{"path":"woman/eye/7.png","drawOrder":500}]},{"name":"Gold Serious","images":[{"path":"woman/eye/8.png","drawOrder":500}]},{"name":"Blue Serious","images":[{"path":"woman/eye/9.png","drawOrder":500}]},{"name":"Gold Closed","images":[{"path":"woman/eye/10.png","drawOrder":500}]},{"name":"Blue Closed","images":[{"path":"woman/eye/11.png","drawOrder":500}]},{"name":"Gold Lady","images":[{"path":"woman/eye/12.png","drawOrder":500}]},{"name":"Blue Lady","images":[{"path":"woman/eye/13.png","drawOrder":500}]},{"name":"Blue Fox","images":[{"path":"woman/eye/14.png","drawOrder":500}]},{"name":"Gold Fox","images":[{"path":"woman/eye/15.png","drawOrder":500}]},{"name":"Closed","images":[{"path":"woman/eye/16.png","drawOrder":500}]},{"name":"White Closed","images":[{"path":"woman/eye/17.png","drawOrder":500}]},{"name":"Blue Smile","images":[{"path":"woman/eye/18.png","drawOrder":500}]},{"name":"Blue Deep","images":[{"path":"woman/eye/19.png","drawOrder":500}]},{"name":"Gold Deep","images":[{"path":"woman/eye/20.png","drawOrder":500}]},{"name":"Gold Wink","images":[{"path":"woman/eye/21.png","drawOrder":500}]},{"name":"Blue Wink","images":[{"path":"woman/eye/22.png","drawOrder":500}]},{"name":"Odd Eyes","images":[{"path":"woman/eye/23.png","drawOrder":500}]}]},{"name":"Onepiece","parts":[{"name":"Gold Oriental","images":[{"path":"woman/onepiece/0.png","drawOrder":600}]},{"name":"White Himation","images":[{"path":"woman/inner/0.png","drawOrder":600}]},{"name":"Black Himation","images":[{"path":"woman/inner/1.png","drawOrder":600}]},{"name":"Black Tank Top","images":[{"path":"woman/inner/2.png","drawOrder":600}]},{"name":"White Tank Top","images":[{"path":"woman/inner/3.png","drawOrder":600}]},{"name":"Black Holder Neck","images":[{"path":"woman/inner/4.png","drawOrder":600}]},{"name":"White Holder Neck","images":[{"path":"woman/inner/5.png","drawOrder":600}]},{"name":"White Blouse","images":[{"path":"woman/inner/6.png","drawOrder":600}]},{"name":"White Chiton","images":[{"path":"woman/inner/7.png","drawOrder":600}]},{"name":"Black Chiton","images":[{"path":"woman/inner/8.png","drawOrder":600}]},{"name":"Mixed Bra","images":[{"path":"woman/inner/9.png","drawOrder":600}]},{"name":"Gold Bra","images":[{"path":"woman/inner/10.png","drawOrder":600}]},{"name":"Dark Triagle","images":[{"path":"woman/inner/11.png","drawOrder":600}]},{"name":"White Triagle","images":[{"path":"woman/inner/12.png","drawOrder":600}]},{"name":"Black Top","images":[{"path":"woman/inner/13.png","drawOrder":600}]},{"name":"Wild Top","images":[{"path":"woman/inner/14.png","drawOrder":600}]},{"name":"Mixed Top","images":[{"path":"woman/inner/15.png","drawOrder":600}]},{"name":"White Lace","images":[{"path":"woman/inner/16.png","drawOrder":600}]},{"name":"Black Lace","images":[{"path":"woman/inner/17.png","drawOrder":600}]},{"name":"Black Harnes","images":[{"path":"woman/inner/18.png","drawOrder":600}]},{"name":"Gold Harnes","images":[{"path":"woman/inner/19.png","drawOrder":600}]}]},{"name":"Outer","parts":[{"name":"None","percent":60},{"name":"Black Lich Lace","condition":{"part":"Onepiece","values":["White Himation","Black Himation","Black Tank Top","White Tank Top","Black Holder Neck","White Holder Neck","White Blouse","White Chiton","Black Chiton","Mixed Bra","Gold Bra","Dark Triagle","White Triagle","Black Top","Wild Top","Mixed Top","White Lace","Black Lace","Black Harnes","Gold Harnes"]},"images":[{"path":"woman/outer/0.png","drawOrder":700}]},{"name":"White Lich Lace","condition":{"part":"Onepiece","values":["White Himation","Black Himation","Black Tank Top","White Tank Top","Black Holder Neck","White Holder Neck","White Blouse","White Chiton","Black Chiton","Mixed Bra","Gold Bra","Dark Triagle","White Triagle","Black Top","Wild Top","Mixed Top","White Lace","Black Lace","Black Harnes","Gold Harnes"]},"images":[{"path":"woman/outer/1.png","drawOrder":700}]},{"name":"Black Cloak","condition":{"part":"Onepiece","values":["White Himation","Black Himation","Black Tank Top","White Tank Top","Black Holder Neck","White Holder Neck","White Blouse","White Chiton","Black Chiton","Mixed Bra","Gold Bra","Dark Triagle","White Triagle","Black Top","Wild Top","Mixed Top","White Lace","Black Lace","Black Harnes","Gold Harnes"]},"images":[{"path":"woman/outer/2.png","drawOrder":700}]},{"name":"White Pallium","condition":{"part":"Onepiece","values":["White Himation","Black Himation","Black Tank Top","White Tank Top","Black Holder Neck","White Holder Neck","White Blouse","White Chiton","Black Chiton","Mixed Bra","Gold Bra","Dark Triagle","White Triagle","Black Top","Wild Top","Mixed Top","White Lace","Black Lace","Black Harnes","Gold Harnes"]},"images":[{"path":"woman/outer/3.png","drawOrder":700}]},{"name":"Gold Pallium","condition":{"part":"Onepiece","values":["White Himation","Black Himation","Black Tank Top","White Tank Top","Black Holder Neck","White Holder Neck","White Blouse","White Chiton","Black Chiton","Mixed Bra","Gold Bra","Dark Triagle","White Triagle","Black Top","Wild Top","Mixed Top","White Lace","Black Lace","Black Harnes","Gold Harnes"]},"images":[{"path":"woman/outer/4.png","drawOrder":700}]},{"name":"Blue Himation","condition":{"part":"Onepiece","values":["White Himation","Black Himation","Black Tank Top","White Tank Top","Black Holder Neck","White Holder Neck","White Blouse","White Chiton","Black Chiton","Mixed Bra","Gold Bra","Dark Triagle","White Triagle","Black Top","Wild Top","Mixed Top","White Lace","Black Lace","Black Harnes","Gold Harnes"]},"images":[{"path":"woman/outer/5.png","drawOrder":700}]},{"name":"White Cloak","condition":{"part":"Onepiece","values":["White Himation","Black Himation","Black Tank Top","White Tank Top","Black Holder Neck","White Holder Neck","White Blouse","White Chiton","Black Chiton","Mixed Bra","Gold Bra","Dark Triagle","White Triagle","Black Top","Wild Top","Mixed Top","White Lace","Black Lace","Black Harnes","Gold Harnes"]},"images":[{"path":"woman/outer/6.png","drawOrder":700}]},{"name":"Black Gown","condition":{"part":"Onepiece","values":["White Himation","Black Himation","Black Tank Top","White Tank Top","Black Holder Neck","White Holder Neck","White Blouse","White Chiton","Black Chiton","Mixed Bra","Gold Bra","Dark Triagle","White Triagle","Black Top","Wild Top","Mixed Top","White Lace","Black Lace","Black Harnes","Gold Harnes"]},"images":[{"path":"woman/outer/7.png","drawOrder":700}]},{"name":"White Gown","condition":{"part":"Onepiece","values":["White Himation","Black Himation","Black Tank Top","White Tank Top","Black Holder Neck","White Holder Neck","White Blouse","White Chiton","Black Chiton","Mixed Bra","Gold Bra","Dark Triagle","White Triagle","Black Top","Wild Top","Mixed Top","White Lace","Black Lace","Black Harnes","Gold Harnes"]},"images":[{"path":"woman/outer/8.png","drawOrder":700}]},{"name":"Black Queen","condition":{"part":"Onepiece","values":["White Himation","Black Himation","Black Tank Top","White Tank Top","Black Holder Neck","White Holder Neck","White Blouse","White Chiton","Black Chiton","Mixed Bra","Gold Bra","Dark Triagle","White Triagle","Black Top","Wild Top","Mixed Top","White Lace","Black Lace","Black Harnes","Gold Harnes"]},"images":[{"path":"woman/outer/9.png","drawOrder":700}]},{"name":"White Queen","condition":{"part":"Onepiece","values":["White Himation","Black Himation","Black Tank Top","White Tank Top","Black Holder Neck","White Holder Neck","White Blouse","White Chiton","Black Chiton","Mixed Bra","Gold Bra","Dark Triagle","White Triagle","Black Top","Wild Top","Mixed Top","White Lace","Black Lace","Black Harnes","Gold Harnes"]},"images":[{"path":"woman/outer/10.png","drawOrder":700}]}]},{"name":"Hair","parts":[{"name":"Black Long","images":[{"path":"woman/hair/black/0.png","drawOrder":800}]},{"name":"Black Long Wavy","images":[{"path":"woman/hair/black/1.png","drawOrder":800}]},{"name":"Black Bob","images":[{"path":"woman/hair/black/2.png","drawOrder":800}]},{"name":"Black Lady","images":[{"path":"woman/hair/black/3.png","drawOrder":800}]},{"name":"Black Bangs","images":[{"path":"woman/hair/black/4.png","drawOrder":800}]},{"name":"Black Wavy Hime","images":[{"path":"woman/hair/black/5.png","drawOrder":800}]},{"name":"Black Hime","images":[{"path":"woman/hair/black/6.png","drawOrder":800}]},{"name":"Black Shaggy","images":[{"path":"woman/hair/black/7.png","drawOrder":800}]},{"name":"Black Water","images":[{"path":"woman/hair/black/8.png","drawOrder":800}]},{"name":"Black Gyaru","images":[{"path":"woman/hair/black/9.png","drawOrder":800}]},{"name":"White Long","images":[{"path":"woman/hair/white/0.png","drawOrder":800}]},{"name":"White Long Wavy","images":[{"path":"woman/hair/white/1.png","drawOrder":800}]},{"name":"White Bob","images":[{"path":"woman/hair/white/2.png","drawOrder":800}]},{"name":"White Lady","images":[{"path":"woman/hair/white/3.png","drawOrder":800}]},{"name":"White Bangs","images":[{"path":"woman/hair/white/4.png","drawOrder":800}]},{"name":"White Wavy Hime","images":[{"path":"woman/hair/white/5.png","drawOrder":800}]},{"name":"White Hime","images":[{"path":"woman/hair/white/6.png","drawOrder":800}]},{"name":"White Shaggy","images":[{"path":"woman/hair/white/7.png","drawOrder":800}]},{"name":"White Water","images":[{"path":"woman/hair/white/8.png","drawOrder":800}]},{"name":"White Gyaru","images":[{"path":"woman/hair/white/9.png","drawOrder":800}]},{"name":"Long Wavy","images":[{"path":"woman/hair/half/0.png","drawOrder":800}]},{"name":"White Braid","images":[{"path":"woman/hair/whole/0.png","drawOrder":800}]},{"name":"Black Braid","images":[{"path":"woman/hair/whole/1.png","drawOrder":800}]}]},{"name":"Back Hair","parts":[{"name":"Black Long","condition":{"part":"Hair","values":["Black Long","Black Long Wavy","Black Bob","Black Lady","Black Bangs","Black Wavy Hime","Black Hime","Black Shaggy","Black Water","Black Gyaru"]},"images":[{"path":"woman/back_hair/black/0.png","drawOrder":200}]},{"name":"Black Long Wavy","condition":{"part":"Hair","values":["Black Long","Black Long Wavy","Black Bob","Black Lady","Black Bangs","Black Wavy Hime","Black Hime","Black Shaggy","Black Water","Black Gyaru"]},"images":[{"path":"woman/back_hair/black/1.png","drawOrder":200}]},{"name":"Black Short Wavy","condition":{"part":"Hair","values":["Black Long","Black Long Wavy","Black Bob","Black Lady","Black Bangs","Black Wavy Hime","Black Hime","Black Shaggy","Black Water","Black Gyaru"]},"images":[{"path":"woman/back_hair/black/2.png","drawOrder":200}]},{"name":"Black Bob","condition":{"part":"Hair","values":["Black Long","Black Long Wavy","Black Bob","Black Lady","Black Bangs","Black Wavy Hime","Black Hime","Black Shaggy","Black Water","Black Gyaru"]},"images":[{"path":"woman/back_hair/black/3.png","drawOrder":200}]},{"name":"Black Natural","condition":{"part":"Hair","values":["Black Long","Black Long Wavy","Black Bob","Black Lady","Black Bangs","Black Wavy Hime","Black Hime","Black Shaggy","Black Water","Black Gyaru"]},"images":[{"path":"woman/back_hair/black/4.png","drawOrder":200}]},{"name":"Black Flowy","condition":{"part":"Hair","values":["Black Long","Black Long Wavy","Black Bob","Black Lady","Black Bangs","Black Wavy Hime","Black Hime","Black Shaggy","Black Water","Black Gyaru"]},"images":[{"path":"woman/back_hair/black/5.png","drawOrder":200}]},{"name":"Black Pixie","condition":{"part":"Hair","values":["Black Long","Black Long Wavy","Black Bob","Black Lady","Black Bangs","Black Wavy Hime","Black Hime","Black Shaggy","Black Water","Black Gyaru"]},"images":[{"path":"woman/back_hair/black/6.png","drawOrder":200}]},{"name":"Black Water","condition":{"part":"Hair","values":["Black Long","Black Long Wavy","Black Bob","Black Lady","Black Bangs","Black Wavy Hime","Black Hime","Black Shaggy","Black Water","Black Gyaru"]},"images":[{"path":"woman/back_hair/black/7.png","drawOrder":200}]},{"name":"Black Twin Tail","condition":{"part":"Hair","values":["Black Long","Black Long Wavy","Black Bob","Black Lady","Black Bangs","Black Wavy Hime","Black Hime","Black Shaggy","Black Water","Black Gyaru"]},"images":[{"path":"woman/back_hair/black/8.png","drawOrder":200}]},{"name":"White Long","condition":{"part":"Hair","values":["White Long","White Long Wavy","White Bob","White Lady","White Bangs","White Wavy Hime","White Hime","White Shaggy","White Water","White Gyaru"]},"images":[{"path":"woman/back_hair/white/0.png","drawOrder":200}]},{"name":"White Long Wavy","condition":{"part":"Hair","values":["White Long","White Long Wavy","White Bob","White Lady","White Bangs","White Wavy Hime","White Hime","White Shaggy","White Water","White Gyaru"]},"images":[{"path":"woman/back_hair/white/1.png","drawOrder":200}]},{"name":"White Short Wavy","condition":{"part":"Hair","values":["White Long","White Long Wavy","White Bob","White Lady","White Bangs","White Wavy Hime","White Hime","White Shaggy","White Water","White Gyaru"]},"images":[{"path":"woman/back_hair/white/2.png","drawOrder":200}]},{"name":"White Bob","condition":{"part":"Hair","values":["White Long","White Long Wavy","White Bob","White Lady","White Bangs","White Wavy Hime","White Hime","White Shaggy","White Water","White Gyaru"]},"images":[{"path":"woman/back_hair/white/3.png","drawOrder":200}]},{"name":"White Natural","condition":{"part":"Hair","values":["White Long","White Long Wavy","White Bob","White Lady","White Bangs","White Wavy Hime","White Hime","White Shaggy","White Water","White Gyaru"]},"images":[{"path":"woman/back_hair/white/4.png","drawOrder":200}]},{"name":"White Flowy","condition":{"part":"Hair","values":["White Long","White Long Wavy","White Bob","White Lady","White Bangs","White Wavy Hime","White Hime","White Shaggy","White Water","White Gyaru"]},"images":[{"path":"woman/back_hair/white/5.png","drawOrder":200}]},{"name":"White Pixie","condition":{"part":"Hair","values":["White Long","White Long Wavy","White Bob","White Lady","White Bangs","White Wavy Hime","White Hime","White Shaggy","White Water","White Gyaru"]},"images":[{"path":"woman/back_hair/white/6.png","drawOrder":200}]},{"name":"White Water","condition":{"part":"Hair","values":["White Long","White Long Wavy","White Bob","White Lady","White Bangs","White Wavy Hime","White Hime","White Shaggy","White Water","White Gyaru"]},"images":[{"path":"woman/back_hair/white/7.png","drawOrder":200}]},{"name":"White Twin Tail","condition":{"part":"Hair","values":["White Long","White Long Wavy","White Bob","White Lady","White Bangs","White Wavy Hime","White Hime","White Shaggy","White Water","White Gyaru"]},"images":[{"path":"woman/back_hair/white/8.png","drawOrder":200}]},{"name":"Long Wavy","condition":{"part":"Hair","values":["Long Wavy"]},"images":[{"path":"woman/back_hair/half/0.png","drawOrder":200}]}]},{"name":"Accessory","parts":[{"name":"None","percent":70},{"name":"Hair Chain","images":[{"path":"woman/acce/0.png","drawOrder":900}]},{"name":"Helm","images":[{"path":"woman/acce/1.png","drawOrder":900}]},{"name":"Blue Horn","images":[{"path":"woman/acce/2.png","drawOrder":900}]},{"name":"Crown","images":[{"path":"woman/acce/3.png","drawOrder":900}]},{"name":"Gold Horn","images":[{"path":"woman/acce/4.png","drawOrder":900}]},{"name":"Head Band","images":[{"path":"woman/acce/5.png","drawOrder":900}]},{"name":"Laurel Wreath","images":[{"path":"woman/acce/6.png","drawOrder":900}]},{"name":"Flower Crown","images":[{"path":"woman/acce/7.png","drawOrder":900}]},{"name":"Glasses","images":[{"path":"woman/acce/8.png","drawOrder":900}]},{"name":"Wing Crown","images":[{"path":"woman/acce/9.png","drawOrder":900}]},{"name":"Mask","images":[{"path":"woman/acce/10.png","drawOrder":750}]},{"name":"Moon Earrings","images":[{"path":"woman/acce/11.png","drawOrder":900}]},{"name":"Drop Earrings","images":[{"path":"woman/acce/12.png","drawOrder":900}]},{"name":"Earrings","images":[{"path":"woman/acce/13.png","drawOrder":900}]},{"name":"Eye Patch","images":[{"path":"woman/acce/14.png","drawOrder":750}]},{"name":"Dancer Mask","images":[{"path":"woman/acce/15.png","drawOrder":750}]},{"name":"Opera Mask","images":[{"path":"woman/acce/16.png","drawOrder":750}]},{"name":"Scar","images":[{"path":"woman/acce/17.png","drawOrder":750}]},{"name":"Cat","images":[{"path":"woman/acce/18.png","drawOrder":750}]},{"name":"Head Ring","images":[{"path":"woman/acce/19.png","drawOrder":750}]}]}]')}};function Bl(t,e){return t.parts.filter(t=>function(t,e){if(!t.condition)return!0;let i;return i="Type"===t.condition.part?e.type:"Gender"===t.condition.part?e.gender:e.parts[t.condition.part],!!i&&t.condition.values.includes(i)}(t,e))}class Pl{loadedAssets=new Map;loadingPromises=new Map;#t=new Map;#e(t){this.#t.set(t,(this.#t.get(t)||0)+1)}hasActiveRef(t){return this.#t.get(t)>0}_dispose(t,e){}checkLoaded(t){return this.loadedAssets.has(t)}async load(t,...e){return this.#e(t),this.checkLoaded(t)?this.loadedAssets.get(t):this.loadingPromises.has(t)?await this.loadingPromises.get(t):await this._load(t,...e)}release(t){const e=this.#t.get(t);if(void 0===e)throw new Error(`Asset not found: ${t}`);if(1===e){this.#t.delete(t);const e=this.loadedAssets.get(t);e&&(this._dispose(t,e),this.loadedAssets.delete(t))}else this.#t.set(t,e-1)}}const Ol=new class extends Pl{async _load(t){const e=(async()=>{const e=await fetch(t);if(!e.ok)return void console.error(`Failed to load audio data: ${t}`);const i=await e.arrayBuffer();try{const e=await Il.decodeAudioData(i);if(this.loadingPromises.delete(t),this.hasActiveRef(t)){if(!this.loadedAssets.has(t))return this.loadedAssets.set(t,e),e;console.error(`Audio buffer already exists: ${t}`)}}catch(e){console.error(`Failed to decode audio data: ${t}`,e),this.loadingPromises.delete(t)}})();return this.loadingPromises.set(t,e),await e}},Il=new(window.AudioContext||window.webkitAudioContext);window.addEventListener("mousedown",()=>Il.resume()),window.addEventListener("touchend",()=>Il.resume());const El=/Android|iPhone|iPad|iPod/i.test(navigator.userAgent);let $l=!document.hidden;window.addEventListener("visibilitychange",()=>$l=!document.hidden);const Rl=function(){const t=(()=>{const t=new Map,e={persistent:!1,getItem:e=>t.has(e)?t.get(e):null,setItem:(e,i)=>{t.set(e,String(i))},removeItem:e=>{t.delete(e)}};return e})();if("undefined"==typeof window)return t;try{const t=window.localStorage,e="__safe_ls_probe__"+Math.random().toString(36).slice(2);t.setItem(e,"1"),t.removeItem(e);const i={persistent:!0,getItem:e=>t.getItem(e),setItem:(e,i)=>t.setItem(e,i),removeItem:e=>t.removeItem(e)};return i}catch{return t}}();class zl{src;#i;#r;#s;#a;#n;#o;#l=!1;#h=!1;#c=0;#d=0;#u=0;constructor(t,e,i){this.src=t,this.#i=e,this.#r=i,this.play()}get volume(){return this.#i}set volume(t){this.#i=t,this.#n&&(this.#n.gain.value=Math.max(0,Math.min(1,t)))}async play(){El&&!$l||(this.#s||(Ol.checkLoaded(this.src)||console.info(`Audio not preloaded. Loading now: ${this.src}`),this.#s=await Ol.load(this.src)),this.#s&&(this.#l&&this.stop(),this.#h||(this.#u=0),this.#l=!0,this.#h=!1,this.#a||(this.#a=await async function(){return"suspended"===Il.state&&await Il.resume(),Il}()),this.#l&&(this.#n||(this.#n=this.#a.createGain(),this.#n.gain.value=this.#i,this.#n.connect(this.#a.destination)),this.#o=this.#a.createBufferSource(),this.#o.buffer=this.#s,this.#o.loop=this.#r,this.#o.connect(this.#n),this.#o.start(0,this.#u),this.#c=this.#a.currentTime,this.#o.onended=()=>{this.#h||this.#r||this.stop()})))}#p(){this.#o&&(this.#o.stop(),this.#o.disconnect(),this.#o=void 0)}pause(){this.#l&&!this.#h&&(this.#a&&(this.#d=this.#a.currentTime,this.#u+=this.#d-this.#c),this.#h=!0,this.#l=!1,this.#p())}stop(){this.#l=!1,this.#h=!1,this.#u=0,this.#p()}}new class{#i=.7;#m;constructor(){const t=parseFloat(Rl.getItem("musicVolume")||"");this.#i=Number.isNaN(t)?this.#i:t,El&&document.addEventListener("visibilitychange",()=>{document.hidden?this.pause():($l=!0,this.#m?.play())})}get volume(){return this.#i}set volume(t){this.#i=t,Rl.setItem("musicVolume",t.toString()),this.#m&&(this.#m.volume=t)}play(t){this.#m?.src!==t&&(this.#m?.stop(),this.#m=new zl(t,this.#i,!0))}pause(){this.#m?.pause()}stop(){this.#m?.stop(),this.#m=void 0}},new class{#i=1;constructor(){const t=parseFloat(Rl.getItem("sfxVolume")||"");this.#i=Number.isNaN(t)?this.#i:t}get volume(){return this.#i}set volume(t){this.#i=t,Rl.setItem("sfxVolume",t.toString())}play(t){new zl(t,this.#i,!1)}};const Fl=new class extends Pl{async _load(t){const e=(async()=>{const e=await fetch(t);if(!e.ok)return void console.error(`Failed to load binary data: ${t}`);const i=await e.arrayBuffer(),r=new Uint8Array(i);if(this.loadingPromises.delete(t),this.hasActiveRef(t)){if(!this.loadedAssets.has(t))return this.loadedAssets.set(t,r),r;console.error(`Binary data already exists: ${t}`)}})();return this.loadingPromises.set(t,e),await e}},Ll=new class extends Pl{async _load(t){const e=(async()=>{if("fonts"in document)try{return await document.fonts.load(`1em ${t}`),await document.fonts.ready,this.loadingPromises.delete(t),!0}catch(e){console.error(`Failed to load font: ${t}`,e),this.loadingPromises.delete(t)}else console.warn("This browser does not support the Font Loading API"),this.loadingPromises.delete(t)})();return this.loadingPromises.set(t,e),await e}};var Dl=s(72207);const Wl={extension:{type:Dl.Ag.Environment,name:"browser",priority:-1},test:()=>!0,load:async()=>{await Promise.all([s.e(7861),s.e(8889)]).then(s.bind(s,8889))}},Vl={extension:{type:Dl.Ag.Environment,name:"webworker",priority:0},test:()=>"undefined"!=typeof self&&void 0!==self.WorkerGlobalScope,load:async()=>{await Promise.all([s.e(7861),s.e(4830)]).then(s.bind(s,24830))}};s(19676),s(13987);var Hl=s(74393),Nl=s(44661),Yl=s(55829),Xl=s(49307),Ul=s(79171),Gl=s(88096),jl=s(26873),ql=s(56613),Kl=s(99852);class Zl extends ql.v{constructor(t,e){super();const{textures:i,data:r}=t;Object.keys(r.pages).forEach(t=>{const e=r.pages[parseInt(t,10)],s=i[e.id];this.pages.push({texture:s})}),Object.keys(r.chars).forEach(t=>{const e=r.chars[t],{frame:s,source:a,rotate:n}=i[e.page],o=Ul.E.transformRectCoords(e,s,n,new Gl.M),l=new jl.g({frame:o,orig:new Gl.M(0,0,e.width,e.height),source:a,rotate:n});this.chars[t]={id:t.codePointAt(0),xOffset:e.xOffset,yOffset:e.yOffset,xAdvance:e.xAdvance,kerning:e.kerning??{},texture:l}}),this.baseRenderedFontSize=r.fontSize,this.baseMeasurementFontSize=r.fontSize,this.fontMetrics={ascent:0,descent:0,fontSize:r.fontSize},this.baseLineOffset=r.baseLineOffset,this.lineHeight=r.lineHeight,this.fontFamily=r.fontFamily,this.distanceField=r.distanceField??{type:"none",range:0},this.url=e}destroy(){super.destroy();for(let t=0;t<this.pages.length;t++){const{texture:e}=this.pages[t];e.destroy(!0)}this.pages=null}static install(t){Kl.c.install(t)}static uninstall(t){Kl.c.uninstall(t)}}const Ql={test:t=>"string"==typeof t&&t.startsWith("info face="),parse(t){const e=t.match(/^[a-z]+\s+.+$/gm),i={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const t in e){const r=e[t].match(/^[a-z]+/gm)[0],s=e[t].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),a={};for(const t in s){const e=s[t].split("="),i=e[0],r=e[1].replace(/"/gm,""),n=parseFloat(r),o=isNaN(n)?r:n;a[i]=o}i[r].push(a)}const r={chars:{},pages:[],lineHeight:0,fontSize:0,fontFamily:"",distanceField:null,baseLineOffset:0},[s]=i.info,[a]=i.common,[n]=i.distanceField??[];n&&(r.distanceField={range:parseInt(n.distanceRange,10),type:n.fieldType}),r.fontSize=parseInt(s.size,10),r.fontFamily=s.face,r.lineHeight=parseInt(a.lineHeight,10);const o=i.page;for(let t=0;t<o.length;t++)r.pages.push({id:parseInt(o[t].id,10)||0,file:o[t].file});const l={};r.baseLineOffset=r.lineHeight-parseInt(a.base,10);const h=i.char;for(let t=0;t<h.length;t++){const e=h[t],i=parseInt(e.id,10);let s=e.letter??e.char??String.fromCharCode(i);"space"===s&&(s=" "),l[i]=s,r.chars[s]={id:i,page:parseInt(e.page,10)||0,x:parseInt(e.x,10),y:parseInt(e.y,10),width:parseInt(e.width,10),height:parseInt(e.height,10),xOffset:parseInt(e.xoffset,10),yOffset:parseInt(e.yoffset,10),xAdvance:parseInt(e.xadvance,10),kerning:{}}}const c=i.kerning||[];for(let t=0;t<c.length;t++){const e=parseInt(c[t].first,10),i=parseInt(c[t].second,10),s=parseInt(c[t].amount,10);r.chars[l[i]].kerning[l[e]]=s}return r}},Jl={test(t){const e=t;return"string"!=typeof e&&"getElementsByTagName"in e&&e.getElementsByTagName("page").length&&null!==e.getElementsByTagName("info")[0].getAttribute("face")},parse(t){const e={chars:{},pages:[],lineHeight:0,fontSize:0,fontFamily:"",distanceField:null,baseLineOffset:0},i=t.getElementsByTagName("info")[0],r=t.getElementsByTagName("common")[0],s=t.getElementsByTagName("distanceField")[0];s&&(e.distanceField={type:s.getAttribute("fieldType"),range:parseInt(s.getAttribute("distanceRange"),10)});const a=t.getElementsByTagName("page"),n=t.getElementsByTagName("char"),o=t.getElementsByTagName("kerning");e.fontSize=parseInt(i.getAttribute("size"),10),e.fontFamily=i.getAttribute("face"),e.lineHeight=parseInt(r.getAttribute("lineHeight"),10);for(let t=0;t<a.length;t++)e.pages.push({id:parseInt(a[t].getAttribute("id"),10)||0,file:a[t].getAttribute("file")});const l={};e.baseLineOffset=e.lineHeight-parseInt(r.getAttribute("base"),10);for(let t=0;t<n.length;t++){const i=n[t],r=parseInt(i.getAttribute("id"),10);let s=i.getAttribute("letter")??i.getAttribute("char")??String.fromCharCode(r);"space"===s&&(s=" "),l[r]=s,e.chars[s]={id:r,page:parseInt(i.getAttribute("page"),10)||0,x:parseInt(i.getAttribute("x"),10),y:parseInt(i.getAttribute("y"),10),width:parseInt(i.getAttribute("width"),10),height:parseInt(i.getAttribute("height"),10),xOffset:parseInt(i.getAttribute("xoffset"),10),yOffset:parseInt(i.getAttribute("yoffset"),10),xAdvance:parseInt(i.getAttribute("xadvance"),10),kerning:{}}}for(let t=0;t<o.length;t++){const i=parseInt(o[t].getAttribute("first"),10),r=parseInt(o[t].getAttribute("second"),10),s=parseInt(o[t].getAttribute("amount"),10);e.chars[l[r]].kerning[l[i]]=s}return e}},th=t=>!("string"!=typeof t||!t.includes("<font>"))&&Jl.test(Yl.e.get().parseXML(t)),eh=t=>Jl.parse(Yl.e.get().parseXML(t)),ih=[".xml",".fnt"],rh={extension:{type:Dl.Ag.CacheParser,name:"cacheBitmapFont"},test:t=>t instanceof Zl,getCacheableAssets(t,e){const i={};return t.forEach(t=>{i[t]=e,i[`${t}-bitmap`]=e}),i[`${e.fontFamily}-bitmap`]=e,i}},sh={extension:{type:Dl.Ag.LoadParser,priority:Hl.T.Normal},name:"loadBitmapFont",id:"bitmap-font",test:t=>ih.includes(Xl.A.extname(t).toLowerCase()),testParse:async t=>Ql.test(t)||th(t),async parse(t,e,i){const r=Ql.test(t)?Ql.parse(t):eh(t),{src:s}=e,{pages:a}=r,n=[],o=r.distanceField?{scaleMode:"linear",alphaMode:"premultiply-alpha-on-upload",autoGenerateMipmaps:!1,resolution:1}:{};for(let t=0;t<a.length;++t){const e=a[t].file;let i=Xl.A.join(Xl.A.dirname(s),e);i=(0,Nl.Y)(i,s),n.push({src:i,data:o})}const l=await i.load(n),h=n.map(t=>l[t.src]);return new Zl({data:r,textures:h},s)},async load(t,e){const i=await Yl.e.get().fetch(t);return await i.text()},async unload(t,e,i){await Promise.all(t.pages.map(t=>i.unload(t.texture.source._sourceOrigin))),t.destroy()}};var ah=s(63880);class nh{constructor(t,e=!1){this._loader=t,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=e}add(t){t.forEach(t=>{this._assetList.push(t)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const t=[],e=Math.min(this._assetList.length,this._maxConcurrent);for(let i=0;i<e;i++)t.push(this._assetList.pop());await this._loader.load(t),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(t){this._isActive!==t&&(this._isActive=t,t&&!this._isLoading&&this._next())}}var oh=s(62367);const lh={extension:{type:Dl.Ag.CacheParser,name:"cacheTextureArray"},test:t=>Array.isArray(t)&&t.every(t=>t instanceof jl.g),getCacheableAssets:(t,e)=>{const i={};return t.forEach(t=>{e.forEach((e,r)=>{i[t+(0===r?"":r+1)]=e})}),i}};async function hh(t){if("Image"in globalThis)return new Promise(e=>{const i=new Image;i.onload=()=>{e(!0)},i.onerror=()=>{e(!1)},i.src=t});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const e=await(await fetch(t)).blob();await createImageBitmap(e)}catch(t){return!1}return!0}return!1}const ch={extension:{type:Dl.Ag.DetectionParser,priority:1},test:async()=>hh("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async t=>[...t,"avif"],remove:async t=>t.filter(t=>"avif"!==t)},dh=["png","jpg","jpeg"],uh={extension:{type:Dl.Ag.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async t=>[...t,...dh],remove:async t=>t.filter(t=>!dh.includes(t))},ph="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function mh(t){return!ph&&""!==document.createElement("video").canPlayType(t)}const fh={extension:{type:Dl.Ag.DetectionParser,priority:0},test:async()=>mh("video/mp4"),add:async t=>[...t,"mp4","m4v"],remove:async t=>t.filter(t=>"mp4"!==t&&"m4v"!==t)},gh={extension:{type:Dl.Ag.DetectionParser,priority:0},test:async()=>mh("video/ogg"),add:async t=>[...t,"ogv"],remove:async t=>t.filter(t=>"ogv"!==t)},bh={extension:{type:Dl.Ag.DetectionParser,priority:0},test:async()=>mh("video/webm"),add:async t=>[...t,"webm"],remove:async t=>t.filter(t=>"webm"!==t)},yh={extension:{type:Dl.Ag.DetectionParser,priority:0},test:async()=>hh("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async t=>[...t,"webp"],remove:async t=>t.filter(t=>"webp"!==t)};var vh=s(26794),xh=s(14325);class wh{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(t,e,i)=>(this._parsersValidated=!1,t[e]=i,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(t,e){const i={promise:null,parser:null};return i.promise=(async()=>{let r=null,s=null;if((e.parser||e.loadParser)&&(s=this._parserHash[e.parser||e.loadParser],e.loadParser&&(0,ah.R)(`[Assets] "loadParser" is deprecated, use "parser" instead for ${t}`),s||(0,ah.R)(`[Assets] specified load parser "${e.parser||e.loadParser}" not found while loading ${t}`)),!s){for(let i=0;i<this.parsers.length;i++){const r=this.parsers[i];if(r.load&&r.test?.(t,e,this)){s=r;break}}if(!s)return(0,ah.R)(`[Assets] ${t} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}r=await s.load(t,e,this),i.parser=s;for(let t=0;t<this.parsers.length;t++){const s=this.parsers[t];s.parse&&s.parse&&await(s.testParse?.(r,e,this))&&(r=await s.parse(r,e,this)||r,i.parser=s)}return r})(),i}async load(t,e){this._parsersValidated||this._validateParsers();let i=0;const r={},s=(0,xh.a)(t),a=(0,vh.z)(t,t=>({alias:[t],src:t,data:{}})),n=a.length,o=a.map(async t=>{const s=Xl.A.toAbsolute(t.src);if(!r[t.src])try{this.promiseCache[s]||(this.promiseCache[s]=this._getLoadPromiseAndParser(s,t)),r[t.src]=await this.promiseCache[s].promise,e&&e(++i/n)}catch(e){throw delete this.promiseCache[s],delete r[t.src],new Error(`[Loader.load] Failed to load ${s}.\n${e}`)}});return await Promise.all(o),s?r[a[0].src]:r}async unload(t){const e=(0,vh.z)(t,t=>({alias:[t],src:t})).map(async t=>{const e=Xl.A.toAbsolute(t.src),i=this.promiseCache[e];if(i){const r=await i.promise;delete this.promiseCache[e],await(i.parser?.unload?.(r,t,this))}});await Promise.all(e)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(t=>t.name||t.id).reduce((t,e)=>(e.name||e.id?(t[e.name]||t[e.id])&&(0,ah.R)(`[Assets] parser id conflict "${e.id}"`):(0,ah.R)("[Assets] parser should have an id"),t[e.name]=e,e.id&&(t[e.id]=e),t),{})}}function _h(t,e){if(Array.isArray(e)){for(const i of e)if(t.startsWith(`data:${i}`))return!0;return!1}return t.startsWith(`data:${e}`)}function kh(t,e){const i=t.split("?")[0],r=Xl.A.extname(i).toLowerCase();return Array.isArray(e)?e.includes(r):r===e}const Sh={extension:{type:Dl.Ag.LoadParser,priority:Hl.T.Low},name:"loadJson",id:"json",test:t=>_h(t,"application/json")||kh(t,".json"),async load(t){const e=await Yl.e.get().fetch(t);return await e.json()}},Ch={name:"loadTxt",id:"text",extension:{type:Dl.Ag.LoadParser,priority:Hl.T.Low,name:"loadTxt"},test:t=>_h(t,"text/plain")||kh(t,".txt"),async load(t){const e=await Yl.e.get().fetch(t);return await e.text()}},Ah=["normal","bold","100","200","300","400","500","600","700","800","900"],Th=[".ttf",".otf",".woff",".woff2"],Mh=["font/ttf","font/otf","font/woff","font/woff2"],Bh=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i,Ph=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function Oh(t){return Ph.test(t)?t:encodeURI(t)}const Ih={extension:{type:Dl.Ag.LoadParser,priority:Hl.T.Low},name:"loadWebFont",id:"web-font",test:t=>_h(t,Mh)||kh(t,Th),async load(t,e){const i=Yl.e.get().getFontFaceSet();if(i){const r=[],s=e.data?.family??function(t){const e=Xl.A.extname(t),i=Xl.A.basename(t,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(t=>t.charAt(0).toUpperCase()+t.slice(1));let r=i.length>0;for(const t of i)if(!t.match(Bh)){r=!1;break}let s=i.join(" ");return r||(s=`"${s.replace(/[\\"]/g,"\\$&")}"`),s}(t),a=e.data?.weights?.filter(t=>Ah.includes(t))??["normal"],n=e.data??{};for(let e=0;e<a.length;e++){const o=a[e],l=new FontFace(s,`url(${Oh(t)})`,{...n,weight:o});await l.load(),i.add(l),r.push(l)}return oh.l.has(`${s}-and-url`)?oh.l.get(`${s}-and-url`).entries.push({url:t,faces:r}):oh.l.set(`${s}-and-url`,{entries:[{url:t,faces:r}]}),1===r.length?r[0]:r}return(0,ah.R)("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(t){const e=Array.isArray(t)?t:[t],i=e[0].family,r=oh.l.get(`${i}-and-url`),s=r.entries.find(t=>t.faces.some(t=>-1!==e.indexOf(t)));s.faces=s.faces.filter(t=>-1===e.indexOf(t)),0===s.faces.length&&(r.entries=r.entries.filter(t=>t!==s)),e.forEach(t=>{Yl.e.get().getFontFaceSet().delete(t)}),0===r.entries.length&&oh.l.remove(`${i}-and-url`)}};var Eh=s(89241),$h=s(9017),Rh=s(37905);function zh(t,e=1){const i=Rh.x.RETINA_PREFIX?.exec(t);return i?parseFloat(i[1]):e}function Fh(t,e,i){t.label=i,t._sourceOrigin=i;const r=new jl.g({source:t,label:i}),s=()=>{delete e.promiseCache[i],oh.l.has(i)&&oh.l.remove(i)};return r.source.once("destroy",()=>{e.promiseCache[i]&&((0,ah.R)("[Assets] A TextureSource managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the TextureSource."),s())}),r.once("destroy",()=>{t.destroyed||((0,ah.R)("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),s())}),r}const Lh={extension:{type:Dl.Ag.LoadParser,priority:Hl.T.Low,name:"loadSVG"},name:"loadSVG",id:"svg",config:{crossOrigin:"anonymous",parseAsGraphicsContext:!1},test:t=>_h(t,"image/svg+xml")||kh(t,".svg"),async load(t,e,i){return e.data?.parseAsGraphicsContext??this.config.parseAsGraphicsContext?async function(t){const e=await Yl.e.get().fetch(t),i=await e.text(),r=new $h.T;return r.svg(i),r}(t):async function(t,e,i,r){const s=await Yl.e.get().fetch(t),a=await s.blob(),n=URL.createObjectURL(a),o=Yl.e.get().createImage();o.src=n,o.crossOrigin=r,await o.decode(),URL.revokeObjectURL(n);const l=e.data?.width??o.width,h=e.data?.height??o.height,c=e.data?.resolution||zh(t),d=Yl.e.get().createCanvas(l*c,h*c);d.getContext("2d").drawImage(o,0,0,l*c,h*c);const{parseAsGraphicsContext:u,...p}=e.data??{};return Fh(new Eh.b({resource:d,alphaMode:"premultiply-alpha-on-upload",resolution:c,...p}),i,t)}(t,e,i,this.config.crossOrigin)},unload(t){t.destroy(!0)}};let Dh=null;class Wh{constructor(){Dh||(Dh=URL.createObjectURL(new Blob(['(function () {\n    \'use strict\';\n\n    const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";\n    async function checkImageBitmap() {\n      try {\n        if (typeof createImageBitmap !== "function")\n          return false;\n        const response = await fetch(WHITE_PNG);\n        const imageBlob = await response.blob();\n        const imageBitmap = await createImageBitmap(imageBlob);\n        return imageBitmap.width === 1 && imageBitmap.height === 1;\n      } catch (_e) {\n        return false;\n      }\n    }\n    void checkImageBitmap().then((result) => {\n      self.postMessage(result);\n    });\n\n})();\n'],{type:"application/javascript"}))),this.worker=new Worker(Dh)}}Wh.revokeObjectURL=function(){Dh&&(URL.revokeObjectURL(Dh),Dh=null)};let Vh=null;class Hh{constructor(){Vh||(Vh=URL.createObjectURL(new Blob(['(function () {\n    \'use strict\';\n\n    async function loadImageBitmap(url, alphaMode) {\n      const response = await fetch(url);\n      if (!response.ok) {\n        throw new Error(`[WorkerManager.loadImageBitmap] Failed to fetch ${url}: ${response.status} ${response.statusText}`);\n      }\n      const imageBlob = await response.blob();\n      return alphaMode === "premultiplied-alpha" ? createImageBitmap(imageBlob, { premultiplyAlpha: "none" }) : createImageBitmap(imageBlob);\n    }\n    self.onmessage = async (event) => {\n      try {\n        const imageBitmap = await loadImageBitmap(event.data.data[0], event.data.data[1]);\n        self.postMessage({\n          data: imageBitmap,\n          uuid: event.data.uuid,\n          id: event.data.id\n        }, [imageBitmap]);\n      } catch (e) {\n        self.postMessage({\n          error: e,\n          uuid: event.data.uuid,\n          id: event.data.id\n        });\n      }\n    };\n\n})();\n'],{type:"application/javascript"}))),this.worker=new Worker(Vh)}}Hh.revokeObjectURL=function(){Vh&&(URL.revokeObjectURL(Vh),Vh=null)};let Nh,Yh=0;const Xh=new class{constructor(){this._initialized=!1,this._createdWorkers=0,this._workerPool=[],this._queue=[],this._resolveHash={}}isImageBitmapSupported(){return void 0!==this._isImageBitmapSupported||(this._isImageBitmapSupported=new Promise(t=>{const{worker:e}=new Wh;e.addEventListener("message",i=>{e.terminate(),Wh.revokeObjectURL(),t(i.data)})})),this._isImageBitmapSupported}loadImageBitmap(t,e){return this._run("loadImageBitmap",[t,e?.data?.alphaMode])}async _initWorkers(){this._initialized||(this._initialized=!0)}_getWorker(){void 0===Nh&&(Nh=navigator.hardwareConcurrency||4);let t=this._workerPool.pop();return!t&&this._createdWorkers<Nh&&(this._createdWorkers++,t=(new Hh).worker,t.addEventListener("message",t=>{this._complete(t.data),this._returnWorker(t.target),this._next()})),t}_returnWorker(t){this._workerPool.push(t)}_complete(t){void 0!==t.error?this._resolveHash[t.uuid].reject(t.error):this._resolveHash[t.uuid].resolve(t.data),this._resolveHash[t.uuid]=null}async _run(t,e){await this._initWorkers();const i=new Promise((i,r)=>{this._queue.push({id:t,arguments:e,resolve:i,reject:r})});return this._next(),i}_next(){if(!this._queue.length)return;const t=this._getWorker();if(!t)return;const e=this._queue.pop(),i=e.id;this._resolveHash[Yh]={resolve:e.resolve,reject:e.reject},t.postMessage({data:e.arguments,uuid:Yh++,id:i})}reset(){this._workerPool.forEach(t=>t.terminate()),this._workerPool.length=0,Object.values(this._resolveHash).forEach(({reject:t})=>{t?.(new Error("WorkerManager destroyed"))}),this._resolveHash={},this._queue.length=0,this._initialized=!1,this._createdWorkers=0}},Uh=[".jpeg",".jpg",".png",".webp",".avif"],Gh=["image/jpeg","image/png","image/webp","image/avif"],jh={name:"loadTextures",id:"texture",extension:{type:Dl.Ag.LoadParser,priority:Hl.T.High,name:"loadTextures"},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test:t=>_h(t,Gh)||kh(t,Uh),async load(t,e,i){let r=null;return r=globalThis.createImageBitmap&&this.config.preferCreateImageBitmap?this.config.preferWorkers&&await Xh.isImageBitmapSupported()?await Xh.loadImageBitmap(t,e):await async function(t,e){const i=await Yl.e.get().fetch(t);if(!i.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${t}: ${i.status} ${i.statusText}`);const r=await i.blob();return"premultiplied-alpha"===e?.data?.alphaMode?createImageBitmap(r,{premultiplyAlpha:"none"}):createImageBitmap(r)}(t,e):await new Promise((e,i)=>{r=Yl.e.get().createImage(),r.crossOrigin=this.config.crossOrigin,r.src=t,r.complete?e(r):(r.onload=()=>{e(r)},r.onerror=i)}),Fh(new Eh.b({resource:r,alphaMode:"premultiply-alpha-on-upload",resolution:e.data?.resolution||zh(t),...e.data}),i,t)},unload(t){t.destroy(!0)}};var qh=s(80679),Kh=s(33630);const Zh=[".mp4",".m4v",".webm",".ogg",".ogv",".h264",".avi",".mov"];let Qh,Jh;const tc={name:"loadVideo",id:"video",extension:{type:Dl.Ag.LoadParser,name:"loadVideo"},test(t){if(!Qh||!Jh){const{validVideoExtensions:t,validVideoMime:e}=function(){const t=[],e=[];for(const i of Zh){const r=qh.$.MIME_TYPES[i.substring(1)]||`video/${i.substring(1)}`;mh(r)&&(t.push(i),e.includes(r)||e.push(r))}return{validVideoExtensions:t,validVideoMime:e}}();Qh=t,Jh=e}const e=_h(t,Jh),i=kh(t,Qh);return e||i},async load(t,e,i){const r={...qh.$.defaultOptions,resolution:e.data?.resolution||zh(t),alphaMode:e.data?.alphaMode||await(0,Kh.C)(),...e.data},s=document.createElement("video"),a={preload:!1!==r.autoLoad?"auto":void 0,"webkit-playsinline":!1!==r.playsinline?"":void 0,playsinline:!1!==r.playsinline?"":void 0,muted:!0===r.muted?"":void 0,loop:!0===r.loop?"":void 0,autoplay:!1!==r.autoPlay?"":void 0};Object.keys(a).forEach(t=>{const e=a[t];void 0!==e&&s.setAttribute(t,e)}),!0===r.muted&&(s.muted=!0),function(t,e,i){void 0!==i||e.startsWith("data:")?!1!==i&&(t.crossOrigin="string"==typeof i?i:"anonymous"):t.crossOrigin=function(t,e=globalThis.location){if(t.startsWith("data:"))return"";e||(e=globalThis.location);const i=new URL(t,document.baseURI);return i.hostname!==e.hostname||i.port!==e.port||i.protocol!==e.protocol?"anonymous":""}(e)}(s,t,r.crossorigin);const n=document.createElement("source");let o;if(r.mime)o=r.mime;else if(t.startsWith("data:"))o=t.slice(5,t.indexOf(";"));else if(!t.startsWith("blob:")){const e=t.split("?")[0].slice(t.lastIndexOf(".")+1).toLowerCase();o=qh.$.MIME_TYPES[e]||`video/${e}`}return n.src=t,o&&(n.type=o),new Promise(a=>{const o=async()=>{const n=new qh.$({...r,resource:s});var l;s.removeEventListener("canplay",o),e.data.preload&&await(l=s,new Promise((t,e)=>{function i(){s(),t()}function r(t){s(),e(t)}function s(){l.removeEventListener("canplaythrough",i),l.removeEventListener("error",r)}l.addEventListener("canplaythrough",i),l.addEventListener("error",r),l.load()})),a(Fh(n,i,t))};r.preload&&!r.autoPlay&&s.load(),s.addEventListener("canplay",o),s.appendChild(n)})},unload(t){t.destroy(!0)}},ec={extension:{type:Dl.Ag.ResolveParser,name:"resolveTexture"},test:jh.test,parse:t=>({resolution:parseFloat(Rh.x.RETINA_PREFIX.exec(t)?.[1]??"1"),format:t.split(".").pop(),src:t})},ic={extension:{type:Dl.Ag.ResolveParser,priority:-2,name:"resolveJson"},test:t=>Rh.x.RETINA_PREFIX.test(t)&&t.endsWith(".json"),parse:ec.parse},rc=new class{constructor(){this._detections=[],this._initialized=!1,this.resolver=new Rh.x,this.loader=new wh,this.cache=oh.l,this._backgroundLoader=new nh(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(t={}){if(this._initialized)return void(0,ah.R)("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");if(this._initialized=!0,t.defaultSearchParams&&this.resolver.setDefaultSearchParams(t.defaultSearchParams),t.basePath&&(this.resolver.basePath=t.basePath),t.bundleIdentifier&&this.resolver.setBundleIdentifier(t.bundleIdentifier),t.manifest){let e=t.manifest;"string"==typeof e&&(e=await this.load(e)),this.resolver.addManifest(e)}const e=t.texturePreference?.resolution??1,i="number"==typeof e?[e]:e,r=await this._detectFormats({preferredFormats:t.texturePreference?.format,skipDetections:t.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:r,resolution:i}}),t.preferences&&this.setPreferences(t.preferences)}add(t){this.resolver.add(t)}async load(t,e){this._initialized||await this.init();const i=(0,xh.a)(t),r=(0,vh.z)(t).map(t=>{if("string"!=typeof t){const e=this.resolver.getAlias(t);return e.some(t=>!this.resolver.hasKey(t))&&this.add(t),Array.isArray(e)?e[0]:e}return this.resolver.hasKey(t)||this.add({alias:t,src:t}),t}),s=this.resolver.resolve(r),a=await this._mapLoadToResolve(s,e);return i?a[r[0]]:a}addBundle(t,e){this.resolver.addBundle(t,e)}async loadBundle(t,e){this._initialized||await this.init();let i=!1;"string"==typeof t&&(i=!0,t=[t]);const r=this.resolver.resolveBundle(t),s={},a=Object.keys(r);let n=0,o=0;const l=()=>{e?.(++n/o)},h=a.map(t=>{const e=r[t],i=Object.values(e),a=[...new Set(i.flat())];return o+=a.length,this._mapLoadToResolve(e,l).then(e=>{s[t]=e})});return await Promise.all(h),i?s[t[0]]:s}async backgroundLoad(t){this._initialized||await this.init(),"string"==typeof t&&(t=[t]);const e=this.resolver.resolve(t);this._backgroundLoader.add(Object.values(e))}async backgroundLoadBundle(t){this._initialized||await this.init(),"string"==typeof t&&(t=[t]);const e=this.resolver.resolveBundle(t);Object.values(e).forEach(t=>{this._backgroundLoader.add(Object.values(t))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(t){if("string"==typeof t)return oh.l.get(t);const e={};for(let i=0;i<t.length;i++)e[i]=oh.l.get(t[i]);return e}async _mapLoadToResolve(t,e){const i=[...new Set(Object.values(t))];this._backgroundLoader.active=!1;const r=await this.loader.load(i,e);this._backgroundLoader.active=!0;const s={};return i.forEach(t=>{const e=r[t.src],i=[t.src];t.alias&&i.push(...t.alias),i.forEach(t=>{s[t]=e}),oh.l.set(i,e)}),s}async unload(t){this._initialized||await this.init();const e=(0,vh.z)(t).map(t=>"string"!=typeof t?t.src:t),i=this.resolver.resolve(e);await this._unloadFromResolved(i)}async unloadBundle(t){this._initialized||await this.init(),t=(0,vh.z)(t);const e=this.resolver.resolveBundle(t),i=Object.keys(e).map(t=>this._unloadFromResolved(e[t]));await Promise.all(i)}async _unloadFromResolved(t){const e=Object.values(t);e.forEach(t=>{oh.l.remove(t.src)}),await this.loader.unload(e)}async _detectFormats(t){let e=[];t.preferredFormats&&(e=Array.isArray(t.preferredFormats)?t.preferredFormats:[t.preferredFormats]);for(const i of t.detections)t.skipDetections||await i.test()?e=await i.add(e):t.skipDetections||(e=await i.remove(e));return e=e.filter((t,i)=>e.indexOf(t)===i),e}get detections(){return this._detections}setPreferences(t){this.loader.parsers.forEach(e=>{e.config&&Object.keys(e.config).filter(e=>e in t).forEach(i=>{e.config[i]=t[i]})})}};Dl.XO.handleByList(Dl.Ag.LoadParser,rc.loader.parsers).handleByList(Dl.Ag.ResolveParser,rc.resolver.parsers).handleByList(Dl.Ag.CacheParser,rc.cache.parsers).handleByList(Dl.Ag.DetectionParser,rc.detections),Dl.XO.add(lh,uh,ch,yh,fh,gh,bh,Sh,Ch,Ih,Lh,jh,tc,sh,rh,ec,ic);const sc={loader:Dl.Ag.LoadParser,resolver:Dl.Ag.ResolveParser,cache:Dl.Ag.CacheParser,detection:Dl.Ag.DetectionParser};Dl.XO.handle(Dl.Ag.Asset,t=>{const e=t.ref;Object.entries(sc).filter(([t])=>!!e[t]).forEach(([t,i])=>Dl.XO.add(Object.assign(e[t],{extension:e[t].extension??i})))},t=>{const e=t.ref;Object.keys(sc).filter(t=>!!e[t]).forEach(t=>Dl.XO.remove(e[t]))});var ac=s(98917),nc=s(88270),oc=s(431),lc=s(51687),hc=s(63356),cc=s(71005),dc=s(28556);let uc,pc;function mc(t){return void 0!==uc||(uc=(()=>{const e={stencil:!0,failIfMajorPerformanceCaveat:t??dc.k.defaultOptions.failIfMajorPerformanceCaveat};try{if(!Yl.e.get().getWebGLRenderingContext())return!1;let t=Yl.e.get().createCanvas().getContext("webgl",e);const i=!!t?.getContextAttributes()?.stencil;if(t){const e=t.getExtension("WEBGL_lose_context");e&&e.loseContext()}return t=null,i}catch(t){return!1}})()),uc}async function fc(t={}){return void 0!==pc||(pc=await(async()=>{const e=Yl.e.get().getNavigator().gpu;if(!e)return!1;try{const i=await e.requestAdapter(t);return await i.requestDevice(),!0}catch(t){return!1}})()),pc}const gc=["webgl","webgpu","canvas"];var bc=s(73260),yc=s(13889),vc=s(13784),xc=s(38420),wc=s(56167),_c=s(23143),kc=s(50619),Sc=(s(31057),s(5427)),Cc=s(98610);function Ac(t,e,i){(0,Cc.t6)("8.7.0","Please use container.collectRenderables instead.");const r=i.renderPipes?i:i.batch.renderer;return t.collectRenderables(e,r,null)}var Tc=s(15380),Mc=(s(27614),s(45881)),Bc=s(23792);Bc.k;var Pc=s(12432),Oc=s(69325);class Ic{constructor({matrix:t,observer:e}={}){this.dirty=!0,this._matrix=t??new Oc.u,this.observer=e,this.position=new Pc.o(this,0,0),this.scale=new Pc.o(this,1,1),this.pivot=new Pc.o(this,0,0),this.skew=new Pc.o(this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1}get matrix(){const t=this._matrix;return this.dirty?(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this.dirty=!1,t):t}_onUpdate(t){this.dirty=!0,t===this.skew&&this.updateSkew(),this.observer?._onUpdate(this)}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this.dirty=!0}toString(){return`[pixi.js/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`}setFromMatrix(t){t.decompose(this),this.dirty=!0}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this._onUpdate(this.skew))}}var Ec=s(72877);(class t extends Ec.l{constructor(...e){let i=e[0]||{};i instanceof jl.g&&(i={texture:i}),e.length>1&&((0,Cc.t6)(Cc.lj,"use new TilingSprite({ texture, width:100, height:100 }) instead"),i.width=e[1],i.height=e[2]),i={...t.defaultOptions,...i};const{texture:r,anchor:s,tilePosition:a,tileScale:n,tileRotation:o,width:l,height:h,applyAnchorToTexture:c,roundPixels:d,...u}=i??{};super({label:"TilingSprite",...u}),this.renderPipeId="tilingSprite",this.batched=!0,this.allowChildren=!1,this._anchor=new Pc.o({_onUpdate:()=>{this.onViewUpdate()}}),this.applyAnchorToTexture=c,this.texture=r,this._width=l??r.width,this._height=h??r.height,this._tileTransform=new Ic({observer:{_onUpdate:()=>this.onViewUpdate()}}),s&&(this.anchor=s),this.tilePosition=a,this.tileScale=n,this.tileRotation=o,this.roundPixels=d??!1}static from(e,i={}){return new t("string"==typeof e?{texture:oh.l.get(e),...i}:{texture:e,...i})}get uvRespectAnchor(){return(0,ah.R)("uvRespectAnchor is deprecated, please use applyAnchorToTexture instead"),this.applyAnchorToTexture}set uvRespectAnchor(t){(0,ah.R)("uvRespectAnchor is deprecated, please use applyAnchorToTexture instead"),this.applyAnchorToTexture=t}get clampMargin(){return this._texture.textureMatrix.clampMargin}set clampMargin(t){this._texture.textureMatrix.clampMargin=t}get anchor(){return this._anchor}set anchor(t){"number"==typeof t?this._anchor.set(t):this._anchor.copyFrom(t)}get tilePosition(){return this._tileTransform.position}set tilePosition(t){this._tileTransform.position.copyFrom(t)}get tileScale(){return this._tileTransform.scale}set tileScale(t){"number"==typeof t?this._tileTransform.scale.set(t):this._tileTransform.scale.copyFrom(t)}set tileRotation(t){this._tileTransform.rotation=t}get tileRotation(){return this._tileTransform.rotation}get tileTransform(){return this._tileTransform}set texture(t){t||(t=jl.g.EMPTY);const e=this._texture;e!==t&&(e&&e.dynamic&&e.off("update",this.onViewUpdate,this),t.dynamic&&t.on("update",this.onViewUpdate,this),this._texture=t,this.onViewUpdate())}get texture(){return this._texture}set width(t){this._width=t,this.onViewUpdate()}get width(){return this._width}set height(t){this._height=t,this.onViewUpdate()}get height(){return this._height}setSize(t,e){"object"==typeof t&&(e=t.height??t.width,t=t.width),this._width=t,this._height=e??t,this.onViewUpdate()}getSize(t){return t||(t={}),t.width=this._width,t.height=this._height,t}updateBounds(){const t=this._bounds,e=this._anchor,i=this._width,r=this._height;t.minX=-e._x*i,t.maxX=t.minX+i,t.minY=-e._y*r,t.maxY=t.minY+r}containsPoint(t){const e=this._width,i=this._height,r=-e*this._anchor._x;let s=0;return t.x>=r&&t.x<=r+e&&(s=-i*this._anchor._y,t.y>=s&&t.y<=s+i)}destroy(t=!1){if(super.destroy(t),this._anchor=null,this._tileTransform=null,this._bounds=null,"boolean"==typeof t?t:t?.texture){const e="boolean"==typeof t?t:t?.textureSource;this._texture.destroy(e)}this._texture=null}}).defaultOptions={texture:jl.g.EMPTY,anchor:{x:0,y:0},tilePosition:{x:0,y:0},tileScale:{x:1,y:1},tileRotation:0,applyAnchorToTexture:!1},s(74838),Ec.l,s(41256),s(58196),s(33273);var $c=s(12817),Rc=s(55698);Dl.XO.add(Wl,Vl);const zc=new class extends Pl{async _load(t){const e=new Promise(e=>{const i=new Image;i.crossOrigin="anonymous",i.src=t,i.onload=()=>{if(this.loadingPromises.delete(t),!this.hasActiveRef(t))return void e(void 0);if(this.loadedAssets.has(t))return console.error(`Texture already loaded: ${t}`),void e(void 0);const r=jl.g.from(i);this.loadedAssets.set(t,r),e(r)},i.onerror=i=>{this.loadingPromises.delete(t),console.error(`Failed to load texture: ${t}`,i),e(void 0)}});return this.loadingPromises.set(t,e),await e}_dispose(t,e){e.destroy(!0)}},Fc=new WeakMap;let Lc=0;function Dc(t,e){let i=Fc.get(e);return i||(i=new Map,Fc.set(e,i)),i.has(t)||i.set(t,`${t}#${Lc++}`),i.get(t)}const Wc=new class extends Pl{#f=new Map;async _load(t,e,i){this.#f.set(t,e);const r=(async()=>{const r=await zc.load(e);if(!r)return void console.error(`Failed to load texture: ${e}`);const s=new $c.z(r,i);if(await s.parse(),this.loadingPromises.delete(t),this.hasActiveRef(t)){if(!this.loadedAssets.has(t))return this.loadedAssets.set(t,s),s;zc.release(e),console.error(`Spritesheet already exists: ${e}`)}else zc.release(e)})();return this.loadingPromises.set(t,r),await r}_dispose(t,e){e.destroy();const i=this.#f.get(t);i&&zc.release(i)}},Vc=new class extends Pl{async _load(t){const e=(async()=>{const e=await fetch(t);if(!e.ok)return void console.error(`Failed to load text: ${t}`);const i=await e.text();if(this.loadingPromises.delete(t),this.hasActiveRef(t)){if(!this.loadedAssets.has(t))return this.loadedAssets.set(t,i),i;console.error(`Text already exists: ${t}`)}})();return this.loadingPromises.set(t,e),await e}};function Hc(t){return t.endsWith(".json")||t.endsWith(".atlas")}function Nc(t){return t.endsWith(".skel")}function Yc(t){return t.endsWith(".png")||t.endsWith(".jpg")||t.endsWith(".jpeg")||t.endsWith(".gif")||t.endsWith(".webp")}function Xc(t){return t.endsWith(".mp3")||t.endsWith(".wav")||t.endsWith(".ogg")}function Uc(t){return!t.includes(".")}class Gc{#g={};on(t,e){return this.#g[t]||(this.#g[t]=[]),this.#g[t].push({listener:e}),this}once(t,e){return this.#g[t]||(this.#g[t]=[]),this.#g[t].push({listener:e,once:!0}),this}off(t,e){const i=this.#g[t];return i?(this.#g[t]=i.filter(t=>t.listener!==e),0===this.#g[t].length&&delete this.#g[t],this):this}async emit(t,...e){const i=this.#g[t];if(!i)return[];const r=[],s=[];for(const a of i){const i=a.listener(...e);a.once&&this.off(t,a.listener),i instanceof Promise?s.push(i):r.push(i)}return r.concat(await Promise.all(s))}}class jc{#b;#y;constructor(t){this.#b=t,this.#y=!1}get dirty(){return this.#y}get v(){return this.#b}set v(t){this.#b!==t&&(this.#y=!0),this.#b=t}markClean(){this.#y=!1}}class qc{x=new jc(0);y=new jc(0);pivotX=new jc(0);pivotY=new jc(0);scaleX=new jc(1);scaleY=new jc(1);rotation=new jc(0);alpha=new jc(1);markClean(){this.x.markClean(),this.y.markClean(),this.pivotX.markClean(),this.pivotY.markClean(),this.scaleX.markClean(),this.scaleY.markClean(),this.rotation.markClean(),this.alpha.markClean()}}class Kc{x=new jc(0);y=new jc(0);scaleX=new jc(1);scaleY=new jc(1);rotation=new jc(0);alpha=new jc(1);update(t,e){const i=e.x.v*t.scaleX.v,r=e.y.v*t.scaleY.v,s=Math.cos(t.rotation.v),a=Math.sin(t.rotation.v);this.scaleX.v=t.scaleX.v*e.scaleX.v,this.scaleY.v=t.scaleY.v*e.scaleY.v;const n=e.pivotX.v*this.scaleX.v,o=e.pivotY.v*this.scaleY.v,l=Math.cos(e.rotation.v),h=Math.sin(e.rotation.v);this.x.v=t.x.v+(i*s-r*a)-(n*l-o*h),this.y.v=t.y.v+(i*a+r*s)-(n*h+o*l),this.rotation.v=t.rotation.v+e.rotation.v,this.alpha.v=t.alpha.v*e.alpha.v}markClean(){this.x.markClean(),this.y.markClean(),this.scaleX.markClean(),this.scaleY.markClean(),this.rotation.markClean(),this.alpha.markClean()}}function Zc(t,e,i){const r=Math.cos(t.rotation.v),s=Math.sin(t.rotation.v),a=e*t.scaleX.v,n=i*t.scaleY.v;return{x:a*r-n*s,y:a*s+n*r}}new class extends Pl{async _load(t){const e=new Promise(e=>{const i=new Image;i.crossOrigin="anonymous",i.src=t,i.onload=()=>{if(this.loadingPromises.delete(t),this.hasActiveRef(t)){if(this.loadedAssets.has(t))return console.error(`Texture already loaded: ${t}`),void e(void 0);this.loadedAssets.set(t,i),e(i)}else e(void 0)},i.onerror=i=>{this.loadingPromises.delete(t),console.error(`Failed to load texture: ${t}`,i),e(void 0)}});return this.loadingPromises.set(t,e),await e}_dispose(t,e){e.remove()}};var Qc=s(87576),Jc=s.n(Qc);let td=!1;class ed{#v;#x=!1;#w=!1;#_=0;#k=0;#S=!1;#C;#A;constructor(t){this.#C=t}#T(){const t=this.#C._getWorld();t&&this.#A&&t._worldPhysics.removeBody(this.#A)}#M=1;#B=1;#P;#O(){const t=this.#C._getWorld();if(!this.#v||!t)return;const e=this.#C._wt,{x:i,y:r}=Zc(e,this.#v?.x??0,this.#v?.y??0),s=e.x.v+i,a=e.y.v+r,n={angle:e.rotation.v,isStatic:this.#x,isSensor:this.#w,velocity:{x:this.#_,y:this.#k}};if("rect"===this.#v.type)this.#A=Jc().Bodies.rectangle(s,a,this.#v.width,this.#v.height,n);else if("circle"===this.#v.type)this.#A=Jc().Bodies.circle(s,a,this.#v.radius,n);else{if("vert"!==this.#v.type)throw new Error("Invalid collider type");this.#A=Jc().Bodies.fromVertices(s,a,[this.#v.vertices],n)}this.#A.plugin.owner=this.#C,this.#M=e.scaleX.v,this.#B=e.scaleY.v,Jc().Body.scale(this.#A,e.scaleX.v,e.scaleY.v),this.#P=this.#A.inertia,this.#S&&(Jc().Body.setInertia(this.#A,1/0),Jc().Body.setAngularVelocity(this.#A,0)),t._worldPhysics.addBody(this.#A),this.#I()}applyChanges(){if(this.#v&&!this.#A&&this.#O(),!this.#A)return;const t=this.#C._wt,{x:e,y:i}=Zc(t,this.#v?.x??0,this.#v?.y??0);if((t.x.dirty||t.scaleX.dirty||t.y.dirty||t.scaleY.dirty)&&((t.x.dirty||t.scaleX.dirty)&&(t.y.dirty||t.scaleY.dirty)?Jc().Body.setPosition(this.#A,{x:t.x.v+e,y:t.y.v+i}):t.x.dirty||t.scaleX.dirty?Jc().Body.setPosition(this.#A,{x:t.x.v+e,y:this.#A.position.y}):(t.y.dirty||t.scaleY.dirty)&&Jc().Body.setPosition(this.#A,{x:this.#A.position.x,y:t.y.v+i})),t.scaleX.dirty||t.scaleY.dirty){const e=t.scaleX.v/this.#M,i=t.scaleY.v/this.#B;Jc().Body.scale(this.#A,e,i),this.#M=t.scaleX.v,this.#B=t.scaleY.v}t.rotation.dirty&&Jc().Body.setAngle(this.#A,t.rotation.v);const r=this.#C._lt;if(!t.x.dirty||!t.y.dirty||!t.rotation.dirty){const{x:s,y:a,rotation:n,newWorldX:o,newWorldY:l,newWorldRotation:h}=function(t,e,i,r,s){const a=0!==e.scaleX.v?1/e.scaleX.v:0,n=0!==e.scaleY.v?1/e.scaleY.v:0,o=t.scaleX.v*a,l=t.scaleY.v*n,h=t.rotation.v-e.rotation.v,c=Math.cos(h),d=Math.sin(h),u=Math.cos(e.rotation.v),p=Math.sin(e.rotation.v),m=e.pivotX.v*t.scaleX.v,f=e.pivotY.v*t.scaleY.v,g=e.x.v*o,b=e.y.v*l,y=t.x.v-(g*c-b*d)+(m*u-f*p),v=t.y.v-(g*d+b*c)+(m*p+f*u),x=s-h,w=Math.cos(x),_=Math.sin(x),k=i-y+(m*w-f*_),S=r-v+(m*_+f*w),C=(k*c+S*d)*(0!==o?1/o:0),A=(-k*d+S*c)*(0!==l?1/l:0),T=C*o,M=A*l;return{x:C,y:A,rotation:x,newWorldX:y+(T*c-M*d)-(m*w-f*_),newWorldY:v+(T*d+M*c)-(m*_+f*w),newWorldRotation:h+x}}(t,r,this.#A.position.x-e,this.#A.position.y-i,this.#A.angle);t.x.dirty||(r.x.v=s,t.x.v=o),t.y.dirty||(r.y.v=a,t.y.v=l),t.rotation.dirty||(r.rotation.v=n,t.rotation.v=h)}}destroy(){this.#T()}get collider(){return this.#v}set collider(t){this.#T(),this.#v=t}get isStatic(){return this.#A?this.#A.isStatic:this.#x}set isStatic(t){this.#x=t,this.#A&&Jc().Body.setStatic(this.#A,t),this.#I()}get isSensor(){return this.#A?this.#A.isSensor:this.#w}set isSensor(t){this.#w=t,this.#A&&(this.#A.isSensor=t),this.#I()}get velocityX(){return this.#A?this.#A.velocity.x:this.#_}set velocityX(t){this.#_=t,this.#A&&Jc().Body.setVelocity(this.#A,{x:t,y:this.#k})}get velocityY(){return this.#A?this.#A.velocity.y:this.#k}set velocityY(t){this.#k=t,this.#A&&Jc().Body.setVelocity(this.#A,{x:this.#_,y:t})}get fixedRotation(){return this.#S}set fixedRotation(t){this.#S=t,this.#A&&(t?(Jc().Body.setInertia(this.#A,1/0),Jc().Body.setAngularVelocity(this.#A,0)):(Jc().Body.setInertia(this.#A,this.#P),Jc().Body.setAngularVelocity(this.#A,0)))}#I(){}}class id{_container=new Sc.mc({sortableChildren:!0});#E=!1;addChild(t){this._container.addChild(t._container)}destroy(){this._container.destroy({children:!0})}applyChanges(t){t.x.dirty&&(this._container.x=t.x.v),t.y.dirty&&(this._container.y=t.y.v,this.#E&&(this.drawOrder=t.y.v)),t.pivotX.dirty&&(this._container.pivot.x=t.pivotX.v),t.pivotY.dirty&&(this._container.pivot.y=t.pivotY.v),t.scaleX.dirty&&(this._container.scale.x=t.scaleX.v),t.scaleY.dirty&&(this._container.scale.y=t.scaleY.v),t.rotation.dirty&&(this._container.rotation=t.rotation.v),t.alpha.dirty&&(this._container.alpha=t.alpha.v)}get drawOrder(){return this._container.zIndex}set drawOrder(t){this._container.zIndex=t}get yBasedDrawOrder(){return this.#E}set yBasedDrawOrder(t){this.#E=t,t&&(this.drawOrder=this._container.y)}}class rd extends Gc{_lt=new qc;_wt=new Kc;_rendering=new id;#$=new ed(this);#R;#z;#F=[];data={};_setWorld(t){this.#R=t;for(const e of this.#F)e._setWorld(t)}_getWorld(){return this.#R}add(...t){for(const e of t){if(e.#z){const t=e.#z.#F.indexOf(e);-1!==t&&e.#z.#F.splice(t,1)}this.#R&&e._setWorld(this.#R),e.#z=this,this.#F.push(e),this._rendering.addChild(e._rendering)}}remove(){if(this.#z){const t=this.#z.#F.indexOf(this);-1!==t&&this.#z.#F.splice(t,1),this.#z=void 0}for(const t of this.#F)t.#z=void 0,t.remove();this.#F.length=0,this._rendering.destroy(),this.#$.destroy()}update(t){}_afterRender(t){}_engineUpdate(t,e){this.update(t),this._wt.update(e,this._lt),this.#$.applyChanges(),this._rendering.applyChanges(this._lt),this._afterRender(t),this._lt.markClean(),this.emit("update",t);for(const e of this.#F)e._engineUpdate(t,this._wt);this._wt.markClean()}constructor(t){super(),t&&(void 0!==t.x&&(this.x=t.x),void 0!==t.y&&(this.y=t.y),void 0!==t.pivotX&&(this.pivotX=t.pivotX),void 0!==t.pivotY&&(this.pivotY=t.pivotY),void 0!==t.scale&&(this.scale=t.scale),void 0!==t.scaleX&&(this.scaleX=t.scaleX),void 0!==t.scaleY&&(this.scaleY=t.scaleY),void 0!==t.rotation&&(this.rotation=t.rotation),void 0!==t.alpha&&(this.alpha=t.alpha),void 0!==t.drawOrder&&(this.drawOrder=t.drawOrder),void 0!==t.yBasedDrawOrder&&(this.yBasedDrawOrder=t.yBasedDrawOrder),void 0!==t.collider&&(this.collider=t.collider),void 0!==t.isStatic&&(this.isStatic=t.isStatic),void 0!==t.isSensor&&(this.isSensor=t.isSensor),void 0!==t.velocityX&&(this.velocityX=t.velocityX),void 0!==t.velocityY&&(this.velocityY=t.velocityY),void 0!==t.fixedRotation&&(this.fixedRotation=t.fixedRotation),void 0!==t.image&&(this.image=t.image))}get x(){return this._lt.x.v}set x(t){this._lt.x.v=t}get y(){return this._lt.y.v}set y(t){this._lt.y.v=t}get pivotX(){return this._lt.pivotX.v}set pivotX(t){this._lt.pivotX.v=t}get pivotY(){return this._lt.pivotY.v}set pivotY(t){this._lt.pivotY.v=t}get scale(){return this._lt.scaleX.v}set scale(t){this._lt.scaleX.v=t,this._lt.scaleY.v=t}get scaleX(){return this._lt.scaleX.v}set scaleX(t){this._lt.scaleX.v=t}get scaleY(){return this._lt.scaleY.v}set scaleY(t){this._lt.scaleY.v=t}get rotation(){return this._lt.rotation.v}set rotation(t){this._lt.rotation.v=t}get alpha(){return this._lt.alpha.v}set alpha(t){this._lt.alpha.v=t}get drawOrder(){return this._rendering.drawOrder}set drawOrder(t){this._rendering.drawOrder=t}get yBasedDrawOrder(){return this._rendering.yBasedDrawOrder}set yBasedDrawOrder(t){this._rendering.yBasedDrawOrder=t}get collider(){return this.#$.collider}set collider(t){this.#$.collider=t}get isStatic(){return this.#$.isStatic}set isStatic(t){this.#$.isStatic=t}get isSensor(){return this.#$.isSensor}set isSensor(t){this.#$.isSensor=t}get velocityX(){return this.#$.velocityX}set velocityX(t){this.#$.velocityX=t}get velocityY(){return this.#$.velocityY}set velocityY(t){this.#$.velocityY=t}get fixedRotation(){return this.#$.fixedRotation}set fixedRotation(t){this.#$.fixedRotation=t}_addPixiChild(t){this._rendering._container.addChild(t)}#L;get image(){return this.#L}set image(t){t&&(zc.checkLoaded(t)||console.info(`Image not preloaded. Loading now: ${t}`),zc.load(t).then(t=>{t&&this._addPixiChild(new Bc.k({texture:t,anchor:{x:.5,y:.5},zIndex:-999999}))}))}}if("undefined"!=typeof window&&window.PIXI){const t=window.require;window.require=e=>t?t(e):e.startsWith("@pixi/")||e.startsWith("pixi.js")?window.PIXI:void 0}class sd{entries={};size=0;add(t){let e=this.entries[t];return this.entries[t]=!0,!e&&(this.size++,!0)}addAll(t){let e=this.size;for(var i=0,r=t.length;i<r;i++)this.add(t[i]);return e!=this.size}contains(t){return this.entries[t]}clear(){this.entries={},this.size=0}}class ad{r;g;b;a;static WHITE=new ad(1,1,1,1);static RED=new ad(1,0,0,1);static GREEN=new ad(0,1,0,1);static BLUE=new ad(0,0,1,1);static MAGENTA=new ad(1,0,1,1);constructor(t=0,e=0,i=0,r=0){this.r=t,this.g=e,this.b=i,this.a=r}set(t,e,i,r){return this.r=t,this.g=e,this.b=i,this.a=r,this.clamp()}setFromColor(t){return this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a,this}setFromString(t){return t="#"==t.charAt(0)?t.substr(1):t,this.r=parseInt(t.substr(0,2),16)/255,this.g=parseInt(t.substr(2,2),16)/255,this.b=parseInt(t.substr(4,2),16)/255,this.a=8!=t.length?1:parseInt(t.substr(6,2),16)/255,this}add(t,e,i,r){return this.r+=t,this.g+=e,this.b+=i,this.a+=r,this.clamp()}clamp(){return this.r<0?this.r=0:this.r>1&&(this.r=1),this.g<0?this.g=0:this.g>1&&(this.g=1),this.b<0?this.b=0:this.b>1&&(this.b=1),this.a<0?this.a=0:this.a>1&&(this.a=1),this}static rgba8888ToColor(t,e){t.r=((4278190080&e)>>>24)/255,t.g=((16711680&e)>>>16)/255,t.b=((65280&e)>>>8)/255,t.a=(255&e)/255}static rgb888ToColor(t,e){t.r=((16711680&e)>>>16)/255,t.g=((65280&e)>>>8)/255,t.b=(255&e)/255}toRgb888(){const t=t=>("0"+(255*t).toString(16)).slice(-2);return Number("0x"+t(this.r)+t(this.g)+t(this.b))}static fromString(t,e=new ad){return e.setFromString(t)}}class nd{static PI=3.1415927;static PI2=2*nd.PI;static invPI2=1/nd.PI2;static radiansToDegrees=180/nd.PI;static radDeg=nd.radiansToDegrees;static degreesToRadians=nd.PI/180;static degRad=nd.degreesToRadians;static clamp(t,e,i){return t<e?e:t>i?i:t}static cosDeg(t){return Math.cos(t*nd.degRad)}static sinDeg(t){return Math.sin(t*nd.degRad)}static atan2Deg(t,e){return Math.atan2(t,e)*nd.degRad}static signum(t){return t>0?1:t<0?-1:0}static toInt(t){return t>0?Math.floor(t):Math.ceil(t)}static cbrt(t){let e=Math.pow(Math.abs(t),1/3);return t<0?-e:e}static randomTriangular(t,e){return nd.randomTriangularWith(t,e,.5*(t+e))}static randomTriangularWith(t,e,i){let r=Math.random(),s=e-t;return r<=(i-t)/s?t+Math.sqrt(r*s*(i-t)):e-Math.sqrt((1-r)*s*(e-i))}static isPowerOfTwo(t){return t&&!(t&t-1)}}class od{static SUPPORTS_TYPED_ARRAYS="undefined"!=typeof Float32Array;static arrayCopy(t,e,i,r,s){for(let a=e,n=r;a<e+s;a++,n++)i[n]=t[a]}static arrayFill(t,e,i,r){for(let s=e;s<i;s++)t[s]=r}static setArraySize(t,e,i=0){let r=t.length;if(r==e)return t;if(t.length=e,r<e)for(let s=r;s<e;s++)t[s]=i;return t}static ensureArrayCapacity(t,e,i=0){return t.length>=e?t:od.setArraySize(t,e,i)}static newArray(t,e){let i=new Array(t);for(let r=0;r<t;r++)i[r]=e;return i}static newFloatArray(t){if(od.SUPPORTS_TYPED_ARRAYS)return new Float32Array(t);{let e=new Array(t);for(let t=0;t<e.length;t++)e[t]=0;return e}}static newShortArray(t){if(od.SUPPORTS_TYPED_ARRAYS)return new Int16Array(t);{let e=new Array(t);for(let t=0;t<e.length;t++)e[t]=0;return e}}static toFloatArray(t){return od.SUPPORTS_TYPED_ARRAYS?new Float32Array(t):t}static toSinglePrecision(t){return od.SUPPORTS_TYPED_ARRAYS?Math.fround(t):t}static webkit602BugfixHelper(t,e){}static contains(t,e,i=!0){for(var r=0;r<t.length;r++)if(t[r]==e)return!0;return!1}static enumValue(t,e){return t[e[0].toUpperCase()+e.slice(1)]}}class ld{items=new Array;instantiator;constructor(t){this.instantiator=t}obtain(){return this.items.length>0?this.items.pop():this.instantiator()}free(t){t.reset&&t.reset(),this.items.push(t)}freeAll(t){for(let e=0;e<t.length;e++)this.free(t[e])}clear(){this.items.length=0}}class hd{x;y;constructor(t=0,e=0){this.x=t,this.y=e}set(t,e){return this.x=t,this.y=e,this}length(){let t=this.x,e=this.y;return Math.sqrt(t*t+e*e)}normalize(){let t=this.length();return 0!=t&&(this.x/=t,this.y/=t),this}}class cd{name;constructor(t){if(!t)throw new Error("name cannot be null.");this.name=t}}class dd extends cd{static nextID=0;id=dd.nextID++;bones=null;vertices=[];worldVerticesLength=0;timelineAttachment=this;constructor(t){super(t)}computeWorldVertices(t,e,i,r,s,a){i=s+(i>>1)*a;let n=t.bone.skeleton,o=t.deform,l=this.vertices,h=this.bones;if(!h){o.length>0&&(l=o);let n=t.bone,h=n.worldX,c=n.worldY,d=n.a,u=n.b,p=n.c,m=n.d;for(let t=e,n=s;n<i;t+=2,n+=a){let e=l[t],i=l[t+1];r[n]=e*d+i*u+h,r[n+1]=e*p+i*m+c}return}let c=0,d=0;for(let t=0;t<e;t+=2){let t=h[c];c+=t+1,d+=t}let u=n.bones;if(0==o.length)for(let t=s,e=3*d;t<i;t+=a){let i=0,s=0,a=h[c++];for(a+=c;c<a;c++,e+=3){let t=u[h[c]],r=l[e],a=l[e+1],n=l[e+2];i+=(r*t.a+a*t.b+t.worldX)*n,s+=(r*t.c+a*t.d+t.worldY)*n}r[t]=i,r[t+1]=s}else{let t=o;for(let e=s,n=3*d,o=d<<1;e<i;e+=a){let i=0,s=0,a=h[c++];for(a+=c;c<a;c++,n+=3,o+=2){let e=u[h[c]],r=l[n]+t[o],a=l[n+1]+t[o+1],d=l[n+2];i+=(r*e.a+a*e.b+e.worldX)*d,s+=(r*e.c+a*e.d+e.worldY)*d}r[e]=i,r[e+1]=s}}}copyTo(t){this.bones?(t.bones=new Array(this.bones.length),od.arrayCopy(this.bones,0,t.bones,0,this.bones.length)):t.bones=null,this.vertices&&(t.vertices=od.newFloatArray(this.vertices.length),od.arrayCopy(this.vertices,0,t.vertices,0,this.vertices.length)),t.worldVerticesLength=this.worldVerticesLength,t.timelineAttachment=this.timelineAttachment}}class ud{static _nextID=0;id=ud.nextID();regions;start=0;digits=0;setupIndex=0;constructor(t){this.regions=new Array(t)}copy(){let t=new ud(this.regions.length);return od.arrayCopy(this.regions,0,t.regions,0,this.regions.length),t.start=this.start,t.digits=this.digits,t.setupIndex=this.setupIndex,t}apply(t,e){let i=t.sequenceIndex;-1==i&&(i=this.setupIndex),i>=this.regions.length&&(i=this.regions.length-1);let r=this.regions[i];e.region!=r&&(e.region=r,e.updateRegion())}getPath(t,e){let i=t,r=(this.start+e).toString();for(let t=this.digits-r.length;t>0;t--)i+="0";return i+=r,i}static nextID(){return ud._nextID++}}var pd;!function(t){t[t.hold=0]="hold",t[t.once=1]="once",t[t.loop=2]="loop",t[t.pingpong=3]="pingpong",t[t.onceReverse=4]="onceReverse",t[t.loopReverse=5]="loopReverse",t[t.pingpongReverse=6]="pingpongReverse"}(pd||(pd={}));const md=[pd.hold,pd.once,pd.loop,pd.pingpong,pd.onceReverse,pd.loopReverse,pd.pingpongReverse];class fd{name;timelines=[];timelineIds=new sd;duration;constructor(t,e,i){if(!t)throw new Error("name cannot be null.");this.name=t,this.setTimelines(e),this.duration=i}setTimelines(t){if(!t)throw new Error("timelines cannot be null.");this.timelines=t,this.timelineIds.clear();for(var e=0;e<t.length;e++)this.timelineIds.addAll(t[e].getPropertyIds())}hasTimeline(t){for(let e=0;e<t.length;e++)if(this.timelineIds.contains(t[e]))return!0;return!1}apply(t,e,i,r,s,a,n,o){if(!t)throw new Error("skeleton cannot be null.");r&&0!=this.duration&&(i%=this.duration,e>0&&(e%=this.duration));let l=this.timelines;for(let r=0,h=l.length;r<h;r++)l[r].apply(t,e,i,s,a,n,o)}}var gd,bd;!function(t){t[t.setup=0]="setup",t[t.first=1]="first",t[t.replace=2]="replace",t[t.add=3]="add"}(gd||(gd={})),function(t){t[t.mixIn=0]="mixIn",t[t.mixOut=1]="mixOut"}(bd||(bd={}));const yd={rotate:0,x:1,y:2,scaleX:3,scaleY:4,shearX:5,shearY:6,inherit:7,rgb:8,alpha:9,rgb2:10,attachment:11,deform:12,event:13,drawOrder:14,ikConstraint:15,transformConstraint:16,pathConstraintPosition:17,pathConstraintSpacing:18,pathConstraintMix:19,physicsConstraintInertia:20,physicsConstraintStrength:21,physicsConstraintDamping:22,physicsConstraintMass:23,physicsConstraintWind:24,physicsConstraintGravity:25,physicsConstraintMix:26,physicsConstraintReset:27,sequence:28};class vd{propertyIds;frames;constructor(t,e){this.propertyIds=e,this.frames=od.newFloatArray(t*this.getFrameEntries())}getPropertyIds(){return this.propertyIds}getFrameEntries(){return 1}getFrameCount(){return this.frames.length/this.getFrameEntries()}getDuration(){return this.frames[this.frames.length-this.getFrameEntries()]}static search1(t,e){let i=t.length;for(let r=1;r<i;r++)if(t[r]>e)return r-1;return i-1}static search(t,e,i){let r=t.length;for(let s=i;s<r;s+=i)if(t[s]>e)return s-i;return r-i}}class xd extends vd{curves;constructor(t,e,i){super(t,i),this.curves=od.newFloatArray(t+18*e),this.curves[t-1]=1}setLinear(t){this.curves[t]=0}setStepped(t){this.curves[t]=1}shrink(t){let e=this.getFrameCount()+18*t;if(this.curves.length>e){let t=od.newFloatArray(e);od.arrayCopy(this.curves,0,t,0,e),this.curves=t}}setBezier(t,e,i,r,s,a,n,o,l,h,c){let d=this.curves,u=this.getFrameCount()+18*t;0==i&&(d[e]=2+u);let p=.03*(r-2*a+o),m=.03*(s-2*n+l),f=.006*(3*(a-o)-r+h),g=.006*(3*(n-l)-s+c),b=2*p+f,y=2*m+g,v=.3*(a-r)+p+.16666667*f,x=.3*(n-s)+m+.16666667*g,w=r+v,_=s+x;for(let t=u+18;u<t;u+=2)d[u]=w,d[u+1]=_,v+=b,x+=y,b+=f,y+=g,w+=v,_+=x}getBezierValue(t,e,i,r){let s=this.curves;if(s[r]>t){let a=this.frames[e],n=this.frames[e+i];return n+(t-a)/(s[r]-a)*(s[r+1]-n)}let a=r+18;for(r+=2;r<a;r+=2)if(s[r]>=t){let e=s[r-2],i=s[r-1];return i+(t-e)/(s[r]-e)*(s[r+1]-i)}e+=this.getFrameEntries();let n=s[a-2],o=s[a-1];return o+(t-n)/(this.frames[e]-n)*(this.frames[e+i]-o)}}class wd extends xd{constructor(t,e,i){super(t,e,[i])}getFrameEntries(){return 2}setFrame(t,e,i){t<<=1,this.frames[t]=e,this.frames[t+1]=i}getCurveValue(t){let e=this.frames,i=e.length-2;for(let r=2;r<=i;r+=2)if(e[r]>t){i=r-2;break}let r=this.curves[i>>1];switch(r){case 0:let r=e[i],s=e[i+1];return s+(t-r)/(e[i+2]-r)*(e[i+2+1]-s);case 1:return e[i+1]}return this.getBezierValue(t,i,1,r-2)}getRelativeValue(t,e,i,r,s){if(t<this.frames[0]){switch(i){case gd.setup:return s;case gd.first:return r+(s-r)*e}return r}let a=this.getCurveValue(t);switch(i){case gd.setup:return s+a*e;case gd.first:case gd.replace:a+=s-r}return r+a*e}getAbsoluteValue(t,e,i,r,s){if(t<this.frames[0]){switch(i){case gd.setup:return s;case gd.first:return r+(s-r)*e}return r}let a=this.getCurveValue(t);return i==gd.setup?s+(a-s)*e:r+(a-r)*e}getAbsoluteValue2(t,e,i,r,s,a){if(t<this.frames[0]){switch(i){case gd.setup:return s;case gd.first:return r+(s-r)*e}return r}return i==gd.setup?s+(a-s)*e:r+(a-r)*e}getScaleValue(t,e,i,r,s,a){if(t<this.frames[0]){switch(i){case gd.setup:return a;case gd.first:return s+(a-s)*e}return s}let n=this.getCurveValue(t)*a;if(1==e)return i==gd.add?s+n-a:n;if(r==bd.mixOut)switch(i){case gd.setup:return a+(Math.abs(n)*nd.signum(a)-a)*e;case gd.first:case gd.replace:return s+(Math.abs(n)*nd.signum(s)-s)*e}else{let t=0;switch(i){case gd.setup:return t=Math.abs(a)*nd.signum(n),t+(n-t)*e;case gd.first:case gd.replace:return t=Math.abs(s)*nd.signum(n),t+(n-t)*e}}return s+(n-a)*e}}class _d extends xd{constructor(t,e,i,r){super(t,e,[i,r])}getFrameEntries(){return 3}setFrame(t,e,i,r){t*=3,this.frames[t]=e,this.frames[t+1]=i,this.frames[t+2]=r}}class kd extends wd{boneIndex=0;constructor(t,e,i){super(t,e,yd.rotate+"|"+i),this.boneIndex=i}apply(t,e,i,r,s,a,n){let o=t.bones[this.boneIndex];o.active&&(o.rotation=this.getRelativeValue(i,s,a,o.rotation,o.data.rotation))}}class Sd extends _d{boneIndex=0;constructor(t,e,i){super(t,e,yd.x+"|"+i,yd.y+"|"+i),this.boneIndex=i}apply(t,e,i,r,s,a,n){let o=t.bones[this.boneIndex];if(!o.active)return;let l=this.frames;if(i<l[0]){switch(a){case gd.setup:return o.x=o.data.x,void(o.y=o.data.y);case gd.first:o.x+=(o.data.x-o.x)*s,o.y+=(o.data.y-o.y)*s}return}let h=0,c=0,d=vd.search(l,i,3),u=this.curves[d/3];switch(u){case 0:let t=l[d];h=l[d+1],c=l[d+2];let e=(i-t)/(l[d+3]-t);h+=(l[d+3+1]-h)*e,c+=(l[d+3+2]-c)*e;break;case 1:h=l[d+1],c=l[d+2];break;default:h=this.getBezierValue(i,d,1,u-2),c=this.getBezierValue(i,d,2,u+18-2)}switch(a){case gd.setup:o.x=o.data.x+h*s,o.y=o.data.y+c*s;break;case gd.first:case gd.replace:o.x+=(o.data.x+h-o.x)*s,o.y+=(o.data.y+c-o.y)*s;break;case gd.add:o.x+=h*s,o.y+=c*s}}}class Cd extends wd{boneIndex=0;constructor(t,e,i){super(t,e,yd.x+"|"+i),this.boneIndex=i}apply(t,e,i,r,s,a,n){let o=t.bones[this.boneIndex];o.active&&(o.x=this.getRelativeValue(i,s,a,o.x,o.data.x))}}class Ad extends wd{boneIndex=0;constructor(t,e,i){super(t,e,yd.y+"|"+i),this.boneIndex=i}apply(t,e,i,r,s,a,n){let o=t.bones[this.boneIndex];o.active&&(o.y=this.getRelativeValue(i,s,a,o.y,o.data.y))}}class Td extends _d{boneIndex=0;constructor(t,e,i){super(t,e,yd.scaleX+"|"+i,yd.scaleY+"|"+i),this.boneIndex=i}apply(t,e,i,r,s,a,n){let o=t.bones[this.boneIndex];if(!o.active)return;let l,h,c=this.frames;if(i<c[0]){switch(a){case gd.setup:return o.scaleX=o.data.scaleX,void(o.scaleY=o.data.scaleY);case gd.first:o.scaleX+=(o.data.scaleX-o.scaleX)*s,o.scaleY+=(o.data.scaleY-o.scaleY)*s}return}let d=vd.search(c,i,3),u=this.curves[d/3];switch(u){case 0:let t=c[d];l=c[d+1],h=c[d+2];let e=(i-t)/(c[d+3]-t);l+=(c[d+3+1]-l)*e,h+=(c[d+3+2]-h)*e;break;case 1:l=c[d+1],h=c[d+2];break;default:l=this.getBezierValue(i,d,1,u-2),h=this.getBezierValue(i,d,2,u+18-2)}if(l*=o.data.scaleX,h*=o.data.scaleY,1==s)a==gd.add?(o.scaleX+=l-o.data.scaleX,o.scaleY+=h-o.data.scaleY):(o.scaleX=l,o.scaleY=h);else{let t=0,e=0;if(n==bd.mixOut)switch(a){case gd.setup:t=o.data.scaleX,e=o.data.scaleY,o.scaleX=t+(Math.abs(l)*nd.signum(t)-t)*s,o.scaleY=e+(Math.abs(h)*nd.signum(e)-e)*s;break;case gd.first:case gd.replace:t=o.scaleX,e=o.scaleY,o.scaleX=t+(Math.abs(l)*nd.signum(t)-t)*s,o.scaleY=e+(Math.abs(h)*nd.signum(e)-e)*s;break;case gd.add:o.scaleX+=(l-o.data.scaleX)*s,o.scaleY+=(h-o.data.scaleY)*s}else switch(a){case gd.setup:t=Math.abs(o.data.scaleX)*nd.signum(l),e=Math.abs(o.data.scaleY)*nd.signum(h),o.scaleX=t+(l-t)*s,o.scaleY=e+(h-e)*s;break;case gd.first:case gd.replace:t=Math.abs(o.scaleX)*nd.signum(l),e=Math.abs(o.scaleY)*nd.signum(h),o.scaleX=t+(l-t)*s,o.scaleY=e+(h-e)*s;break;case gd.add:o.scaleX+=(l-o.data.scaleX)*s,o.scaleY+=(h-o.data.scaleY)*s}}}}class Md extends wd{boneIndex=0;constructor(t,e,i){super(t,e,yd.scaleX+"|"+i),this.boneIndex=i}apply(t,e,i,r,s,a,n){let o=t.bones[this.boneIndex];o.active&&(o.scaleX=this.getScaleValue(i,s,a,n,o.scaleX,o.data.scaleX))}}class Bd extends wd{boneIndex=0;constructor(t,e,i){super(t,e,yd.scaleY+"|"+i),this.boneIndex=i}apply(t,e,i,r,s,a,n){let o=t.bones[this.boneIndex];o.active&&(o.scaleY=this.getScaleValue(i,s,a,n,o.scaleY,o.data.scaleY))}}class Pd extends _d{boneIndex=0;constructor(t,e,i){super(t,e,yd.shearX+"|"+i,yd.shearY+"|"+i),this.boneIndex=i}apply(t,e,i,r,s,a,n){let o=t.bones[this.boneIndex];if(!o.active)return;let l=this.frames;if(i<l[0]){switch(a){case gd.setup:return o.shearX=o.data.shearX,void(o.shearY=o.data.shearY);case gd.first:o.shearX+=(o.data.shearX-o.shearX)*s,o.shearY+=(o.data.shearY-o.shearY)*s}return}let h=0,c=0,d=vd.search(l,i,3),u=this.curves[d/3];switch(u){case 0:let t=l[d];h=l[d+1],c=l[d+2];let e=(i-t)/(l[d+3]-t);h+=(l[d+3+1]-h)*e,c+=(l[d+3+2]-c)*e;break;case 1:h=l[d+1],c=l[d+2];break;default:h=this.getBezierValue(i,d,1,u-2),c=this.getBezierValue(i,d,2,u+18-2)}switch(a){case gd.setup:o.shearX=o.data.shearX+h*s,o.shearY=o.data.shearY+c*s;break;case gd.first:case gd.replace:o.shearX+=(o.data.shearX+h-o.shearX)*s,o.shearY+=(o.data.shearY+c-o.shearY)*s;break;case gd.add:o.shearX+=h*s,o.shearY+=c*s}}}class Od extends wd{boneIndex=0;constructor(t,e,i){super(t,e,yd.shearX+"|"+i),this.boneIndex=i}apply(t,e,i,r,s,a,n){let o=t.bones[this.boneIndex];o.active&&(o.shearX=this.getRelativeValue(i,s,a,o.shearX,o.data.shearX))}}class Id extends wd{boneIndex=0;constructor(t,e,i){super(t,e,yd.shearY+"|"+i),this.boneIndex=i}apply(t,e,i,r,s,a,n){let o=t.bones[this.boneIndex];o.active&&(o.shearY=this.getRelativeValue(i,s,a,o.shearY,o.data.shearY))}}class Ed extends vd{boneIndex=0;constructor(t,e){super(t,[yd.inherit+"|"+e]),this.boneIndex=e}getFrameEntries(){return 2}setFrame(t,e,i){t*=2,this.frames[t]=e,this.frames[t+1]=i}apply(t,e,i,r,s,a,n){let o=t.bones[this.boneIndex];if(!o.active)return;if(n==bd.mixOut)return void(a==gd.setup&&(o.inherit=o.data.inherit));let l=this.frames;i<l[0]?a!=gd.setup&&a!=gd.first||(o.inherit=o.data.inherit):o.inherit=this.frames[vd.search(l,i,2)+1]}}class $d extends xd{slotIndex=0;constructor(t,e,i){super(t,e,[yd.rgb+"|"+i,yd.alpha+"|"+i]),this.slotIndex=i}getFrameEntries(){return 5}setFrame(t,e,i,r,s,a){t*=5,this.frames[t]=e,this.frames[t+1]=i,this.frames[t+2]=r,this.frames[t+3]=s,this.frames[t+4]=a}apply(t,e,i,r,s,a,n){let o=t.slots[this.slotIndex];if(!o.bone.active)return;let l=this.frames,h=o.color;if(i<l[0]){let t=o.data.color;switch(a){case gd.setup:return void h.setFromColor(t);case gd.first:h.add((t.r-h.r)*s,(t.g-h.g)*s,(t.b-h.b)*s,(t.a-h.a)*s)}return}let c=0,d=0,u=0,p=0,m=vd.search(l,i,5),f=this.curves[m/5];switch(f){case 0:let t=l[m];c=l[m+1],d=l[m+2],u=l[m+3],p=l[m+4];let e=(i-t)/(l[m+5]-t);c+=(l[m+5+1]-c)*e,d+=(l[m+5+2]-d)*e,u+=(l[m+5+3]-u)*e,p+=(l[m+5+4]-p)*e;break;case 1:c=l[m+1],d=l[m+2],u=l[m+3],p=l[m+4];break;default:c=this.getBezierValue(i,m,1,f-2),d=this.getBezierValue(i,m,2,f+18-2),u=this.getBezierValue(i,m,3,f+36-2),p=this.getBezierValue(i,m,4,f+54-2)}1==s?h.set(c,d,u,p):(a==gd.setup&&h.setFromColor(o.data.color),h.add((c-h.r)*s,(d-h.g)*s,(u-h.b)*s,(p-h.a)*s))}}class Rd extends xd{slotIndex=0;constructor(t,e,i){super(t,e,[yd.rgb+"|"+i]),this.slotIndex=i}getFrameEntries(){return 4}setFrame(t,e,i,r,s){t<<=2,this.frames[t]=e,this.frames[t+1]=i,this.frames[t+2]=r,this.frames[t+3]=s}apply(t,e,i,r,s,a,n){let o=t.slots[this.slotIndex];if(!o.bone.active)return;let l=this.frames,h=o.color;if(i<l[0]){let t=o.data.color;switch(a){case gd.setup:return h.r=t.r,h.g=t.g,void(h.b=t.b);case gd.first:h.r+=(t.r-h.r)*s,h.g+=(t.g-h.g)*s,h.b+=(t.b-h.b)*s}return}let c=0,d=0,u=0,p=vd.search(l,i,4),m=this.curves[p>>2];switch(m){case 0:let t=l[p];c=l[p+1],d=l[p+2],u=l[p+3];let e=(i-t)/(l[p+4]-t);c+=(l[p+4+1]-c)*e,d+=(l[p+4+2]-d)*e,u+=(l[p+4+3]-u)*e;break;case 1:c=l[p+1],d=l[p+2],u=l[p+3];break;default:c=this.getBezierValue(i,p,1,m-2),d=this.getBezierValue(i,p,2,m+18-2),u=this.getBezierValue(i,p,3,m+36-2)}if(1==s)h.r=c,h.g=d,h.b=u;else{if(a==gd.setup){let t=o.data.color;h.r=t.r,h.g=t.g,h.b=t.b}h.r+=(c-h.r)*s,h.g+=(d-h.g)*s,h.b+=(u-h.b)*s}}}class zd extends wd{slotIndex=0;constructor(t,e,i){super(t,e,yd.alpha+"|"+i),this.slotIndex=i}apply(t,e,i,r,s,a,n){let o=t.slots[this.slotIndex];if(!o.bone.active)return;let l=o.color;if(i<this.frames[0]){let t=o.data.color;switch(a){case gd.setup:return void(l.a=t.a);case gd.first:l.a+=(t.a-l.a)*s}return}let h=this.getCurveValue(i);1==s?l.a=h:(a==gd.setup&&(l.a=o.data.color.a),l.a+=(h-l.a)*s)}}class Fd extends xd{slotIndex=0;constructor(t,e,i){super(t,e,[yd.rgb+"|"+i,yd.alpha+"|"+i,yd.rgb2+"|"+i]),this.slotIndex=i}getFrameEntries(){return 8}setFrame(t,e,i,r,s,a,n,o,l){t<<=3,this.frames[t]=e,this.frames[t+1]=i,this.frames[t+2]=r,this.frames[t+3]=s,this.frames[t+4]=a,this.frames[t+5]=n,this.frames[t+6]=o,this.frames[t+7]=l}apply(t,e,i,r,s,a,n){let o=t.slots[this.slotIndex];if(!o.bone.active)return;let l=this.frames,h=o.color,c=o.darkColor;if(i<l[0]){let t=o.data.color,e=o.data.darkColor;switch(a){case gd.setup:return h.setFromColor(t),c.r=e.r,c.g=e.g,void(c.b=e.b);case gd.first:h.add((t.r-h.r)*s,(t.g-h.g)*s,(t.b-h.b)*s,(t.a-h.a)*s),c.r+=(e.r-c.r)*s,c.g+=(e.g-c.g)*s,c.b+=(e.b-c.b)*s}return}let d=0,u=0,p=0,m=0,f=0,g=0,b=0,y=vd.search(l,i,8),v=this.curves[y>>3];switch(v){case 0:let t=l[y];d=l[y+1],u=l[y+2],p=l[y+3],m=l[y+4],f=l[y+5],g=l[y+6],b=l[y+7];let e=(i-t)/(l[y+8]-t);d+=(l[y+8+1]-d)*e,u+=(l[y+8+2]-u)*e,p+=(l[y+8+3]-p)*e,m+=(l[y+8+4]-m)*e,f+=(l[y+8+5]-f)*e,g+=(l[y+8+6]-g)*e,b+=(l[y+8+7]-b)*e;break;case 1:d=l[y+1],u=l[y+2],p=l[y+3],m=l[y+4],f=l[y+5],g=l[y+6],b=l[y+7];break;default:d=this.getBezierValue(i,y,1,v-2),u=this.getBezierValue(i,y,2,v+18-2),p=this.getBezierValue(i,y,3,v+36-2),m=this.getBezierValue(i,y,4,v+54-2),f=this.getBezierValue(i,y,5,v+72-2),g=this.getBezierValue(i,y,6,v+90-2),b=this.getBezierValue(i,y,7,v+108-2)}if(1==s)h.set(d,u,p,m),c.r=f,c.g=g,c.b=b;else{if(a==gd.setup){h.setFromColor(o.data.color);let t=o.data.darkColor;c.r=t.r,c.g=t.g,c.b=t.b}h.add((d-h.r)*s,(u-h.g)*s,(p-h.b)*s,(m-h.a)*s),c.r+=(f-c.r)*s,c.g+=(g-c.g)*s,c.b+=(b-c.b)*s}}}class Ld extends xd{slotIndex=0;constructor(t,e,i){super(t,e,[yd.rgb+"|"+i,yd.rgb2+"|"+i]),this.slotIndex=i}getFrameEntries(){return 7}setFrame(t,e,i,r,s,a,n,o){t*=7,this.frames[t]=e,this.frames[t+1]=i,this.frames[t+2]=r,this.frames[t+3]=s,this.frames[t+4]=a,this.frames[t+5]=n,this.frames[t+6]=o}apply(t,e,i,r,s,a,n){let o=t.slots[this.slotIndex];if(!o.bone.active)return;let l=this.frames,h=o.color,c=o.darkColor;if(i<l[0]){let t=o.data.color,e=o.data.darkColor;switch(a){case gd.setup:return h.r=t.r,h.g=t.g,h.b=t.b,c.r=e.r,c.g=e.g,void(c.b=e.b);case gd.first:h.r+=(t.r-h.r)*s,h.g+=(t.g-h.g)*s,h.b+=(t.b-h.b)*s,c.r+=(e.r-c.r)*s,c.g+=(e.g-c.g)*s,c.b+=(e.b-c.b)*s}return}let d=0,u=0,p=0,m=0,f=0,g=0,b=vd.search(l,i,7),y=this.curves[b/7];switch(y){case 0:let t=l[b];d=l[b+1],u=l[b+2],p=l[b+3],m=l[b+4],f=l[b+5],g=l[b+6];let e=(i-t)/(l[b+7]-t);d+=(l[b+7+1]-d)*e,u+=(l[b+7+2]-u)*e,p+=(l[b+7+3]-p)*e,m+=(l[b+7+4]-m)*e,f+=(l[b+7+5]-f)*e,g+=(l[b+7+6]-g)*e;break;case 1:d=l[b+1],u=l[b+2],p=l[b+3],m=l[b+4],f=l[b+5],g=l[b+6];break;default:d=this.getBezierValue(i,b,1,y-2),u=this.getBezierValue(i,b,2,y+18-2),p=this.getBezierValue(i,b,3,y+36-2),m=this.getBezierValue(i,b,4,y+54-2),f=this.getBezierValue(i,b,5,y+72-2),g=this.getBezierValue(i,b,6,y+90-2)}if(1==s)h.r=d,h.g=u,h.b=p,c.r=m,c.g=f,c.b=g;else{if(a==gd.setup){let t=o.data.color,e=o.data.darkColor;h.r=t.r,h.g=t.g,h.b=t.b,c.r=e.r,c.g=e.g,c.b=e.b}h.r+=(d-h.r)*s,h.g+=(u-h.g)*s,h.b+=(p-h.b)*s,c.r+=(m-c.r)*s,c.g+=(f-c.g)*s,c.b+=(g-c.b)*s}}}class Dd extends vd{slotIndex=0;attachmentNames;constructor(t,e){super(t,[yd.attachment+"|"+e]),this.slotIndex=e,this.attachmentNames=new Array(t)}getFrameCount(){return this.frames.length}setFrame(t,e,i){this.frames[t]=e,this.attachmentNames[t]=i}apply(t,e,i,r,s,a,n){let o=t.slots[this.slotIndex];o.bone.active&&(n!=bd.mixOut?i<this.frames[0]?a!=gd.setup&&a!=gd.first||this.setAttachment(t,o,o.data.attachmentName):this.setAttachment(t,o,this.attachmentNames[vd.search1(this.frames,i)]):a==gd.setup&&this.setAttachment(t,o,o.data.attachmentName))}setAttachment(t,e,i){e.setAttachment(i?t.getAttachment(this.slotIndex,i):null)}}class Wd extends xd{slotIndex=0;attachment;vertices;constructor(t,e,i,r){super(t,e,[yd.deform+"|"+i+"|"+r.id]),this.slotIndex=i,this.attachment=r,this.vertices=new Array(t)}getFrameCount(){return this.frames.length}setFrame(t,e,i){this.frames[t]=e,this.vertices[t]=i}setBezier(t,e,i,r,s,a,n,o,l,h,c){let d=this.curves,u=this.getFrameCount()+18*t;0==i&&(d[e]=2+u);let p=.03*(r-2*a+o),m=.03*l-.06*n,f=.006*(3*(a-o)-r+h),g=.018*(n-l+.33333333),b=2*p+f,y=2*m+g,v=.3*(a-r)+p+.16666667*f,x=.3*n+m+.16666667*g,w=r+v,_=x;for(let t=u+18;u<t;u+=2)d[u]=w,d[u+1]=_,v+=b,x+=y,b+=f,y+=g,w+=v,_+=x}getCurvePercent(t,e){let i=this.curves,r=i[e];switch(r){case 0:let i=this.frames[e];return(t-i)/(this.frames[e+this.getFrameEntries()]-i);case 1:return 0}if(r-=2,i[r]>t){let s=this.frames[e];return i[r+1]*(t-s)/(i[r]-s)}let s=r+18;for(r+=2;r<s;r+=2)if(i[r]>=t){let e=i[r-2],s=i[r-1];return s+(t-e)/(i[r]-e)*(i[r+1]-s)}let a=i[s-2],n=i[s-1];return n+(1-n)*(t-a)/(this.frames[e+this.getFrameEntries()]-a)}apply(t,e,i,r,s,a,n){let o=t.slots[this.slotIndex];if(!o.bone.active)return;let l=o.getAttachment();if(!l)return;if(!(l instanceof dd)||l.timelineAttachment!=this.attachment)return;let h=o.deform;0==h.length&&(a=gd.setup);let c=this.vertices,d=c[0].length,u=this.frames;if(i<u[0]){switch(a){case gd.setup:return void(h.length=0);case gd.first:if(1==s)return void(h.length=0);h.length=d;let t=l;if(t.bones)for(s=1-s,p=0;p<d;p++)h[p]*=s;else{let e=t.vertices;for(var p=0;p<d;p++)h[p]+=(e[p]-h[p])*s}}return}if(h.length=d,i>=u[u.length-1]){let t=c[u.length-1];if(1==s)if(a==gd.add){let e=l;if(e.bones)for(let e=0;e<d;e++)h[e]+=t[e];else{let i=e.vertices;for(let e=0;e<d;e++)h[e]+=t[e]-i[e]}}else od.arrayCopy(t,0,h,0,d);else switch(a){case gd.setup:{let e=l;if(e.bones)for(let e=0;e<d;e++)h[e]=t[e]*s;else{let i=e.vertices;for(let e=0;e<d;e++){let r=i[e];h[e]=r+(t[e]-r)*s}}break}case gd.first:case gd.replace:for(let e=0;e<d;e++)h[e]+=(t[e]-h[e])*s;break;case gd.add:let e=l;if(e.bones)for(let e=0;e<d;e++)h[e]+=t[e]*s;else{let i=e.vertices;for(let e=0;e<d;e++)h[e]+=(t[e]-i[e])*s}}return}let m=vd.search1(u,i),f=this.getCurvePercent(i,m),g=c[m],b=c[m+1];if(1==s)if(a==gd.add){let t=l;if(t.bones)for(let t=0;t<d;t++){let e=g[t];h[t]+=e+(b[t]-e)*f}else{let e=t.vertices;for(let t=0;t<d;t++){let i=g[t];h[t]+=i+(b[t]-i)*f-e[t]}}}else for(let t=0;t<d;t++){let e=g[t];h[t]=e+(b[t]-e)*f}else switch(a){case gd.setup:{let t=l;if(t.bones)for(let t=0;t<d;t++){let e=g[t];h[t]=(e+(b[t]-e)*f)*s}else{let e=t.vertices;for(let t=0;t<d;t++){let i=g[t],r=e[t];h[t]=r+(i+(b[t]-i)*f-r)*s}}break}case gd.first:case gd.replace:for(let t=0;t<d;t++){let e=g[t];h[t]+=(e+(b[t]-e)*f-h[t])*s}break;case gd.add:let t=l;if(t.bones)for(let t=0;t<d;t++){let e=g[t];h[t]+=(e+(b[t]-e)*f)*s}else{let e=t.vertices;for(let t=0;t<d;t++){let i=g[t];h[t]+=(i+(b[t]-i)*f-e[t])*s}}}}}class Vd extends vd{static propertyIds=[""+yd.event];events;constructor(t){super(t,Vd.propertyIds),this.events=new Array(t)}getFrameCount(){return this.frames.length}setFrame(t,e){this.frames[t]=e.time,this.events[t]=e}apply(t,e,i,r,s,a,n){if(!r)return;let o=this.frames,l=this.frames.length;if(e>i)this.apply(t,e,Number.MAX_VALUE,r,s,a,n),e=-1;else if(e>=o[l-1])return;if(i<o[0])return;let h=0;if(e<o[0])h=0;else{h=vd.search1(o,e)+1;let t=o[h];for(;h>0&&o[h-1]==t;)h--}for(;h<l&&i>=o[h];h++)r.push(this.events[h])}}class Hd extends vd{static propertyIds=[""+yd.drawOrder];drawOrders;constructor(t){super(t,Hd.propertyIds),this.drawOrders=new Array(t)}getFrameCount(){return this.frames.length}setFrame(t,e,i){this.frames[t]=e,this.drawOrders[t]=i}apply(t,e,i,r,s,a,n){if(n==bd.mixOut)return void(a==gd.setup&&od.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length));if(i<this.frames[0])return void(a!=gd.setup&&a!=gd.first||od.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length));let o=vd.search1(this.frames,i),l=this.drawOrders[o];if(l){let e=t.drawOrder,i=t.slots;for(let t=0,r=l.length;t<r;t++)e[t]=i[l[t]]}else od.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length)}}class Nd extends xd{constraintIndex=0;constructor(t,e,i){super(t,e,[yd.ikConstraint+"|"+i]),this.constraintIndex=i}getFrameEntries(){return 6}setFrame(t,e,i,r,s,a,n){t*=6,this.frames[t]=e,this.frames[t+1]=i,this.frames[t+2]=r,this.frames[t+3]=s,this.frames[t+4]=a?1:0,this.frames[t+5]=n?1:0}apply(t,e,i,r,s,a,n){let o=t.ikConstraints[this.constraintIndex];if(!o.active)return;let l=this.frames;if(i<l[0]){switch(a){case gd.setup:return o.mix=o.data.mix,o.softness=o.data.softness,o.bendDirection=o.data.bendDirection,o.compress=o.data.compress,void(o.stretch=o.data.stretch);case gd.first:o.mix+=(o.data.mix-o.mix)*s,o.softness+=(o.data.softness-o.softness)*s,o.bendDirection=o.data.bendDirection,o.compress=o.data.compress,o.stretch=o.data.stretch}return}let h=0,c=0,d=vd.search(l,i,6),u=this.curves[d/6];switch(u){case 0:let t=l[d];h=l[d+1],c=l[d+2];let e=(i-t)/(l[d+6]-t);h+=(l[d+6+1]-h)*e,c+=(l[d+6+2]-c)*e;break;case 1:h=l[d+1],c=l[d+2];break;default:h=this.getBezierValue(i,d,1,u-2),c=this.getBezierValue(i,d,2,u+18-2)}a==gd.setup?(o.mix=o.data.mix+(h-o.data.mix)*s,o.softness=o.data.softness+(c-o.data.softness)*s,n==bd.mixOut?(o.bendDirection=o.data.bendDirection,o.compress=o.data.compress,o.stretch=o.data.stretch):(o.bendDirection=l[d+3],o.compress=0!=l[d+4],o.stretch=0!=l[d+5])):(o.mix+=(h-o.mix)*s,o.softness+=(c-o.softness)*s,n==bd.mixIn&&(o.bendDirection=l[d+3],o.compress=0!=l[d+4],o.stretch=0!=l[d+5]))}}class Yd extends xd{constraintIndex=0;constructor(t,e,i){super(t,e,[yd.transformConstraint+"|"+i]),this.constraintIndex=i}getFrameEntries(){return 7}setFrame(t,e,i,r,s,a,n,o){let l=this.frames;l[t*=7]=e,l[t+1]=i,l[t+2]=r,l[t+3]=s,l[t+4]=a,l[t+5]=n,l[t+6]=o}apply(t,e,i,r,s,a,n){let o=t.transformConstraints[this.constraintIndex];if(!o.active)return;let l,h,c,d,u,p,m=this.frames;if(i<m[0]){let t=o.data;switch(a){case gd.setup:return o.mixRotate=t.mixRotate,o.mixX=t.mixX,o.mixY=t.mixY,o.mixScaleX=t.mixScaleX,o.mixScaleY=t.mixScaleY,void(o.mixShearY=t.mixShearY);case gd.first:o.mixRotate+=(t.mixRotate-o.mixRotate)*s,o.mixX+=(t.mixX-o.mixX)*s,o.mixY+=(t.mixY-o.mixY)*s,o.mixScaleX+=(t.mixScaleX-o.mixScaleX)*s,o.mixScaleY+=(t.mixScaleY-o.mixScaleY)*s,o.mixShearY+=(t.mixShearY-o.mixShearY)*s}return}let f=vd.search(m,i,7),g=this.curves[f/7];switch(g){case 0:let t=m[f];l=m[f+1],h=m[f+2],c=m[f+3],d=m[f+4],u=m[f+5],p=m[f+6];let e=(i-t)/(m[f+7]-t);l+=(m[f+7+1]-l)*e,h+=(m[f+7+2]-h)*e,c+=(m[f+7+3]-c)*e,d+=(m[f+7+4]-d)*e,u+=(m[f+7+5]-u)*e,p+=(m[f+7+6]-p)*e;break;case 1:l=m[f+1],h=m[f+2],c=m[f+3],d=m[f+4],u=m[f+5],p=m[f+6];break;default:l=this.getBezierValue(i,f,1,g-2),h=this.getBezierValue(i,f,2,g+18-2),c=this.getBezierValue(i,f,3,g+36-2),d=this.getBezierValue(i,f,4,g+54-2),u=this.getBezierValue(i,f,5,g+72-2),p=this.getBezierValue(i,f,6,g+90-2)}if(a==gd.setup){let t=o.data;o.mixRotate=t.mixRotate+(l-t.mixRotate)*s,o.mixX=t.mixX+(h-t.mixX)*s,o.mixY=t.mixY+(c-t.mixY)*s,o.mixScaleX=t.mixScaleX+(d-t.mixScaleX)*s,o.mixScaleY=t.mixScaleY+(u-t.mixScaleY)*s,o.mixShearY=t.mixShearY+(p-t.mixShearY)*s}else o.mixRotate+=(l-o.mixRotate)*s,o.mixX+=(h-o.mixX)*s,o.mixY+=(c-o.mixY)*s,o.mixScaleX+=(d-o.mixScaleX)*s,o.mixScaleY+=(u-o.mixScaleY)*s,o.mixShearY+=(p-o.mixShearY)*s}}class Xd extends wd{constraintIndex=0;constructor(t,e,i){super(t,e,yd.pathConstraintPosition+"|"+i),this.constraintIndex=i}apply(t,e,i,r,s,a,n){let o=t.pathConstraints[this.constraintIndex];o.active&&(o.position=this.getAbsoluteValue(i,s,a,o.position,o.data.position))}}class Ud extends wd{constraintIndex=0;constructor(t,e,i){super(t,e,yd.pathConstraintSpacing+"|"+i),this.constraintIndex=i}apply(t,e,i,r,s,a,n){let o=t.pathConstraints[this.constraintIndex];o.active&&(o.spacing=this.getAbsoluteValue(i,s,a,o.spacing,o.data.spacing))}}class Gd extends xd{constraintIndex=0;constructor(t,e,i){super(t,e,[yd.pathConstraintMix+"|"+i]),this.constraintIndex=i}getFrameEntries(){return 4}setFrame(t,e,i,r,s){let a=this.frames;a[t<<=2]=e,a[t+1]=i,a[t+2]=r,a[t+3]=s}apply(t,e,i,r,s,a,n){let o=t.pathConstraints[this.constraintIndex];if(!o.active)return;let l,h,c,d=this.frames;if(i<d[0]){switch(a){case gd.setup:return o.mixRotate=o.data.mixRotate,o.mixX=o.data.mixX,void(o.mixY=o.data.mixY);case gd.first:o.mixRotate+=(o.data.mixRotate-o.mixRotate)*s,o.mixX+=(o.data.mixX-o.mixX)*s,o.mixY+=(o.data.mixY-o.mixY)*s}return}let u=vd.search(d,i,4),p=this.curves[u>>2];switch(p){case 0:let t=d[u];l=d[u+1],h=d[u+2],c=d[u+3];let e=(i-t)/(d[u+4]-t);l+=(d[u+4+1]-l)*e,h+=(d[u+4+2]-h)*e,c+=(d[u+4+3]-c)*e;break;case 1:l=d[u+1],h=d[u+2],c=d[u+3];break;default:l=this.getBezierValue(i,u,1,p-2),h=this.getBezierValue(i,u,2,p+18-2),c=this.getBezierValue(i,u,3,p+36-2)}if(a==gd.setup){let t=o.data;o.mixRotate=t.mixRotate+(l-t.mixRotate)*s,o.mixX=t.mixX+(h-t.mixX)*s,o.mixY=t.mixY+(c-t.mixY)*s}else o.mixRotate+=(l-o.mixRotate)*s,o.mixX+=(h-o.mixX)*s,o.mixY+=(c-o.mixY)*s}}class jd extends wd{constraintIndex=0;constructor(t,e,i,r){super(t,e,r+"|"+i),this.constraintIndex=i}apply(t,e,i,r,s,a,n){let o;if(-1==this.constraintIndex){const e=i>=this.frames[0]?this.getCurveValue(i):0;for(const r of t.physicsConstraints)r.active&&this.global(r.data)&&this.set(r,this.getAbsoluteValue2(i,s,a,this.get(r),this.setup(r),e))}else o=t.physicsConstraints[this.constraintIndex],o.active&&this.set(o,this.getAbsoluteValue(i,s,a,this.get(o),this.setup(o)))}}class qd extends jd{constructor(t,e,i){super(t,e,i,yd.physicsConstraintInertia)}setup(t){return t.data.inertia}get(t){return t.inertia}set(t,e){t.inertia=e}global(t){return t.inertiaGlobal}}class Kd extends jd{constructor(t,e,i){super(t,e,i,yd.physicsConstraintStrength)}setup(t){return t.data.strength}get(t){return t.strength}set(t,e){t.strength=e}global(t){return t.strengthGlobal}}class Zd extends jd{constructor(t,e,i){super(t,e,i,yd.physicsConstraintDamping)}setup(t){return t.data.damping}get(t){return t.damping}set(t,e){t.damping=e}global(t){return t.dampingGlobal}}class Qd extends jd{constructor(t,e,i){super(t,e,i,yd.physicsConstraintMass)}setup(t){return 1/t.data.massInverse}get(t){return 1/t.massInverse}set(t,e){t.massInverse=1/e}global(t){return t.massGlobal}}class Jd extends jd{constructor(t,e,i){super(t,e,i,yd.physicsConstraintWind)}setup(t){return t.data.wind}get(t){return t.wind}set(t,e){t.wind=e}global(t){return t.windGlobal}}class tu extends jd{constructor(t,e,i){super(t,e,i,yd.physicsConstraintGravity)}setup(t){return t.data.gravity}get(t){return t.gravity}set(t,e){t.gravity=e}global(t){return t.gravityGlobal}}class eu extends jd{constructor(t,e,i){super(t,e,i,yd.physicsConstraintMix)}setup(t){return t.data.mix}get(t){return t.mix}set(t,e){t.mix=e}global(t){return t.mixGlobal}}class iu extends vd{static propertyIds=[yd.physicsConstraintReset.toString()];constraintIndex;constructor(t,e){super(t,iu.propertyIds),this.constraintIndex=e}getFrameCount(){return this.frames.length}setFrame(t,e){this.frames[t]=e}apply(t,e,i,r,s,a,n){let o;if(-1!=this.constraintIndex&&(o=t.physicsConstraints[this.constraintIndex],!o.active))return;const l=this.frames;if(e>i)this.apply(t,e,Number.MAX_VALUE,[],s,a,n),e=-1;else if(e>=l[l.length-1])return;if(!(i<l[0])&&(e<l[0]||i>=l[vd.search1(l,e)+1]))if(null!=o)o.reset();else for(const e of t.physicsConstraints)e.active&&e.reset()}}class ru extends vd{static ENTRIES=3;static MODE=1;static DELAY=2;slotIndex;attachment;constructor(t,e,i){super(t,[yd.sequence+"|"+e+"|"+i.sequence.id]),this.slotIndex=e,this.attachment=i}getFrameEntries(){return ru.ENTRIES}getSlotIndex(){return this.slotIndex}getAttachment(){return this.attachment}setFrame(t,e,i,r,s){let a=this.frames;a[t*=ru.ENTRIES]=e,a[t+ru.MODE]=i|r<<4,a[t+ru.DELAY]=s}apply(t,e,i,r,s,a,n){let o=t.slots[this.slotIndex];if(!o.bone.active)return;let l=o.attachment,h=this.attachment;if(!(l==h||l instanceof dd&&l.timelineAttachment==h))return;if(n==bd.mixOut)return void(a==gd.setup&&(o.sequenceIndex=-1));let c=this.frames;if(i<c[0])return void(a!=gd.setup&&a!=gd.first||(o.sequenceIndex=-1));let d=vd.search(c,i,ru.ENTRIES),u=c[d],p=c[d+ru.MODE],m=c[d+ru.DELAY];if(!this.attachment.sequence)return;let f=p>>4,g=this.attachment.sequence.regions.length,b=md[15&p];if(b!=pd.hold)switch(f+=(i-u)/m+1e-5|0,b){case pd.once:f=Math.min(g-1,f);break;case pd.loop:f%=g;break;case pd.pingpong:{let t=(g<<1)-2;f=0==t?0:f%t,f>=g&&(f=t-f);break}case pd.onceReverse:f=Math.max(g-1-f,0);break;case pd.loopReverse:f=g-1-f%g;break;case pd.pingpongReverse:{let t=(g<<1)-2;f=0==t?0:(f+g-1)%t,f>=g&&(f=t-f)}}o.sequenceIndex=f}}class su{static _emptyAnimation=new fd("<empty>",[],0);static emptyAnimation(){return su._emptyAnimation}data;tracks=new Array;timeScale=1;unkeyedState=0;events=new Array;listeners=new Array;queue=new nu(this);propertyIDs=new sd;animationsChanged=!1;trackEntryPool=new ld(()=>new au);constructor(t){this.data=t}update(t){t*=this.timeScale;let e=this.tracks;for(let i=0,r=e.length;i<r;i++){let r=e[i];if(!r)continue;r.animationLast=r.nextAnimationLast,r.trackLast=r.nextTrackLast;let s=t*r.timeScale;if(r.delay>0){if(r.delay-=s,r.delay>0)continue;s=-r.delay,r.delay=0}let a=r.next;if(a){let e=r.trackLast-a.delay;if(e>=0){for(a.delay=0,a.trackTime+=0==r.timeScale?0:(e/r.timeScale+t)*a.timeScale,r.trackTime+=s,this.setCurrent(i,a,!0);a.mixingFrom;)a.mixTime+=t,a=a.mixingFrom;continue}}else if(r.trackLast>=r.trackEnd&&!r.mixingFrom){e[i]=null,this.queue.end(r),this.clearNext(r);continue}if(r.mixingFrom&&this.updateMixingFrom(r,t)){let t=r.mixingFrom;for(r.mixingFrom=null,t&&(t.mixingTo=null);t;)this.queue.end(t),t=t.mixingFrom}r.trackTime+=s}this.queue.drain()}updateMixingFrom(t,e){let i=t.mixingFrom;if(!i)return!0;let r=this.updateMixingFrom(i,e);return i.animationLast=i.nextAnimationLast,i.trackLast=i.nextTrackLast,-1!=t.nextTrackLast&&t.mixTime>=t.mixDuration?(0!=i.totalAlpha&&0!=t.mixDuration||(t.mixingFrom=i.mixingFrom,null!=i.mixingFrom&&(i.mixingFrom.mixingTo=t),t.interruptAlpha=i.interruptAlpha,this.queue.end(i)),r):(i.trackTime+=e*i.timeScale,t.mixTime+=e,!1)}apply(t){if(!t)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();let e=this.events,i=this.tracks,r=!1;for(let a=0,n=i.length;a<n;a++){let n=i[a];if(!n||n.delay>0)continue;r=!0;let o=0==a?gd.first:n.mixBlend,l=n.alpha;n.mixingFrom?l*=this.applyMixingFrom(n,t,o):n.trackTime>=n.trackEnd&&!n.next&&(l=0);let h=l>=n.alphaAttachmentThreshold,c=n.animationLast,d=n.getAnimationTime(),u=d,p=e;n.reverse&&(u=n.animation.duration-u,p=null);let m=n.animation.timelines,f=m.length;if(0==a&&1==l||o==gd.add){0==a&&(h=!0);for(let e=0;e<f;e++){od.webkit602BugfixHelper(l,o);var s=m[e];s instanceof Dd?this.applyAttachmentTimeline(s,t,u,o,h):s.apply(t,c,u,p,l,o,bd.mixIn)}}else{let e=n.timelineMode,i=n.shortestRotation,r=!i&&n.timelinesRotation.length!=f<<1;r&&(n.timelinesRotation.length=f<<1);for(let s=0;s<f;s++){let a=m[s],d=e[s]==lu?o:gd.setup;!i&&a instanceof kd?this.applyRotateTimeline(a,t,u,l,d,n.timelinesRotation,s<<1,r):a instanceof Dd?this.applyAttachmentTimeline(a,t,u,o,h):(od.webkit602BugfixHelper(l,o),a.apply(t,c,u,p,l,d,bd.mixIn))}}this.queueEvents(n,d),e.length=0,n.nextAnimationLast=d,n.nextTrackLast=n.trackTime}for(var a=this.unkeyedState+pu,n=t.slots,o=0,l=t.slots.length;o<l;o++){var h=n[o];if(h.attachmentState==a){var c=h.data.attachmentName;h.setAttachment(c?t.getAttachment(h.data.index,c):null)}}return this.unkeyedState+=2,this.queue.drain(),r}applyMixingFrom(t,e,i){let r=t.mixingFrom;r.mixingFrom&&this.applyMixingFrom(r,e,i);let s=0;0==t.mixDuration?(s=1,i==gd.first&&(i=gd.setup)):(s=t.mixTime/t.mixDuration,s>1&&(s=1),i!=gd.first&&(i=r.mixBlend));let a=s<r.mixAttachmentThreshold,n=s<r.mixDrawOrderThreshold,o=r.animation.timelines,l=o.length,h=r.alpha*t.interruptAlpha,c=h*(1-s),d=r.animationLast,u=r.getAnimationTime(),p=u,m=null;if(r.reverse?p=r.animation.duration-p:s<r.eventThreshold&&(m=this.events),i==gd.add)for(let t=0;t<l;t++)o[t].apply(e,d,p,m,c,i,bd.mixOut);else{let t=r.timelineMode,s=r.timelineHoldMix,u=r.shortestRotation,f=!u&&r.timelinesRotation.length!=l<<1;f&&(r.timelinesRotation.length=l<<1),r.totalAlpha=0;for(let g=0;g<l;g++){let l,b=o[g],y=bd.mixOut,v=0;switch(t[g]){case lu:if(!n&&b instanceof Hd)continue;l=i,v=c;break;case hu:l=gd.setup,v=c;break;case cu:l=i,v=h;break;case du:l=gd.setup,v=h;break;default:l=gd.setup;let t=s[g];v=h*Math.max(0,1-t.mixTime/t.mixDuration)}r.totalAlpha+=v,!u&&b instanceof kd?this.applyRotateTimeline(b,e,p,v,l,r.timelinesRotation,g<<1,f):b instanceof Dd?this.applyAttachmentTimeline(b,e,p,l,a&&v>=r.alphaAttachmentThreshold):(od.webkit602BugfixHelper(v,i),n&&b instanceof Hd&&l==gd.setup&&(y=bd.mixIn),b.apply(e,d,p,m,v,l,y))}}return t.mixDuration>0&&this.queueEvents(r,u),this.events.length=0,r.nextAnimationLast=u,r.nextTrackLast=r.trackTime,s}applyAttachmentTimeline(t,e,i,r,s){var a=e.slots[t.slotIndex];a.bone.active&&(i<t.frames[0]?r!=gd.setup&&r!=gd.first||this.setAttachment(e,a,a.data.attachmentName,s):this.setAttachment(e,a,t.attachmentNames[vd.search1(t.frames,i)],s),a.attachmentState<=this.unkeyedState&&(a.attachmentState=this.unkeyedState+pu))}setAttachment(t,e,i,r){e.setAttachment(i?t.getAttachment(e.data.index,i):null),r&&(e.attachmentState=this.unkeyedState+mu)}applyRotateTimeline(t,e,i,r,s,a,n,o){if(o&&(a[n]=0),1==r)return void t.apply(e,0,i,null,1,s,bd.mixIn);let l=e.bones[t.boneIndex];if(!l.active)return;let h=0,c=0;if(i<t.frames[0])switch(s){case gd.setup:l.rotation=l.data.rotation;default:return;case gd.first:h=l.rotation,c=l.data.rotation}else h=s==gd.setup?l.data.rotation:l.rotation,c=l.data.rotation+t.getCurveValue(i);let d=0,u=c-h;if(u-=360*Math.ceil(u/360-.5),0==u)d=a[n];else{let t=0,e=0;o?(t=0,e=u):(t=a[n],e=a[n+1]);let i=t-t%360;d=u+i;let r=u>=0,s=t>=0;Math.abs(e)<=90&&nd.signum(e)!=nd.signum(u)&&(Math.abs(t-i)>180?(d+=360*nd.signum(t),s=r):0!=i?d-=360*nd.signum(t):s=r),s!=r&&(d+=360*nd.signum(t)),a[n]=d}a[n+1]=u,l.rotation=h+d*r}queueEvents(t,e){let i=t.animationStart,r=t.animationEnd,s=r-i,a=t.trackLast%s,n=this.events,o=0,l=n.length;for(;o<l;o++){let e=n[o];if(e.time<a)break;e.time>r||this.queue.event(t,e)}let h=!1;if(t.loop)if(0==s)h=!0;else{const e=Math.floor(t.trackTime/s);h=e>0&&e>Math.floor(t.trackLast/s)}else h=e>=r&&t.animationLast<r;for(h&&this.queue.complete(t);o<l;o++){let e=n[o];e.time<i||this.queue.event(t,e)}}clearTracks(){let t=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(let t=0,e=this.tracks.length;t<e;t++)this.clearTrack(t);this.tracks.length=0,this.queue.drainDisabled=t,this.queue.drain()}clearTrack(t){if(t>=this.tracks.length)return;let e=this.tracks[t];if(!e)return;this.queue.end(e),this.clearNext(e);let i=e;for(;;){let t=i.mixingFrom;if(!t)break;this.queue.end(t),i.mixingFrom=null,i.mixingTo=null,i=t}this.tracks[e.trackIndex]=null,this.queue.drain()}setCurrent(t,e,i){let r=this.expandToIndex(t);this.tracks[t]=e,e.previous=null,r&&(i&&this.queue.interrupt(r),e.mixingFrom=r,r.mixingTo=e,e.mixTime=0,r.mixingFrom&&r.mixDuration>0&&(e.interruptAlpha*=Math.min(1,r.mixTime/r.mixDuration)),r.timelinesRotation.length=0),this.queue.start(e)}setAnimation(t,e,i=!1){let r=this.data.skeletonData.findAnimation(e);if(!r)throw new Error("Animation not found: "+e);return this.setAnimationWith(t,r,i)}setAnimationWith(t,e,i=!1){if(!e)throw new Error("animation cannot be null.");let r=!0,s=this.expandToIndex(t);s&&(-1==s.nextTrackLast?(this.tracks[t]=s.mixingFrom,this.queue.interrupt(s),this.queue.end(s),this.clearNext(s),s=s.mixingFrom,r=!1):this.clearNext(s));let a=this.trackEntry(t,e,i,s);return this.setCurrent(t,a,r),this.queue.drain(),a}addAnimation(t,e,i=!1,r=0){let s=this.data.skeletonData.findAnimation(e);if(!s)throw new Error("Animation not found: "+e);return this.addAnimationWith(t,s,i,r)}addAnimationWith(t,e,i=!1,r=0){if(!e)throw new Error("animation cannot be null.");let s=this.expandToIndex(t);if(s)for(;s.next;)s=s.next;let a=this.trackEntry(t,e,i,s);return s?(s.next=a,a.previous=s,r<=0&&(r=Math.max(r+s.getTrackComplete()-a.mixDuration,0))):(this.setCurrent(t,a,!0),this.queue.drain(),r<0&&(r=0)),a.delay=r,a}setEmptyAnimation(t,e=0){let i=this.setAnimationWith(t,su.emptyAnimation(),!1);return i.mixDuration=e,i.trackEnd=e,i}addEmptyAnimation(t,e=0,i=0){let r=this.addAnimationWith(t,su.emptyAnimation(),!1,i);return i<=0&&(r.delay=Math.max(r.delay+r.mixDuration-e,0)),r.mixDuration=e,r.trackEnd=e,r}setEmptyAnimations(t=0){let e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(let e=0,i=this.tracks.length;e<i;e++){let i=this.tracks[e];i&&this.setEmptyAnimation(i.trackIndex,t)}this.queue.drainDisabled=e,this.queue.drain()}expandToIndex(t){return t<this.tracks.length?this.tracks[t]:(od.ensureArrayCapacity(this.tracks,t+1,null),this.tracks.length=t+1,null)}trackEntry(t,e,i,r){let s=this.trackEntryPool.obtain();return s.reset(),s.trackIndex=t,s.animation=e,s.loop=i,s.holdPrevious=!1,s.reverse=!1,s.shortestRotation=!1,s.eventThreshold=0,s.alphaAttachmentThreshold=0,s.mixAttachmentThreshold=0,s.mixDrawOrderThreshold=0,s.animationStart=0,s.animationEnd=e.duration,s.animationLast=-1,s.nextAnimationLast=-1,s.delay=0,s.trackTime=0,s.trackLast=-1,s.nextTrackLast=-1,s.trackEnd=Number.MAX_VALUE,s.timeScale=1,s.alpha=1,s.mixTime=0,s.mixDuration=r?this.data.getMix(r.animation,e):0,s.interruptAlpha=1,s.totalAlpha=0,s.mixBlend=gd.replace,s}clearNext(t){let e=t.next;for(;e;)this.queue.dispose(e),e=e.next;t.next=null}_animationsChanged(){this.animationsChanged=!1,this.propertyIDs.clear();let t=this.tracks;for(let e=0,i=t.length;e<i;e++){let i=t[e];if(i){for(;i.mixingFrom;)i=i.mixingFrom;do{i.mixingTo&&i.mixBlend==gd.add||this.computeHold(i),i=i.mixingTo}while(i)}}}computeHold(t){let e=t.mixingTo,i=t.animation.timelines,r=t.animation.timelines.length,s=t.timelineMode;s.length=r;let a=t.timelineHoldMix;a.length=0;let n=this.propertyIDs;if(e&&e.holdPrevious)for(let t=0;t<r;t++)s[t]=n.addAll(i[t].getPropertyIds())?du:cu;else t:for(let o=0;o<r;o++){let r=i[o],l=r.getPropertyIds();if(n.addAll(l))if(!e||r instanceof Dd||r instanceof Hd||r instanceof Vd||!e.animation.hasTimeline(l))s[o]=hu;else{for(let i=e.mixingTo;i;i=i.mixingTo)if(!i.animation.hasTimeline(l)){if(t.mixDuration>0){s[o]=uu,a[o]=i;continue t}break}s[o]=du}else s[o]=lu}}getCurrent(t){return t>=this.tracks.length?null:this.tracks[t]}addListener(t){if(!t)throw new Error("listener cannot be null.");this.listeners.push(t)}removeListener(t){let e=this.listeners.indexOf(t);e>=0&&this.listeners.splice(e,1)}clearListeners(){this.listeners.length=0}clearListenerNotifications(){this.queue.clear()}}class au{animation=null;previous=null;next=null;mixingFrom=null;mixingTo=null;listener=null;trackIndex=0;loop=!1;holdPrevious=!1;reverse=!1;shortestRotation=!1;eventThreshold=0;mixAttachmentThreshold=0;alphaAttachmentThreshold=0;mixDrawOrderThreshold=0;animationStart=0;animationEnd=0;animationLast=0;nextAnimationLast=0;delay=0;trackTime=0;trackLast=0;nextTrackLast=0;trackEnd=0;timeScale=0;alpha=0;mixTime=0;_mixDuration=0;interruptAlpha=0;totalAlpha=0;get mixDuration(){return this._mixDuration}set mixDuration(t){this._mixDuration=t}setMixDurationWithDelay(t,e){this._mixDuration=t,e<=0&&(e=null!=this.previous?Math.max(e+this.previous.getTrackComplete()-t,0):0),this.delay=e}mixBlend=gd.replace;timelineMode=new Array;timelineHoldMix=new Array;timelinesRotation=new Array;reset(){this.next=null,this.previous=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0}getAnimationTime(){if(this.loop){let t=this.animationEnd-this.animationStart;return 0==t?this.animationStart:this.trackTime%t+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)}setAnimationLast(t){this.animationLast=t,this.nextAnimationLast=t}isComplete(){return this.trackTime>=this.animationEnd-this.animationStart}resetRotationDirections(){this.timelinesRotation.length=0}getTrackComplete(){let t=this.animationEnd-this.animationStart;if(0!=t){if(this.loop)return t*(1+(this.trackTime/t|0));if(this.trackTime<t)return t}return this.trackTime}wasApplied(){return-1!=this.nextTrackLast}isNextReady(){return null!=this.next&&this.nextTrackLast-this.next.delay>=0}}class nu{objects=[];drainDisabled=!1;animState;constructor(t){this.animState=t}start(t){this.objects.push(ou.start),this.objects.push(t),this.animState.animationsChanged=!0}interrupt(t){this.objects.push(ou.interrupt),this.objects.push(t)}end(t){this.objects.push(ou.end),this.objects.push(t),this.animState.animationsChanged=!0}dispose(t){this.objects.push(ou.dispose),this.objects.push(t)}complete(t){this.objects.push(ou.complete),this.objects.push(t)}event(t,e){this.objects.push(ou.event),this.objects.push(t),this.objects.push(e)}drain(){if(this.drainDisabled)return;this.drainDisabled=!0;let t=this.objects,e=this.animState.listeners;for(let i=0;i<t.length;i+=2){let r=t[i],s=t[i+1];switch(r){case ou.start:s.listener&&s.listener.start&&s.listener.start(s);for(let t=0;t<e.length;t++){let i=e[t];i.start&&i.start(s)}break;case ou.interrupt:s.listener&&s.listener.interrupt&&s.listener.interrupt(s);for(let t=0;t<e.length;t++){let i=e[t];i.interrupt&&i.interrupt(s)}break;case ou.end:s.listener&&s.listener.end&&s.listener.end(s);for(let t=0;t<e.length;t++){let i=e[t];i.end&&i.end(s)}case ou.dispose:s.listener&&s.listener.dispose&&s.listener.dispose(s);for(let t=0;t<e.length;t++){let i=e[t];i.dispose&&i.dispose(s)}this.animState.trackEntryPool.free(s);break;case ou.complete:s.listener&&s.listener.complete&&s.listener.complete(s);for(let t=0;t<e.length;t++){let i=e[t];i.complete&&i.complete(s)}break;case ou.event:let r=t[2+i++];s.listener&&s.listener.event&&s.listener.event(s,r);for(let t=0;t<e.length;t++){let i=e[t];i.event&&i.event(s,r)}}}this.clear(),this.drainDisabled=!1}clear(){this.objects.length=0}}var ou;!function(t){t[t.start=0]="start",t[t.interrupt=1]="interrupt",t[t.end=2]="end",t[t.dispose=3]="dispose",t[t.complete=4]="complete",t[t.event=5]="event"}(ou||(ou={}));const lu=0,hu=1,cu=2,du=3,uu=4,pu=1,mu=2;class fu{skeletonData;animationToMixTime={};defaultMix=0;constructor(t){if(!t)throw new Error("skeletonData cannot be null.");this.skeletonData=t}setMix(t,e,i){let r=this.skeletonData.findAnimation(t);if(!r)throw new Error("Animation not found: "+t);let s=this.skeletonData.findAnimation(e);if(!s)throw new Error("Animation not found: "+e);this.setMixWith(r,s,i)}setMixWith(t,e,i){if(!t)throw new Error("from cannot be null.");if(!e)throw new Error("to cannot be null.");let r=t.name+"."+e.name;this.animationToMixTime[r]=i}getMix(t,e){let i=t.name+"."+e.name,r=this.animationToMixTime[i];return void 0===r?this.defaultMix:r}}class gu extends dd{color=new ad(1,1,1,1);constructor(t){super(t)}copy(){let t=new gu(this.name);return this.copyTo(t),t.color.setFromColor(this.color),t}}class bu extends dd{endSlot=null;color=new ad(.2275,.2275,.8078,1);constructor(t){super(t)}copy(){let t=new bu(this.name);return this.copyTo(t),t.endSlot=this.endSlot,t.color.setFromColor(this.color),t}}class yu{_image;constructor(t){this._image=t}getImage(){return this._image}}var vu,xu,wu,_u,ku,Su,Cu,Au,Tu,Mu;!function(t){t[t.Nearest=9728]="Nearest",t[t.Linear=9729]="Linear",t[t.MipMap=9987]="MipMap",t[t.MipMapNearestNearest=9984]="MipMapNearestNearest",t[t.MipMapLinearNearest=9985]="MipMapLinearNearest",t[t.MipMapNearestLinear=9986]="MipMapNearestLinear",t[t.MipMapLinearLinear=9987]="MipMapLinearLinear"}(vu||(vu={})),function(t){t[t.MirroredRepeat=33648]="MirroredRepeat",t[t.ClampToEdge=33071]="ClampToEdge",t[t.Repeat=10497]="Repeat"}(xu||(xu={}));class Bu{texture;u=0;v=0;u2=0;v2=0;width=0;height=0;degrees=0;offsetX=0;offsetY=0;originalWidth=0;originalHeight=0}class Pu{pages=new Array;regions=new Array;constructor(t){let e=new Ou(t),i=new Array(4),r={size:t=>{t.width=parseInt(i[1]),t.height=parseInt(i[2])},format:()=>{},filter:t=>{t.minFilter=od.enumValue(vu,i[1]),t.magFilter=od.enumValue(vu,i[2])},repeat:t=>{-1!=i[1].indexOf("x")&&(t.uWrap=xu.Repeat),-1!=i[1].indexOf("y")&&(t.vWrap=xu.Repeat)},pma:t=>{t.pma="true"==i[1]}};var s={xy:t=>{t.x=parseInt(i[1]),t.y=parseInt(i[2])},size:t=>{t.width=parseInt(i[1]),t.height=parseInt(i[2])},bounds:t=>{t.x=parseInt(i[1]),t.y=parseInt(i[2]),t.width=parseInt(i[3]),t.height=parseInt(i[4])},offset:t=>{t.offsetX=parseInt(i[1]),t.offsetY=parseInt(i[2])},orig:t=>{t.originalWidth=parseInt(i[1]),t.originalHeight=parseInt(i[2])},offsets:t=>{t.offsetX=parseInt(i[1]),t.offsetY=parseInt(i[2]),t.originalWidth=parseInt(i[3]),t.originalHeight=parseInt(i[4])},rotate:t=>{let e=i[1];"true"==e?t.degrees=90:"false"!=e&&(t.degrees=parseInt(e))},index:t=>{t.index=parseInt(i[1])}};let a=e.readLine();for(;a&&0==a.trim().length;)a=e.readLine();for(;a&&0!=a.trim().length&&0!=e.readEntry(i,a);)a=e.readLine();let n=null,o=null,l=null;for(;null!==a;)if(0==a.trim().length)n=null,a=e.readLine();else if(n){let t=new Eu(n,a);for(;;){let r=e.readEntry(i,a=e.readLine());if(0==r)break;let n=s[i[0]];if(n)n(t);else{o||(o=[]),l||(l=[]),o.push(i[0]);let t=[];for(let e=0;e<r;e++)t.push(parseInt(i[e+1]));l.push(t)}}0==t.originalWidth&&0==t.originalHeight&&(t.originalWidth=t.width,t.originalHeight=t.height),o&&o.length>0&&l&&l.length>0&&(t.names=o,t.values=l,o=null,l=null),t.u=t.x/n.width,t.v=t.y/n.height,90==t.degrees?(t.u2=(t.x+t.height)/n.width,t.v2=(t.y+t.width)/n.height):(t.u2=(t.x+t.width)/n.width,t.v2=(t.y+t.height)/n.height),this.regions.push(t)}else{for(n=new Iu(a.trim());0!=e.readEntry(i,a=e.readLine());){let t=r[i[0]];t&&t(n)}this.pages.push(n)}}findRegion(t){for(let e=0;e<this.regions.length;e++)if(this.regions[e].name==t)return this.regions[e];return null}setTextures(t,e=""){for(let i of this.pages)i.setTexture(t.get(e+i.name))}dispose(){for(let t=0;t<this.pages.length;t++)this.pages[t].texture?.dispose()}}class Ou{lines;index=0;constructor(t){this.lines=t.split(/\r\n|\r|\n/)}readLine(){return this.index>=this.lines.length?null:this.lines[this.index++]}readEntry(t,e){if(!e)return 0;if(0==(e=e.trim()).length)return 0;let i=e.indexOf(":");if(-1==i)return 0;t[0]=e.substr(0,i).trim();for(let r=1,s=i+1;;r++){let i=e.indexOf(",",s);if(-1==i)return t[r]=e.substr(s).trim(),r;if(t[r]=e.substr(s,i-s).trim(),s=i+1,4==r)return 4}}}class Iu{name;minFilter=vu.Nearest;magFilter=vu.Nearest;uWrap=xu.ClampToEdge;vWrap=xu.ClampToEdge;texture=null;width=0;height=0;pma=!1;regions=new Array;constructor(t){this.name=t}setTexture(t){this.texture=t,t.setFilters(this.minFilter,this.magFilter),t.setWraps(this.uWrap,this.vWrap);for(let e of this.regions)e.texture=t}}class Eu extends Bu{page;name;x=0;y=0;offsetX=0;offsetY=0;originalWidth=0;originalHeight=0;index=0;degrees=0;names=null;values=null;constructor(t,e){super(),this.page=t,this.name=e,t.regions.push(this)}}class $u extends dd{region=null;path;regionUVs=[];uvs=[];triangles=[];color=new ad(1,1,1,1);width=0;height=0;hullLength=0;edges=[];parentMesh=null;sequence=null;tempColor=new ad(0,0,0,0);constructor(t,e){super(t),this.path=e}updateRegion(){if(!this.region)throw new Error("Region not set.");let t=this.regionUVs;this.uvs&&this.uvs.length==t.length||(this.uvs=od.newFloatArray(t.length));let e=this.uvs,i=this.uvs.length,r=this.region.u,s=this.region.v,a=0,n=0;if(this.region instanceof Eu){let o=this.region,l=o.page,h=l.width,c=l.height;switch(o.degrees){case 90:r-=(o.originalHeight-o.offsetY-o.height)/h,s-=(o.originalWidth-o.offsetX-o.width)/c,a=o.originalHeight/h,n=o.originalWidth/c;for(let o=0;o<i;o+=2)e[o]=r+t[o+1]*a,e[o+1]=s+(1-t[o])*n;return;case 180:r-=(o.originalWidth-o.offsetX-o.width)/h,s-=o.offsetY/c,a=o.originalWidth/h,n=o.originalHeight/c;for(let o=0;o<i;o+=2)e[o]=r+(1-t[o])*a,e[o+1]=s+(1-t[o+1])*n;return;case 270:r-=o.offsetY/h,s-=o.offsetX/c,a=o.originalHeight/h,n=o.originalWidth/c;for(let o=0;o<i;o+=2)e[o]=r+(1-t[o+1])*a,e[o+1]=s+t[o]*n;return}r-=o.offsetX/h,s-=(o.originalHeight-o.offsetY-o.height)/c,a=o.originalWidth/h,n=o.originalHeight/c}else this.region?(a=this.region.u2-r,n=this.region.v2-s):(r=s=0,a=n=1);for(let o=0;o<i;o+=2)e[o]=r+t[o]*a,e[o+1]=s+t[o+1]*n}getParentMesh(){return this.parentMesh}setParentMesh(t){this.parentMesh=t,t&&(this.bones=t.bones,this.vertices=t.vertices,this.worldVerticesLength=t.worldVerticesLength,this.regionUVs=t.regionUVs,this.triangles=t.triangles,this.hullLength=t.hullLength,this.worldVerticesLength=t.worldVerticesLength)}copy(){if(this.parentMesh)return this.newLinkedMesh();let t=new $u(this.name,this.path);return t.region=this.region,t.color.setFromColor(this.color),this.copyTo(t),t.regionUVs=new Array(this.regionUVs.length),od.arrayCopy(this.regionUVs,0,t.regionUVs,0,this.regionUVs.length),t.uvs=this.uvs instanceof Float32Array?od.newFloatArray(this.uvs.length):new Array(this.uvs.length),od.arrayCopy(this.uvs,0,t.uvs,0,this.uvs.length),t.triangles=new Array(this.triangles.length),od.arrayCopy(this.triangles,0,t.triangles,0,this.triangles.length),t.hullLength=this.hullLength,t.sequence=null!=this.sequence?this.sequence.copy():null,this.edges&&(t.edges=new Array(this.edges.length),od.arrayCopy(this.edges,0,t.edges,0,this.edges.length)),t.width=this.width,t.height=this.height,t}computeWorldVertices(t,e,i,r,s,a){null!=this.sequence&&this.sequence.apply(t,this),super.computeWorldVertices(t,e,i,r,s,a)}newLinkedMesh(){let t=new $u(this.name,this.path);return t.region=this.region,t.color.setFromColor(this.color),t.timelineAttachment=this.timelineAttachment,t.setParentMesh(this.parentMesh?this.parentMesh:this),null!=t.region&&t.updateRegion(),t}}class Ru extends dd{lengths=[];closed=!1;constantSpeed=!1;color=new ad(1,1,1,1);constructor(t){super(t)}copy(){let t=new Ru(this.name);return this.copyTo(t),t.lengths=new Array(this.lengths.length),od.arrayCopy(this.lengths,0,t.lengths,0,this.lengths.length),t.closed=closed,t.constantSpeed=this.constantSpeed,t.color.setFromColor(this.color),t}}class zu extends dd{x=0;y=0;rotation=0;color=new ad(.38,.94,0,1);constructor(t){super(t)}computeWorldPosition(t,e){return e.x=this.x*t.a+this.y*t.b+t.worldX,e.y=this.x*t.c+this.y*t.d+t.worldY,e}computeWorldRotation(t){const e=this.rotation*nd.degRad,i=Math.cos(e),r=Math.sin(e),s=i*t.a+r*t.b,a=i*t.c+r*t.d;return nd.atan2Deg(a,s)}copy(){let t=new zu(this.name);return t.x=this.x,t.y=this.y,t.rotation=this.rotation,t.color.setFromColor(this.color),t}}class Fu extends cd{x=0;y=0;scaleX=1;scaleY=1;rotation=0;width=0;height=0;color=new ad(1,1,1,1);path;region=null;sequence=null;offset=od.newFloatArray(8);uvs=od.newFloatArray(8);tempColor=new ad(1,1,1,1);constructor(t,e){super(t),this.path=e}updateRegion(){if(!this.region)throw new Error("Region not set.");let t=this.region,e=this.uvs;if(null==t)return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e[4]=1,e[5]=1,e[6]=1,void(e[7]=0);let i=this.width/this.region.originalWidth*this.scaleX,r=this.height/this.region.originalHeight*this.scaleY,s=-this.width/2*this.scaleX+this.region.offsetX*i,a=-this.height/2*this.scaleY+this.region.offsetY*r,n=s+this.region.width*i,o=a+this.region.height*r,l=this.rotation*nd.degRad,h=Math.cos(l),c=Math.sin(l),d=this.x,u=this.y,p=s*h+d,m=s*c,f=a*h+u,g=a*c,b=n*h+d,y=n*c,v=o*h+u,x=o*c,w=this.offset;w[0]=p-g,w[1]=f+m,w[2]=p-x,w[3]=v+m,w[4]=b-x,w[5]=v+y,w[6]=b-g,w[7]=f+y,90==t.degrees?(e[0]=t.u2,e[1]=t.v2,e[2]=t.u,e[3]=t.v2,e[4]=t.u,e[5]=t.v,e[6]=t.u2,e[7]=t.v):(e[0]=t.u,e[1]=t.v2,e[2]=t.u,e[3]=t.v,e[4]=t.u2,e[5]=t.v,e[6]=t.u2,e[7]=t.v2)}computeWorldVertices(t,e,i,r){null!=this.sequence&&this.sequence.apply(t,this);let s=t.bone,a=this.offset,n=s.worldX,o=s.worldY,l=s.a,h=s.b,c=s.c,d=s.d,u=0,p=0;u=a[0],p=a[1],e[i]=u*l+p*h+n,e[i+1]=u*c+p*d+o,i+=r,u=a[2],p=a[3],e[i]=u*l+p*h+n,e[i+1]=u*c+p*d+o,i+=r,u=a[4],p=a[5],e[i]=u*l+p*h+n,e[i+1]=u*c+p*d+o,i+=r,u=a[6],p=a[7],e[i]=u*l+p*h+n,e[i+1]=u*c+p*d+o}copy(){let t=new Fu(this.name,this.path);return t.region=this.region,t.x=this.x,t.y=this.y,t.scaleX=this.scaleX,t.scaleY=this.scaleY,t.rotation=this.rotation,t.width=this.width,t.height=this.height,od.arrayCopy(this.uvs,0,t.uvs,0,8),od.arrayCopy(this.offset,0,t.offset,0,8),t.color.setFromColor(this.color),t.sequence=null!=this.sequence?this.sequence.copy():null,t}static X1=0;static Y1=1;static C1R=2;static C1G=3;static C1B=4;static C1A=5;static U1=6;static V1=7;static X2=8;static Y2=9;static C2R=10;static C2G=11;static C2B=12;static C2A=13;static U2=14;static V2=15;static X3=16;static Y3=17;static C3R=18;static C3G=19;static C3B=20;static C3A=21;static U3=22;static V3=23;static X4=24;static Y4=25;static C4R=26;static C4G=27;static C4B=28;static C4A=29;static U4=30;static V4=31}class Lu{atlas;constructor(t){this.atlas=t}loadSequence(t,e,i){let r=i.regions;for(let s=0,a=r.length;s<a;s++){let a=i.getPath(e,s),n=this.atlas.findRegion(a);if(null==n)throw new Error("Region not found in atlas: "+a+" (sequence: "+t+")");r[s]=n}}newRegionAttachment(t,e,i,r){let s=new Fu(e,i);if(null!=r)this.loadSequence(e,i,r);else{let t=this.atlas.findRegion(i);if(!t)throw new Error("Region not found in atlas: "+i+" (region attachment: "+e+")");s.region=t}return s}newMeshAttachment(t,e,i,r){let s=new $u(e,i);if(null!=r)this.loadSequence(e,i,r);else{let t=this.atlas.findRegion(i);if(!t)throw new Error("Region not found in atlas: "+i+" (mesh attachment: "+e+")");s.region=t}return s}newBoundingBoxAttachment(t,e){return new gu(e)}newPathAttachment(t,e){return new Ru(e)}newPointAttachment(t,e){return new zu(e)}newClippingAttachment(t,e){return new bu(e)}}class Du{index=0;name;parent=null;length=0;x=0;y=0;rotation=0;scaleX=1;scaleY=1;shearX=0;shearY=0;inherit=wu.Normal;skinRequired=!1;color=new ad;icon;visible=!1;constructor(t,e,i){if(t<0)throw new Error("index must be >= 0.");if(!e)throw new Error("name cannot be null.");this.index=t,this.name=e,this.parent=i}}!function(t){t[t.Normal=0]="Normal",t[t.OnlyTranslation=1]="OnlyTranslation",t[t.NoRotationOrReflection=2]="NoRotationOrReflection",t[t.NoScale=3]="NoScale",t[t.NoScaleOrReflection=4]="NoScaleOrReflection"}(wu||(wu={}));class Wu{data;skeleton;parent=null;children=new Array;x=0;y=0;rotation=0;scaleX=0;scaleY=0;shearX=0;shearY=0;ax=0;ay=0;arotation=0;ascaleX=0;ascaleY=0;ashearX=0;ashearY=0;a=0;b=0;c=0;d=0;worldY=0;worldX=0;inherit=wu.Normal;sorted=!1;active=!1;constructor(t,e,i){if(!t)throw new Error("data cannot be null.");if(!e)throw new Error("skeleton cannot be null.");this.data=t,this.skeleton=e,this.parent=i,this.setToSetupPose()}isActive(){return this.active}update(t){this.updateWorldTransformWith(this.ax,this.ay,this.arotation,this.ascaleX,this.ascaleY,this.ashearX,this.ashearY)}updateWorldTransform(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)}updateWorldTransformWith(t,e,i,r,s,a,n){this.ax=t,this.ay=e,this.arotation=i,this.ascaleX=r,this.ascaleY=s,this.ashearX=a,this.ashearY=n;let o=this.parent;if(!o){let o=this.skeleton;const l=o.scaleX,h=o.scaleY,c=(i+a)*nd.degRad,d=(i+90+n)*nd.degRad;return this.a=Math.cos(c)*r*l,this.b=Math.cos(d)*s*l,this.c=Math.sin(c)*r*h,this.d=Math.sin(d)*s*h,this.worldX=t*l+o.x,void(this.worldY=e*h+o.y)}let l=o.a,h=o.b,c=o.c,d=o.d;switch(this.worldX=l*t+h*e+o.worldX,this.worldY=c*t+d*e+o.worldY,this.inherit){case wu.Normal:{const t=(i+a)*nd.degRad,e=(i+90+n)*nd.degRad,o=Math.cos(t)*r,u=Math.cos(e)*s,p=Math.sin(t)*r,m=Math.sin(e)*s;return this.a=l*o+h*p,this.b=l*u+h*m,this.c=c*o+d*p,void(this.d=c*u+d*m)}case wu.OnlyTranslation:{const t=(i+a)*nd.degRad,e=(i+90+n)*nd.degRad;this.a=Math.cos(t)*r,this.b=Math.cos(e)*s,this.c=Math.sin(t)*r,this.d=Math.sin(e)*s;break}case wu.NoRotationOrReflection:{let t=1/this.skeleton.scaleX,e=1/this.skeleton.scaleY;l*=t,c*=e;let o=l*l+c*c,u=0;o>1e-4?(o=Math.abs(l*d*e-h*t*c)/o,h=c*o,d=l*o,u=Math.atan2(c,l)*nd.radDeg):(l=0,c=0,u=90-Math.atan2(d,h)*nd.radDeg);const p=(i+a-u)*nd.degRad,m=(i+n-u+90)*nd.degRad,f=Math.cos(p)*r,g=Math.cos(m)*s,b=Math.sin(p)*r,y=Math.sin(m)*s;this.a=l*f-h*b,this.b=l*g-h*y,this.c=c*f+d*b,this.d=c*g+d*y;break}case wu.NoScale:case wu.NoScaleOrReflection:{i*=nd.degRad;const t=Math.cos(i),e=Math.sin(i);let o=(l*t+h*e)/this.skeleton.scaleX,u=(c*t+d*e)/this.skeleton.scaleY,p=Math.sqrt(o*o+u*u);p>1e-5&&(p=1/p),o*=p,u*=p,p=Math.sqrt(o*o+u*u),this.inherit==wu.NoScale&&l*d-h*c<0!=(this.skeleton.scaleX<0!=this.skeleton.scaleY<0)&&(p=-p),i=Math.PI/2+Math.atan2(u,o);const m=Math.cos(i)*p,f=Math.sin(i)*p;a*=nd.degRad,n=(90+n)*nd.degRad;const g=Math.cos(a)*r,b=Math.cos(n)*s,y=Math.sin(a)*r,v=Math.sin(n)*s;this.a=o*g+m*y,this.b=o*b+m*v,this.c=u*g+f*y,this.d=u*b+f*v;break}}this.a*=this.skeleton.scaleX,this.b*=this.skeleton.scaleX,this.c*=this.skeleton.scaleY,this.d*=this.skeleton.scaleY}setToSetupPose(){let t=this.data;this.x=t.x,this.y=t.y,this.rotation=t.rotation,this.scaleX=t.scaleX,this.scaleY=t.scaleY,this.shearX=t.shearX,this.shearY=t.shearY,this.inherit=t.inherit}updateAppliedTransform(){let t=this.parent;if(!t)return this.ax=this.worldX-this.skeleton.x,this.ay=this.worldY-this.skeleton.y,this.arotation=Math.atan2(this.c,this.a)*nd.radDeg,this.ascaleX=Math.sqrt(this.a*this.a+this.c*this.c),this.ascaleY=Math.sqrt(this.b*this.b+this.d*this.d),this.ashearX=0,void(this.ashearY=Math.atan2(this.a*this.b+this.c*this.d,this.a*this.d-this.b*this.c)*nd.radDeg);let e,i,r,s,a=t.a,n=t.b,o=t.c,l=t.d,h=1/(a*l-n*o),c=l*h,d=n*h,u=o*h,p=a*h,m=this.worldX-t.worldX,f=this.worldY-t.worldY;if(this.ax=m*c-f*d,this.ay=f*p-m*u,this.inherit==wu.OnlyTranslation)e=this.a,i=this.b,r=this.c,s=this.d;else{switch(this.inherit){case wu.NoRotationOrReflection:{let t=Math.abs(a*l-n*o)/(a*a+o*o);n=-o*this.skeleton.scaleX*t/this.skeleton.scaleY,l=a*this.skeleton.scaleY*t/this.skeleton.scaleX,h=1/(a*l-n*o),c=l*h,d=n*h;break}case wu.NoScale:case wu.NoScaleOrReflection:let t=nd.cosDeg(this.rotation),e=nd.sinDeg(this.rotation);a=(a*t+n*e)/this.skeleton.scaleX,o=(o*t+l*e)/this.skeleton.scaleY;let i=Math.sqrt(a*a+o*o);i>1e-5&&(i=1/i),a*=i,o*=i,i=Math.sqrt(a*a+o*o),this.inherit==wu.NoScale&&h<0!=(this.skeleton.scaleX<0!=this.skeleton.scaleY<0)&&(i=-i);let r=nd.PI/2+Math.atan2(o,a);n=Math.cos(r)*i,l=Math.sin(r)*i,h=1/(a*l-n*o),c=l*h,d=n*h,u=o*h,p=a*h}e=c*this.a-d*this.c,i=c*this.b-d*this.d,r=p*this.c-u*this.a,s=p*this.d-u*this.b}if(this.ashearX=0,this.ascaleX=Math.sqrt(e*e+r*r),this.ascaleX>1e-4){let t=e*s-i*r;this.ascaleY=t/this.ascaleX,this.ashearY=-Math.atan2(e*i+r*s,t)*nd.radDeg,this.arotation=Math.atan2(r,e)*nd.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(i*i+s*s),this.ashearY=0,this.arotation=90-Math.atan2(s,i)*nd.radDeg}getWorldRotationX(){return Math.atan2(this.c,this.a)*nd.radDeg}getWorldRotationY(){return Math.atan2(this.d,this.b)*nd.radDeg}getWorldScaleX(){return Math.sqrt(this.a*this.a+this.c*this.c)}getWorldScaleY(){return Math.sqrt(this.b*this.b+this.d*this.d)}worldToLocal(t){let e=1/(this.a*this.d-this.b*this.c),i=t.x-this.worldX,r=t.y-this.worldY;return t.x=i*this.d*e-r*this.b*e,t.y=r*this.a*e-i*this.c*e,t}localToWorld(t){let e=t.x,i=t.y;return t.x=e*this.a+i*this.b+this.worldX,t.y=e*this.c+i*this.d+this.worldY,t}worldToParent(t){if(null==t)throw new Error("world cannot be null.");return null==this.parent?t:this.parent.worldToLocal(t)}parentToWorld(t){if(null==t)throw new Error("world cannot be null.");return null==this.parent?t:this.parent.localToWorld(t)}worldToLocalRotation(t){let e=nd.sinDeg(t),i=nd.cosDeg(t);return Math.atan2(this.a*e-this.c*i,this.d*i-this.b*e)*nd.radDeg+this.rotation-this.shearX}localToWorldRotation(t){t-=this.rotation-this.shearX;let e=nd.sinDeg(t),i=nd.cosDeg(t);return Math.atan2(i*this.c+e*this.d,i*this.a+e*this.b)*nd.radDeg}rotateWorld(t){t*=nd.degRad;const e=Math.sin(t),i=Math.cos(t),r=this.a,s=this.b;this.a=i*r-e*this.c,this.b=i*s-e*this.d,this.c=e*r+i*this.c,this.d=e*s+i*this.d}}new Map;class Vu{data;bones;target;bendDirection=0;compress=!1;stretch=!1;mix=1;softness=0;active=!1;constructor(t,e){if(!t)throw new Error("data cannot be null.");if(!e)throw new Error("skeleton cannot be null.");this.data=t,this.bones=new Array;for(let i=0;i<t.bones.length;i++){let r=e.findBone(t.bones[i].name);if(!r)throw new Error(`Couldn't find bone ${t.bones[i].name}`);this.bones.push(r)}let i=e.findBone(t.target.name);if(!i)throw new Error(`Couldn't find bone ${t.target.name}`);this.target=i,this.mix=t.mix,this.softness=t.softness,this.bendDirection=t.bendDirection,this.compress=t.compress,this.stretch=t.stretch}isActive(){return this.active}setToSetupPose(){const t=this.data;this.mix=t.mix,this.softness=t.softness,this.bendDirection=t.bendDirection,this.compress=t.compress,this.stretch=t.stretch}update(t){if(0==this.mix)return;let e=this.target,i=this.bones;switch(i.length){case 1:this.apply1(i[0],e.worldX,e.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(i[0],i[1],e.worldX,e.worldY,this.bendDirection,this.stretch,this.data.uniform,this.softness,this.mix)}}apply1(t,e,i,r,s,a,n){let o=t.parent;if(!o)throw new Error("IK bone must have parent.");let l=o.a,h=o.b,c=o.c,d=o.d,u=-t.ashearX-t.arotation,p=0,m=0;switch(t.inherit){case wu.OnlyTranslation:p=(e-t.worldX)*nd.signum(t.skeleton.scaleX),m=(i-t.worldY)*nd.signum(t.skeleton.scaleY);break;case wu.NoRotationOrReflection:let r=Math.abs(l*d-h*c)/Math.max(1e-4,l*l+c*c),s=l/t.skeleton.scaleX,a=c/t.skeleton.scaleY;h=-a*r*t.skeleton.scaleX,d=s*r*t.skeleton.scaleY,u+=Math.atan2(a,s)*nd.radDeg;default:let n=e-o.worldX,f=i-o.worldY,g=l*d-h*c;Math.abs(g)<=1e-4?(p=0,m=0):(p=(n*d-f*h)/g-t.ax,m=(f*l-n*c)/g-t.ay)}u+=Math.atan2(m,p)*nd.radDeg,t.ascaleX<0&&(u+=180),u>180?u-=360:u<-180&&(u+=360);let f=t.ascaleX,g=t.ascaleY;if(r||s){switch(t.inherit){case wu.NoScale:case wu.NoScaleOrReflection:p=e-t.worldX,m=i-t.worldY}const o=t.data.length*f;if(o>1e-4){const t=p*p+m*m;if(r&&t<o*o||s&&t>o*o){const e=(Math.sqrt(t)/o-1)*n+1;f*=e,a&&(g*=e)}}}t.updateWorldTransformWith(t.ax,t.ay,t.arotation+u*n,f,g,t.ashearX,t.ashearY)}apply2(t,e,i,r,s,a,n,o,l){if(t.inherit!=wu.Normal||e.inherit!=wu.Normal)return;let h=t.ax,c=t.ay,d=t.ascaleX,u=t.ascaleY,p=d,m=u,f=e.ascaleX,g=0,b=0,y=0;d<0?(d=-d,g=180,y=-1):(g=0,y=1),u<0&&(u=-u,y=-y),f<0?(f=-f,b=180):b=0;let v=e.ax,x=0,w=0,_=0,k=t.a,S=t.b,C=t.c,A=t.d,T=Math.abs(d-u)<=1e-4;!T||a?(x=0,w=k*v+t.worldX,_=C*v+t.worldY):(x=e.ay,w=k*v+S*x+t.worldX,_=C*v+A*x+t.worldY);let M=t.parent;if(!M)throw new Error("IK parent must itself have a parent.");k=M.a,S=M.b,C=M.c,A=M.d;let B=k*A-S*C,P=w-M.worldX,O=_-M.worldY;B=Math.abs(B)<=1e-4?0:1/B;let I,E,$=(P*A-O*S)*B-h,R=(O*k-P*C)*B-c,z=Math.sqrt($*$+R*R),F=e.data.length*f;if(z<1e-4)return this.apply1(t,i,r,!1,a,!1,l),void e.updateWorldTransformWith(v,x,0,e.ascaleX,e.ascaleY,e.ashearX,e.ashearY);P=i-M.worldX,O=r-M.worldY;let L=(P*A-O*S)*B-h,D=(O*k-P*C)*B-c,W=L*L+D*D;if(0!=o){o*=d*(f+1)*.5;let t=Math.sqrt(W),e=t-z-F*d+o;if(e>0){let i=Math.min(1,e/(2*o))-1;i=(e-o*(1-i*i))/t,L-=i*L,D-=i*D,W=L*L+D*D}}t:if(T){F*=d;let t=(W-z*z-F*F)/(2*z*F);t<-1?(t=-1,E=Math.PI*s):t>1?(t=1,E=0,a&&(k=(Math.sqrt(W)/(z+F)-1)*l+1,p*=k,n&&(m*=k))):E=Math.acos(t)*s,k=z+F*t,S=F*Math.sin(E),I=Math.atan2(D*k-L*S,L*k+D*S)}else{k=d*F,S=u*F;let t=k*k,e=S*S,i=Math.atan2(D,L);C=e*z*z+t*W-t*e;let r=-2*e*z,a=e-t;if(A=r*r-4*a*C,A>=0){let t=Math.sqrt(A);r<0&&(t=-t),t=.5*-(r+t);let e=t/a,n=C/t,o=Math.abs(e)<Math.abs(n)?e:n;if(e=W-o*o,e>=0){O=Math.sqrt(e)*s,I=i-Math.atan2(O,o),E=Math.atan2(O/u,(o-z)/d);break t}}let n=nd.PI,o=z-k,l=o*o,h=0,c=0,p=z+k,m=p*p,f=0;C=-k*z/(t-e),C>=-1&&C<=1&&(C=Math.acos(C),P=k*Math.cos(C)+z,O=S*Math.sin(C),A=P*P+O*O,A<l&&(n=C,l=A,o=P,h=O),A>m&&(c=C,m=A,p=P,f=O)),W<=.5*(l+m)?(I=i-Math.atan2(h*s,o),E=n*s):(I=i-Math.atan2(f*s,p),E=c*s)}let V=Math.atan2(x,v)*y,H=t.arotation;I=(I-V)*nd.radDeg+g-H,I>180?I-=360:I<-180&&(I+=360),t.updateWorldTransformWith(h,c,H+I*l,p,m,0,0),H=e.arotation,E=((E+V)*nd.radDeg-e.ashearX)*y+b-H,E>180?E-=360:E<-180&&(E+=360),e.updateWorldTransformWith(v,x,H+E*l,e.ascaleX,e.ascaleY,e.ashearX,e.ashearY)}}class Hu{name;order;skinRequired;constructor(t,e,i){this.name=t,this.order=e,this.skinRequired=i}}class Nu extends Hu{bones=new Array;_target=null;set target(t){this._target=t}get target(){if(this._target)return this._target;throw new Error("BoneData not set.")}bendDirection=0;compress=!1;stretch=!1;uniform=!1;mix=0;softness=0;constructor(t){super(t,0,!1)}}class Yu extends Hu{bones=new Array;_target=null;set target(t){this._target=t}get target(){if(this._target)return this._target;throw new Error("SlotData not set.")}positionMode=_u.Fixed;spacingMode=ku.Fixed;rotateMode=Su.Chain;offsetRotation=0;position=0;spacing=0;mixRotate=0;mixX=0;mixY=0;constructor(t){super(t,0,!1)}}!function(t){t[t.Fixed=0]="Fixed",t[t.Percent=1]="Percent"}(_u||(_u={})),function(t){t[t.Length=0]="Length",t[t.Fixed=1]="Fixed",t[t.Percent=2]="Percent",t[t.Proportional=3]="Proportional"}(ku||(ku={})),function(t){t[t.Tangent=0]="Tangent",t[t.Chain=1]="Chain",t[t.ChainScale=2]="ChainScale"}(Su||(Su={}));class Xu{static NONE=-1;static BEFORE=-2;static AFTER=-3;static epsilon=1e-5;data;bones;target;position=0;spacing=0;mixRotate=0;mixX=0;mixY=0;spaces=new Array;positions=new Array;world=new Array;curves=new Array;lengths=new Array;segments=new Array;active=!1;constructor(t,e){if(!t)throw new Error("data cannot be null.");if(!e)throw new Error("skeleton cannot be null.");this.data=t,this.bones=new Array;for(let i=0,r=t.bones.length;i<r;i++){let r=e.findBone(t.bones[i].name);if(!r)throw new Error(`Couldn't find bone ${t.bones[i].name}.`);this.bones.push(r)}let i=e.findSlot(t.target.name);if(!i)throw new Error(`Couldn't find target bone ${t.target.name}`);this.target=i,this.position=t.position,this.spacing=t.spacing,this.mixRotate=t.mixRotate,this.mixX=t.mixX,this.mixY=t.mixY}isActive(){return this.active}setToSetupPose(){const t=this.data;this.position=t.position,this.spacing=t.spacing,this.mixRotate=t.mixRotate,this.mixX=t.mixX,this.mixY=t.mixY}update(t){let e=this.target.getAttachment();if(!(e instanceof Ru))return;let i=this.mixRotate,r=this.mixX,s=this.mixY;if(0==i&&0==r&&0==s)return;let a=this.data,n=a.rotateMode==Su.Tangent,o=a.rotateMode==Su.ChainScale,l=this.bones,h=l.length,c=n?h:h+1,d=od.setArraySize(this.spaces,c),u=o?this.lengths=od.setArraySize(this.lengths,h):[],p=this.spacing;switch(a.spacingMode){case ku.Percent:if(o)for(let t=0,e=c-1;t<e;t++){let e=l[t],i=e.data.length,r=i*e.a,s=i*e.c;u[t]=Math.sqrt(r*r+s*s)}od.arrayFill(d,1,c,p);break;case ku.Proportional:let t=0;for(let e=0,i=c-1;e<i;){let i=l[e],r=i.data.length;if(r<Xu.epsilon)o&&(u[e]=0),d[++e]=p;else{let s=r*i.a,a=r*i.c,n=Math.sqrt(s*s+a*a);o&&(u[e]=n),d[++e]=n,t+=n}}if(t>0){t=c/t*p;for(let e=1;e<c;e++)d[e]*=t}break;default:let e=a.spacingMode==ku.Length;for(let t=0,i=c-1;t<i;){let i=l[t],r=i.data.length;if(r<Xu.epsilon)o&&(u[t]=0),d[++t]=p;else{let s=r*i.a,a=r*i.c,n=Math.sqrt(s*s+a*a);o&&(u[t]=n),d[++t]=(e?r+p:p)*n/r}}}let m=this.computeWorldPositions(e,c,n),f=m[0],g=m[1],b=a.offsetRotation,y=!1;if(0==b)y=a.rotateMode==Su.Chain;else{y=!1;let t=this.target.bone;b*=t.a*t.d-t.b*t.c>0?nd.degRad:-nd.degRad}for(let t=0,e=3;t<h;t++,e+=3){let a=l[t];a.worldX+=(f-a.worldX)*r,a.worldY+=(g-a.worldY)*s;let h=m[e],c=m[e+1],p=h-f,v=c-g;if(o){let e=u[t];if(0!=e){let t=(Math.sqrt(p*p+v*v)/e-1)*i+1;a.a*=t,a.c*=t}}if(f=h,g=c,i>0){let r=a.a,s=a.b,o=a.c,l=a.d,h=0,c=0,u=0;if(h=n?m[e-1]:0==d[t+1]?m[e+2]:Math.atan2(v,p),h-=Math.atan2(o,r),y){c=Math.cos(h),u=Math.sin(h);let t=a.data.length;f+=(t*(c*r-u*o)-p)*i,g+=(t*(u*r+c*o)-v)*i}else h+=b;h>nd.PI?h-=nd.PI2:h<-nd.PI&&(h+=nd.PI2),h*=i,c=Math.cos(h),u=Math.sin(h),a.a=c*r-u*o,a.b=c*s-u*l,a.c=u*r+c*o,a.d=u*s+c*l}a.updateAppliedTransform()}}computeWorldPositions(t,e,i){let r=this.target,s=this.position,a=this.spaces,n=od.setArraySize(this.positions,3*e+2),o=this.world,l=t.closed,h=t.worldVerticesLength,c=h/6,d=Xu.NONE;if(!t.constantSpeed){let u=t.lengths;c-=l?1:2;let p,m=u[c];switch(this.data.positionMode==_u.Percent&&(s*=m),this.data.spacingMode){case ku.Percent:p=m;break;case ku.Proportional:p=m/e;break;default:p=1}o=od.setArraySize(this.world,8);for(let f=0,g=0,b=0;f<e;f++,g+=3){let e=a[f]*p;s+=e;let y=s;if(l)y%=m,y<0&&(y+=m),b=0;else{if(y<0){d!=Xu.BEFORE&&(d=Xu.BEFORE,t.computeWorldVertices(r,2,4,o,0,2)),this.addBeforePosition(y,o,0,n,g);continue}if(y>m){d!=Xu.AFTER&&(d=Xu.AFTER,t.computeWorldVertices(r,h-6,4,o,0,2)),this.addAfterPosition(y-m,o,0,n,g);continue}}for(;;b++){let t=u[b];if(!(y>t)){if(0==b)y/=t;else{let e=u[b-1];y=(y-e)/(t-e)}break}}b!=d&&(d=b,l&&b==c?(t.computeWorldVertices(r,h-4,4,o,0,2),t.computeWorldVertices(r,0,4,o,4,2)):t.computeWorldVertices(r,6*b+2,8,o,0,2)),this.addCurvePosition(y,o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7],n,g,i||f>0&&0==e)}return n}l?(h+=2,o=od.setArraySize(this.world,h),t.computeWorldVertices(r,2,h-4,o,0,2),t.computeWorldVertices(r,0,2,o,h-4,2),o[h-2]=o[0],o[h-1]=o[1]):(c--,h-=4,o=od.setArraySize(this.world,h),t.computeWorldVertices(r,2,h,o,0,2));let u,p=od.setArraySize(this.curves,c),m=0,f=o[0],g=o[1],b=0,y=0,v=0,x=0,w=0,_=0,k=0,S=0,C=0,A=0,T=0,M=0,B=0,P=0;for(let t=0,e=2;t<c;t++,e+=6)b=o[e],y=o[e+1],v=o[e+2],x=o[e+3],w=o[e+4],_=o[e+5],k=.1875*(f-2*b+v),S=.1875*(g-2*y+x),C=.09375*(3*(b-v)-f+w),A=.09375*(3*(y-x)-g+_),T=2*k+C,M=2*S+A,B=.75*(b-f)+k+.16666667*C,P=.75*(y-g)+S+.16666667*A,m+=Math.sqrt(B*B+P*P),B+=T,P+=M,T+=C,M+=A,m+=Math.sqrt(B*B+P*P),B+=T,P+=M,m+=Math.sqrt(B*B+P*P),B+=T+C,P+=M+A,m+=Math.sqrt(B*B+P*P),p[t]=m,f=w,g=_;switch(this.data.positionMode==_u.Percent&&(s*=m),this.data.spacingMode){case ku.Percent:u=m;break;case ku.Proportional:u=m/e;break;default:u=1}let O=this.segments,I=0;for(let t=0,r=0,c=0,E=0;t<e;t++,r+=3){let e=a[t]*u;s+=e;let $=s;if(l)$%=m,$<0&&($+=m),c=0;else{if($<0){this.addBeforePosition($,o,0,n,r);continue}if($>m){this.addAfterPosition($-m,o,h-4,n,r);continue}}for(;;c++){let t=p[c];if(!($>t)){if(0==c)$/=t;else{let e=p[c-1];$=($-e)/(t-e)}break}}if(c!=d){d=c;let t=6*c;for(f=o[t],g=o[t+1],b=o[t+2],y=o[t+3],v=o[t+4],x=o[t+5],w=o[t+6],_=o[t+7],k=.03*(f-2*b+v),S=.03*(g-2*y+x),C=.006*(3*(b-v)-f+w),A=.006*(3*(y-x)-g+_),T=2*k+C,M=2*S+A,B=.3*(b-f)+k+.16666667*C,P=.3*(y-g)+S+.16666667*A,I=Math.sqrt(B*B+P*P),O[0]=I,t=1;t<8;t++)B+=T,P+=M,T+=C,M+=A,I+=Math.sqrt(B*B+P*P),O[t]=I;B+=T,P+=M,I+=Math.sqrt(B*B+P*P),O[8]=I,B+=T+C,P+=M+A,I+=Math.sqrt(B*B+P*P),O[9]=I,E=0}for($*=I;;E++){let t=O[E];if(!($>t)){if(0==E)$/=t;else{let e=O[E-1];$=E+($-e)/(t-e)}break}}this.addCurvePosition(.1*$,f,g,b,y,v,x,w,_,n,r,i||t>0&&0==e)}return n}addBeforePosition(t,e,i,r,s){let a=e[i],n=e[i+1],o=e[i+2]-a,l=e[i+3]-n,h=Math.atan2(l,o);r[s]=a+t*Math.cos(h),r[s+1]=n+t*Math.sin(h),r[s+2]=h}addAfterPosition(t,e,i,r,s){let a=e[i+2],n=e[i+3],o=a-e[i],l=n-e[i+1],h=Math.atan2(l,o);r[s]=a+t*Math.cos(h),r[s+1]=n+t*Math.sin(h),r[s+2]=h}addCurvePosition(t,e,i,r,s,a,n,o,l,h,c,d){if(0==t||isNaN(t))return h[c]=e,h[c+1]=i,void(h[c+2]=Math.atan2(s-i,r-e));let u=t*t,p=u*t,m=1-t,f=m*m,g=f*m,b=m*t,y=3*b,v=m*y,x=y*t,w=e*g+r*v+a*x+o*p,_=i*g+s*v+n*x+l*p;h[c]=w,h[c+1]=_,d&&(h[c+2]=t<.001?Math.atan2(s-i,r-e):Math.atan2(_-(i*f+s*b*2+n*u),w-(e*f+r*b*2+a*u)))}}class Uu{data;_bone=null;set bone(t){this._bone=t}get bone(){if(this._bone)return this._bone;throw new Error("Bone not set.")}inertia=0;strength=0;damping=0;massInverse=0;wind=0;gravity=0;mix=0;_reset=!0;ux=0;uy=0;cx=0;cy=0;tx=0;ty=0;xOffset=0;xVelocity=0;yOffset=0;yVelocity=0;rotateOffset=0;rotateVelocity=0;scaleOffset=0;scaleVelocity=0;active=!1;skeleton;remaining=0;lastTime=0;constructor(t,e){this.data=t,this.skeleton=e,this.bone=e.bones[t.bone.index],this.inertia=t.inertia,this.strength=t.strength,this.damping=t.damping,this.massInverse=t.massInverse,this.wind=t.wind,this.gravity=t.gravity,this.mix=t.mix}reset(){this.remaining=0,this.lastTime=this.skeleton.time,this._reset=!0,this.xOffset=0,this.xVelocity=0,this.yOffset=0,this.yVelocity=0,this.rotateOffset=0,this.rotateVelocity=0,this.scaleOffset=0,this.scaleVelocity=0}setToSetupPose(){const t=this.data;this.inertia=t.inertia,this.strength=t.strength,this.damping=t.damping,this.massInverse=t.massInverse,this.wind=t.wind,this.gravity=t.gravity,this.mix=t.mix}isActive(){return this.active}update(t){const e=this.mix;if(0==e)return;const i=this.data.x>0,r=this.data.y>0,s=this.data.rotate>0||this.data.shearX>0,a=this.data.scaleX>0,n=this.bone,o=n.data.length;switch(t){case Cu.none:return;case Cu.reset:this.reset();case Cu.update:const t=this.skeleton,l=Math.max(this.skeleton.time-this.lastTime,0);this.remaining+=l,this.lastTime=t.time;const h=n.worldX,c=n.worldY;if(this._reset)this._reset=!1,this.ux=h,this.uy=c;else{let d=this.remaining,u=this.inertia,p=this.data.step,m=this.skeleton.data.referenceScale,f=-1,g=this.data.limit*l,b=g*Math.abs(t.scaleY);if(g*=Math.abs(t.scaleX),i||r){if(i){const t=(this.ux-h)*u;this.xOffset+=t>g?g:t<-g?-g:t,this.ux=h}if(r){const t=(this.uy-c)*u;this.yOffset+=t>b?b:t<-b?-b:t,this.uy=c}if(d>=p){f=Math.pow(this.damping,60*p);const e=this.massInverse*p,s=this.strength,a=this.wind*m*t.scaleX,n=this.gravity*m*t.scaleY;do{i&&(this.xVelocity+=(a-this.xOffset*s)*e,this.xOffset+=this.xVelocity*p,this.xVelocity*=f),r&&(this.yVelocity-=(n+this.yOffset*s)*e,this.yOffset+=this.yVelocity*p,this.yVelocity*=f),d-=p}while(d>=p)}i&&(n.worldX+=this.xOffset*e*this.data.x),r&&(n.worldY+=this.yOffset*e*this.data.y)}if(s||a){let t=Math.atan2(n.c,n.a),i=0,r=0,l=0,h=this.cx-n.worldX,c=this.cy-n.worldY;if(h>g?h=g:h<-g&&(h=-g),c>b?c=b:c<-b&&(c=-b),s){l=(this.data.rotate+this.data.shearX)*e;let s=Math.atan2(c+this.ty,h+this.tx)-t-this.rotateOffset*l;this.rotateOffset+=(s-Math.ceil(s*nd.invPI2-.5)*nd.PI2)*u,s=this.rotateOffset*l+t,i=Math.cos(s),r=Math.sin(s),a&&(s=o*n.getWorldScaleX(),s>0&&(this.scaleOffset+=(h*i+c*r)*u/s))}else{i=Math.cos(t),r=Math.sin(t);const e=o*n.getWorldScaleX();e>0&&(this.scaleOffset+=(h*i+c*r)*u/e)}if(d=this.remaining,d>=p){-1==f&&(f=Math.pow(this.damping,60*p));const e=this.massInverse*p,n=this.strength,h=this.wind,c=qu.yDown?-this.gravity:this.gravity,u=o/m;for(;;)if(d-=p,a&&(this.scaleVelocity+=(h*i-c*r-this.scaleOffset*n)*e,this.scaleOffset+=this.scaleVelocity*p,this.scaleVelocity*=f),s){if(this.rotateVelocity-=((h*r+c*i)*u+this.rotateOffset*n)*e,this.rotateOffset+=this.rotateVelocity*p,this.rotateVelocity*=f,d<p)break;const s=this.rotateOffset*l+t;i=Math.cos(s),r=Math.sin(s)}else if(d<p)break}}this.remaining=d}this.cx=n.worldX,this.cy=n.worldY;break;case Cu.pose:i&&(n.worldX+=this.xOffset*e*this.data.x),r&&(n.worldY+=this.yOffset*e*this.data.y)}if(s){let t=this.rotateOffset*e,i=0,r=0,s=0;if(this.data.shearX>0){let e=0;this.data.rotate>0&&(e=t*this.data.rotate,i=Math.sin(e),r=Math.cos(e),s=n.b,n.b=r*s-i*n.d,n.d=i*s+r*n.d),e+=t*this.data.shearX,i=Math.sin(e),r=Math.cos(e),s=n.a,n.a=r*s-i*n.c,n.c=i*s+r*n.c}else t*=this.data.rotate,i=Math.sin(t),r=Math.cos(t),s=n.a,n.a=r*s-i*n.c,n.c=i*s+r*n.c,s=n.b,n.b=r*s-i*n.d,n.d=i*s+r*n.d}if(a){const t=1+this.scaleOffset*e*this.data.scaleX;n.a*=t,n.c*=t}t!=Cu.pose&&(this.tx=o*n.a,this.ty=o*n.c),n.updateAppliedTransform()}translate(t,e){this.ux-=t,this.uy-=e,this.cx-=t,this.cy-=e}rotate(t,e,i){const r=i*nd.degRad,s=Math.cos(r),a=Math.sin(r),n=this.cx-t,o=this.cy-e;this.translate(n*s-o*a-n,n*a+o*s-o)}}class Gu{data;bone;color;darkColor=null;attachment=null;attachmentState=0;sequenceIndex=-1;deform=new Array;constructor(t,e){if(!t)throw new Error("data cannot be null.");if(!e)throw new Error("bone cannot be null.");this.data=t,this.bone=e,this.color=new ad,this.darkColor=t.darkColor?new ad:null,this.setToSetupPose()}getSkeleton(){return this.bone.skeleton}getAttachment(){return this.attachment}setAttachment(t){this.attachment!=t&&(t instanceof dd&&this.attachment instanceof dd&&t.timelineAttachment==this.attachment.timelineAttachment||(this.deform.length=0),this.attachment=t,this.sequenceIndex=-1)}setToSetupPose(){this.color.setFromColor(this.data.color),this.darkColor&&this.darkColor.setFromColor(this.data.darkColor),this.data.attachmentName?(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName))):this.attachment=null}}class ju{data;bones;target;mixRotate=0;mixX=0;mixY=0;mixScaleX=0;mixScaleY=0;mixShearY=0;temp=new hd;active=!1;constructor(t,e){if(!t)throw new Error("data cannot be null.");if(!e)throw new Error("skeleton cannot be null.");this.data=t,this.bones=new Array;for(let i=0;i<t.bones.length;i++){let r=e.findBone(t.bones[i].name);if(!r)throw new Error(`Couldn't find bone ${t.bones[i].name}.`);this.bones.push(r)}let i=e.findBone(t.target.name);if(!i)throw new Error(`Couldn't find target bone ${t.target.name}.`);this.target=i,this.mixRotate=t.mixRotate,this.mixX=t.mixX,this.mixY=t.mixY,this.mixScaleX=t.mixScaleX,this.mixScaleY=t.mixScaleY,this.mixShearY=t.mixShearY}isActive(){return this.active}setToSetupPose(){const t=this.data;this.mixRotate=t.mixRotate,this.mixX=t.mixX,this.mixY=t.mixY,this.mixScaleX=t.mixScaleX,this.mixScaleY=t.mixScaleY,this.mixShearY=t.mixShearY}update(t){0==this.mixRotate&&0==this.mixX&&0==this.mixY&&0==this.mixScaleX&&0==this.mixScaleY&&0==this.mixShearY||(this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld())}applyAbsoluteWorld(){let t=this.mixRotate,e=this.mixX,i=this.mixY,r=this.mixScaleX,s=this.mixScaleY,a=this.mixShearY,n=0!=e||0!=i,o=this.target,l=o.a,h=o.b,c=o.c,d=o.d,u=l*d-h*c>0?nd.degRad:-nd.degRad,p=this.data.offsetRotation*u,m=this.data.offsetShearY*u,f=this.bones;for(let u=0,g=f.length;u<g;u++){let g=f[u];if(0!=t){let e=g.a,i=g.b,r=g.c,s=g.d,a=Math.atan2(c,l)-Math.atan2(r,e)+p;a>nd.PI?a-=nd.PI2:a<-nd.PI&&(a+=nd.PI2),a*=t;let n=Math.cos(a),o=Math.sin(a);g.a=n*e-o*r,g.b=n*i-o*s,g.c=o*e+n*r,g.d=o*i+n*s}if(n){let t=this.temp;o.localToWorld(t.set(this.data.offsetX,this.data.offsetY)),g.worldX+=(t.x-g.worldX)*e,g.worldY+=(t.y-g.worldY)*i}if(0!=r){let t=Math.sqrt(g.a*g.a+g.c*g.c);0!=t&&(t=(t+(Math.sqrt(l*l+c*c)-t+this.data.offsetScaleX)*r)/t),g.a*=t,g.c*=t}if(0!=s){let t=Math.sqrt(g.b*g.b+g.d*g.d);0!=t&&(t=(t+(Math.sqrt(h*h+d*d)-t+this.data.offsetScaleY)*s)/t),g.b*=t,g.d*=t}if(a>0){let t=g.b,e=g.d,i=Math.atan2(e,t),r=Math.atan2(d,h)-Math.atan2(c,l)-(i-Math.atan2(g.c,g.a));r>nd.PI?r-=nd.PI2:r<-nd.PI&&(r+=nd.PI2),r=i+(r+m)*a;let s=Math.sqrt(t*t+e*e);g.b=Math.cos(r)*s,g.d=Math.sin(r)*s}g.updateAppliedTransform()}}applyRelativeWorld(){let t=this.mixRotate,e=this.mixX,i=this.mixY,r=this.mixScaleX,s=this.mixScaleY,a=this.mixShearY,n=0!=e||0!=i,o=this.target,l=o.a,h=o.b,c=o.c,d=o.d,u=l*d-h*c>0?nd.degRad:-nd.degRad,p=this.data.offsetRotation*u,m=this.data.offsetShearY*u,f=this.bones;for(let u=0,g=f.length;u<g;u++){let g=f[u];if(0!=t){let e=g.a,i=g.b,r=g.c,s=g.d,a=Math.atan2(c,l)+p;a>nd.PI?a-=nd.PI2:a<-nd.PI&&(a+=nd.PI2),a*=t;let n=Math.cos(a),o=Math.sin(a);g.a=n*e-o*r,g.b=n*i-o*s,g.c=o*e+n*r,g.d=o*i+n*s}if(n){let t=this.temp;o.localToWorld(t.set(this.data.offsetX,this.data.offsetY)),g.worldX+=t.x*e,g.worldY+=t.y*i}if(0!=r){let t=(Math.sqrt(l*l+c*c)-1+this.data.offsetScaleX)*r+1;g.a*=t,g.c*=t}if(0!=s){let t=(Math.sqrt(h*h+d*d)-1+this.data.offsetScaleY)*s+1;g.b*=t,g.d*=t}if(a>0){let t=Math.atan2(d,h)-Math.atan2(c,l);t>nd.PI?t-=nd.PI2:t<-nd.PI&&(t+=nd.PI2);let e=g.b,i=g.d;t=Math.atan2(i,e)+(t-nd.PI/2+m)*a;let r=Math.sqrt(e*e+i*i);g.b=Math.cos(t)*r,g.d=Math.sin(t)*r}g.updateAppliedTransform()}}applyAbsoluteLocal(){let t=this.mixRotate,e=this.mixX,i=this.mixY,r=this.mixScaleX,s=this.mixScaleY,a=this.mixShearY,n=this.target,o=this.bones;for(let l=0,h=o.length;l<h;l++){let h=o[l],c=h.arotation;0!=t&&(c+=(n.arotation-c+this.data.offsetRotation)*t);let d=h.ax,u=h.ay;d+=(n.ax-d+this.data.offsetX)*e,u+=(n.ay-u+this.data.offsetY)*i;let p=h.ascaleX,m=h.ascaleY;0!=r&&0!=p&&(p=(p+(n.ascaleX-p+this.data.offsetScaleX)*r)/p),0!=s&&0!=m&&(m=(m+(n.ascaleY-m+this.data.offsetScaleY)*s)/m);let f=h.ashearY;0!=a&&(f+=(n.ashearY-f+this.data.offsetShearY)*a),h.updateWorldTransformWith(d,u,c,p,m,h.ashearX,f)}}applyRelativeLocal(){let t=this.mixRotate,e=this.mixX,i=this.mixY,r=this.mixScaleX,s=this.mixScaleY,a=this.mixShearY,n=this.target,o=this.bones;for(let l=0,h=o.length;l<h;l++){let h=o[l],c=h.arotation+(n.arotation+this.data.offsetRotation)*t,d=h.ax+(n.ax+this.data.offsetX)*e,u=h.ay+(n.ay+this.data.offsetY)*i,p=h.ascaleX*((n.ascaleX-1+this.data.offsetScaleX)*r+1),m=h.ascaleY*((n.ascaleY-1+this.data.offsetScaleY)*s+1),f=h.ashearY+(n.ashearY+this.data.offsetShearY)*a;h.updateWorldTransformWith(d,u,c,p,m,h.ashearX,f)}}}class qu{static quadTriangles=[0,1,2,2,3,0];static yDown=!1;data;bones;slots;drawOrder;ikConstraints;transformConstraints;pathConstraints;physicsConstraints;_updateCache=new Array;skin=null;color;scaleX=1;_scaleY=1;get scaleY(){return qu.yDown?-this._scaleY:this._scaleY}set scaleY(t){this._scaleY=t}x=0;y=0;time=0;constructor(t){if(!t)throw new Error("data cannot be null.");this.data=t,this.bones=new Array;for(let e=0;e<t.bones.length;e++){let i,r=t.bones[e];if(r.parent){let t=this.bones[r.parent.index];i=new Wu(r,this,t),t.children.push(i)}else i=new Wu(r,this,null);this.bones.push(i)}this.slots=new Array,this.drawOrder=new Array;for(let e=0;e<t.slots.length;e++){let i=t.slots[e],r=this.bones[i.boneData.index],s=new Gu(i,r);this.slots.push(s),this.drawOrder.push(s)}this.ikConstraints=new Array;for(let e=0;e<t.ikConstraints.length;e++){let i=t.ikConstraints[e];this.ikConstraints.push(new Vu(i,this))}this.transformConstraints=new Array;for(let e=0;e<t.transformConstraints.length;e++){let i=t.transformConstraints[e];this.transformConstraints.push(new ju(i,this))}this.pathConstraints=new Array;for(let e=0;e<t.pathConstraints.length;e++){let i=t.pathConstraints[e];this.pathConstraints.push(new Xu(i,this))}this.physicsConstraints=new Array;for(let e=0;e<t.physicsConstraints.length;e++){let i=t.physicsConstraints[e];this.physicsConstraints.push(new Uu(i,this))}this.color=new ad(1,1,1,1),this.updateCache()}updateCache(){this._updateCache.length=0;let t=this.bones;for(let e=0,i=t.length;e<i;e++){let i=t[e];i.sorted=i.data.skinRequired,i.active=!i.sorted}if(this.skin){let t=this.skin.bones;for(let e=0,i=this.skin.bones.length;e<i;e++){let i=this.bones[t[e].index];do{i.sorted=!1,i.active=!0,i=i.parent}while(i)}}let e=this.ikConstraints,i=this.transformConstraints,r=this.pathConstraints,s=this.physicsConstraints,a=e.length,n=i.length,o=r.length,l=this.physicsConstraints.length,h=a+n+o+l;t:for(let t=0;t<h;t++){for(let i=0;i<a;i++){let r=e[i];if(r.data.order==t){this.sortIkConstraint(r);continue t}}for(let e=0;e<n;e++){let r=i[e];if(r.data.order==t){this.sortTransformConstraint(r);continue t}}for(let e=0;e<o;e++){let i=r[e];if(i.data.order==t){this.sortPathConstraint(i);continue t}}for(let e=0;e<l;e++){const i=s[e];if(i.data.order==t){this.sortPhysicsConstraint(i);continue t}}}for(let e=0,i=t.length;e<i;e++)this.sortBone(t[e])}sortIkConstraint(t){if(t.active=t.target.isActive()&&(!t.data.skinRequired||this.skin&&od.contains(this.skin.constraints,t.data,!0)),!t.active)return;let e=t.target;this.sortBone(e);let i=t.bones,r=i[0];if(this.sortBone(r),1==i.length)this._updateCache.push(t),this.sortReset(r.children);else{let e=i[i.length-1];this.sortBone(e),this._updateCache.push(t),this.sortReset(r.children),e.sorted=!0}}sortPathConstraint(t){if(t.active=t.target.bone.isActive()&&(!t.data.skinRequired||this.skin&&od.contains(this.skin.constraints,t.data,!0)),!t.active)return;let e=t.target,i=e.data.index,r=e.bone;this.skin&&this.sortPathConstraintAttachment(this.skin,i,r),this.data.defaultSkin&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,i,r);for(let t=0,e=this.data.skins.length;t<e;t++)this.sortPathConstraintAttachment(this.data.skins[t],i,r);let s=e.getAttachment();s instanceof Ru&&this.sortPathConstraintAttachmentWith(s,r);let a=t.bones,n=a.length;for(let t=0;t<n;t++)this.sortBone(a[t]);this._updateCache.push(t);for(let t=0;t<n;t++)this.sortReset(a[t].children);for(let t=0;t<n;t++)a[t].sorted=!0}sortTransformConstraint(t){if(t.active=t.target.isActive()&&(!t.data.skinRequired||this.skin&&od.contains(this.skin.constraints,t.data,!0)),!t.active)return;this.sortBone(t.target);let e=t.bones,i=e.length;if(t.data.local)for(let t=0;t<i;t++){let i=e[t];this.sortBone(i.parent),this.sortBone(i)}else for(let t=0;t<i;t++)this.sortBone(e[t]);this._updateCache.push(t);for(let t=0;t<i;t++)this.sortReset(e[t].children);for(let t=0;t<i;t++)e[t].sorted=!0}sortPathConstraintAttachment(t,e,i){let r=t.attachments[e];if(r)for(let t in r)this.sortPathConstraintAttachmentWith(r[t],i)}sortPathConstraintAttachmentWith(t,e){if(!(t instanceof Ru))return;let i=t.bones;if(i){let t=this.bones;for(let e=0,r=i.length;e<r;){let r=i[e++];for(r+=e;e<r;)this.sortBone(t[i[e++]])}}else this.sortBone(e)}sortPhysicsConstraint(t){const e=t.bone;t.active=e.active&&(!t.data.skinRequired||null!=this.skin&&od.contains(this.skin.constraints,t.data,!0)),t.active&&(this.sortBone(e),this._updateCache.push(t),this.sortReset(e.children),e.sorted=!0)}sortBone(t){if(!t)return;if(t.sorted)return;let e=t.parent;e&&this.sortBone(e),t.sorted=!0,this._updateCache.push(t)}sortReset(t){for(let e=0,i=t.length;e<i;e++){let i=t[e];i.active&&(i.sorted&&this.sortReset(i.children),i.sorted=!1)}}updateWorldTransform(t){if(null==t)throw new Error("physics is undefined");let e=this.bones;for(let t=0,i=e.length;t<i;t++){let i=e[t];i.ax=i.x,i.ay=i.y,i.arotation=i.rotation,i.ascaleX=i.scaleX,i.ascaleY=i.scaleY,i.ashearX=i.shearX,i.ashearY=i.shearY}let i=this._updateCache;for(let e=0,r=i.length;e<r;e++)i[e].update(t)}updateWorldTransformWith(t,e){if(!e)throw new Error("parent cannot be null.");let i=this.bones;for(let t=1,e=i.length;t<e;t++){let e=i[t];e.ax=e.x,e.ay=e.y,e.arotation=e.rotation,e.ascaleX=e.scaleX,e.ascaleY=e.scaleY,e.ashearX=e.shearX,e.ashearY=e.shearY}let r=this.getRootBone();if(!r)throw new Error("Root bone must not be null.");let s=e.a,a=e.b,n=e.c,o=e.d;r.worldX=s*this.x+a*this.y+e.worldX,r.worldY=n*this.x+o*this.y+e.worldY;const l=(r.rotation+r.shearX)*nd.degRad,h=(r.rotation+90+r.shearY)*nd.degRad,c=Math.cos(l)*r.scaleX,d=Math.cos(h)*r.scaleY,u=Math.sin(l)*r.scaleX,p=Math.sin(h)*r.scaleY;r.a=(s*c+a*u)*this.scaleX,r.b=(s*d+a*p)*this.scaleX,r.c=(n*c+o*u)*this.scaleY,r.d=(n*d+o*p)*this.scaleY;let m=this._updateCache;for(let e=0,i=m.length;e<i;e++){let i=m[e];i!=r&&i.update(t)}}setToSetupPose(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()}setBonesToSetupPose(){for(const t of this.bones)t.setToSetupPose();for(const t of this.ikConstraints)t.setToSetupPose();for(const t of this.transformConstraints)t.setToSetupPose();for(const t of this.pathConstraints)t.setToSetupPose();for(const t of this.physicsConstraints)t.setToSetupPose()}setSlotsToSetupPose(){let t=this.slots;od.arrayCopy(t,0,this.drawOrder,0,t.length);for(let e=0,i=t.length;e<i;e++)t[e].setToSetupPose()}getRootBone(){return 0==this.bones.length?null:this.bones[0]}findBone(t){if(!t)throw new Error("boneName cannot be null.");let e=this.bones;for(let i=0,r=e.length;i<r;i++){let r=e[i];if(r.data.name==t)return r}return null}findSlot(t){if(!t)throw new Error("slotName cannot be null.");let e=this.slots;for(let i=0,r=e.length;i<r;i++){let r=e[i];if(r.data.name==t)return r}return null}setSkinByName(t){let e=this.data.findSkin(t);if(!e)throw new Error("Skin not found: "+t);this.setSkin(e)}setSkin(t){if(t!=this.skin){if(t)if(this.skin)t.attachAll(this,this.skin);else{let e=this.slots;for(let i=0,r=e.length;i<r;i++){let r=e[i],s=r.data.attachmentName;if(s){let e=t.getAttachment(i,s);e&&r.setAttachment(e)}}}this.skin=t,this.updateCache()}}getAttachmentByName(t,e){let i=this.data.findSlot(t);if(!i)throw new Error(`Can't find slot with name ${t}`);return this.getAttachment(i.index,e)}getAttachment(t,e){if(!e)throw new Error("attachmentName cannot be null.");if(this.skin){let i=this.skin.getAttachment(t,e);if(i)return i}return this.data.defaultSkin?this.data.defaultSkin.getAttachment(t,e):null}setAttachment(t,e){if(!t)throw new Error("slotName cannot be null.");let i=this.slots;for(let r=0,s=i.length;r<s;r++){let s=i[r];if(s.data.name==t){let i=null;if(e&&(i=this.getAttachment(r,e),!i))throw new Error("Attachment not found: "+e+", for slot: "+t);return void s.setAttachment(i)}}throw new Error("Slot not found: "+t)}findIkConstraint(t){if(!t)throw new Error("constraintName cannot be null.");return this.ikConstraints.find(e=>e.data.name==t)??null}findTransformConstraint(t){if(!t)throw new Error("constraintName cannot be null.");return this.transformConstraints.find(e=>e.data.name==t)??null}findPathConstraint(t){if(!t)throw new Error("constraintName cannot be null.");return this.pathConstraints.find(e=>e.data.name==t)??null}findPhysicsConstraint(t){if(null==t)throw new Error("constraintName cannot be null.");return this.physicsConstraints.find(e=>e.data.name==t)??null}getBoundsRect(t){let e=new hd,i=new hd;return this.getBounds(e,i,void 0,t),{x:e.x,y:e.y,width:i.x,height:i.y}}getBounds(t,e,i=new Array(2),r=null){if(!t)throw new Error("offset cannot be null.");if(!e)throw new Error("size cannot be null.");let s=this.drawOrder,a=Number.POSITIVE_INFINITY,n=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY,l=Number.NEGATIVE_INFINITY;for(let t=0,e=s.length;t<e;t++){let e=s[t];if(!e.bone.active)continue;let h=0,c=null,d=null,u=e.getAttachment();if(u instanceof Fu)h=8,c=od.setArraySize(i,h,0),u.computeWorldVertices(e,c,0,2),d=qu.quadTriangles;else if(u instanceof $u){let t=u;h=t.worldVerticesLength,c=od.setArraySize(i,h,0),t.computeWorldVertices(e,0,h,c,0,2),d=t.triangles}else if(u instanceof bu&&null!=r){r.clipStart(e,u);continue}if(c&&d){null!=r&&r.isClipping()&&(r.clipTriangles(c,d,d.length),c=r.clippedVertices,h=r.clippedVertices.length);for(let t=0,e=c.length;t<e;t+=2){let e=c[t],i=c[t+1];a=Math.min(a,e),n=Math.min(n,i),o=Math.max(o,e),l=Math.max(l,i)}}null!=r&&r.clipEndWithSlot(e)}null!=r&&r.clipEnd(),t.set(a,n),e.set(o-a,l-n)}update(t){this.time+=t}physicsTranslate(t,e){const i=this.physicsConstraints;for(let r=0,s=i.length;r<s;r++)i[r].translate(t,e)}physicsRotate(t,e,i){const r=this.physicsConstraints;for(let s=0,a=r.length;s<a;s++)r[s].rotate(t,e,i)}}(Mu=Cu||(Cu={}))[Mu.none=0]="none",Mu[Mu.reset=1]="reset",Mu[Mu.update=2]="update",Mu[Mu.pose=3]="pose";class Ku{data;intValue=0;floatValue=0;stringValue=null;time=0;volume=0;balance=0;constructor(t,e){if(!e)throw new Error("data cannot be null.");this.time=t,this.data=e}}class Zu{name;intValue=0;floatValue=0;stringValue=null;audioPath=null;volume=0;balance=0;constructor(t){this.name=t}}class Qu extends Hu{_bone=null;set bone(t){this._bone=t}get bone(){if(this._bone)return this._bone;throw new Error("BoneData not set.")}x=0;y=0;rotate=0;scaleX=0;shearX=0;limit=0;step=0;inertia=0;strength=0;damping=0;massInverse=0;wind=0;gravity=0;mix=0;inertiaGlobal=!1;strengthGlobal=!1;dampingGlobal=!1;massGlobal=!1;windGlobal=!1;gravityGlobal=!1;mixGlobal=!1;constructor(t){super(t,0,!1)}}class Ju{name=null;bones=new Array;slots=new Array;skins=new Array;defaultSkin=null;events=new Array;animations=new Array;ikConstraints=new Array;transformConstraints=new Array;pathConstraints=new Array;physicsConstraints=new Array;x=0;y=0;width=0;height=0;referenceScale=100;version=null;hash=null;fps=0;imagesPath=null;audioPath=null;findBone(t){if(!t)throw new Error("boneName cannot be null.");let e=this.bones;for(let i=0,r=e.length;i<r;i++){let r=e[i];if(r.name==t)return r}return null}findSlot(t){if(!t)throw new Error("slotName cannot be null.");let e=this.slots;for(let i=0,r=e.length;i<r;i++){let r=e[i];if(r.name==t)return r}return null}findSkin(t){if(!t)throw new Error("skinName cannot be null.");let e=this.skins;for(let i=0,r=e.length;i<r;i++){let r=e[i];if(r.name==t)return r}return null}findEvent(t){if(!t)throw new Error("eventDataName cannot be null.");let e=this.events;for(let i=0,r=e.length;i<r;i++){let r=e[i];if(r.name==t)return r}return null}findAnimation(t){if(!t)throw new Error("animationName cannot be null.");let e=this.animations;for(let i=0,r=e.length;i<r;i++){let r=e[i];if(r.name==t)return r}return null}findIkConstraint(t){if(!t)throw new Error("constraintName cannot be null.");const e=this.ikConstraints;for(let i=0,r=e.length;i<r;i++){const r=e[i];if(r.name==t)return r}return null}findTransformConstraint(t){if(!t)throw new Error("constraintName cannot be null.");const e=this.transformConstraints;for(let i=0,r=e.length;i<r;i++){const r=e[i];if(r.name==t)return r}return null}findPathConstraint(t){if(!t)throw new Error("constraintName cannot be null.");const e=this.pathConstraints;for(let i=0,r=e.length;i<r;i++){const r=e[i];if(r.name==t)return r}return null}findPhysicsConstraint(t){if(!t)throw new Error("constraintName cannot be null.");const e=this.physicsConstraints;for(let i=0,r=e.length;i<r;i++){const r=e[i];if(r.name==t)return r}return null}}class tp{slotIndex;name;attachment;constructor(t=0,e,i){this.slotIndex=t,this.name=e,this.attachment=i}}class ep{name;attachments=new Array;bones=Array();constraints=new Array;color=new ad(.99607843,.61960787,.30980393,1);constructor(t){if(!t)throw new Error("name cannot be null.");this.name=t}setAttachment(t,e,i){if(!i)throw new Error("attachment cannot be null.");let r=this.attachments;t>=r.length&&(r.length=t+1),r[t]||(r[t]={}),r[t][e]=i}addSkin(t){for(let e=0;e<t.bones.length;e++){let i=t.bones[e],r=!1;for(let t=0;t<this.bones.length;t++)if(this.bones[t]==i){r=!0;break}r||this.bones.push(i)}for(let e=0;e<t.constraints.length;e++){let i=t.constraints[e],r=!1;for(let t=0;t<this.constraints.length;t++)if(this.constraints[t]==i){r=!0;break}r||this.constraints.push(i)}let e=t.getAttachments();for(let t=0;t<e.length;t++){var i=e[t];this.setAttachment(i.slotIndex,i.name,i.attachment)}}copySkin(t){for(let e=0;e<t.bones.length;e++){let i=t.bones[e],r=!1;for(let t=0;t<this.bones.length;t++)if(this.bones[t]==i){r=!0;break}r||this.bones.push(i)}for(let e=0;e<t.constraints.length;e++){let i=t.constraints[e],r=!1;for(let t=0;t<this.constraints.length;t++)if(this.constraints[t]==i){r=!0;break}r||this.constraints.push(i)}let e=t.getAttachments();for(let t=0;t<e.length;t++){var i=e[t];i.attachment&&(i.attachment instanceof $u?(i.attachment=i.attachment.newLinkedMesh(),this.setAttachment(i.slotIndex,i.name,i.attachment)):(i.attachment=i.attachment.copy(),this.setAttachment(i.slotIndex,i.name,i.attachment)))}}getAttachment(t,e){let i=this.attachments[t];return i?i[e]:null}removeAttachment(t,e){let i=this.attachments[t];i&&delete i[e]}getAttachments(){let t=new Array;for(var e=0;e<this.attachments.length;e++){let i=this.attachments[e];if(i)for(let r in i){let s=i[r];s&&t.push(new tp(e,r,s))}}return t}getAttachmentsForSlot(t,e){let i=this.attachments[t];if(i)for(let r in i){let s=i[r];s&&e.push(new tp(t,r,s))}}clear(){this.attachments.length=0,this.bones.length=0,this.constraints.length=0}attachAll(t,e){let i=0;for(let r=0;r<t.slots.length;r++){let s=t.slots[r],a=s.getAttachment();if(a&&i<e.attachments.length){let t=e.attachments[i];for(let e in t)if(a==t[e]){let t=this.getAttachment(i,e);t&&s.setAttachment(t);break}}i++}}}class ip{index=0;name;boneData;color=new ad(1,1,1,1);darkColor=null;attachmentName=null;blendMode=Au.Normal;visible=!0;constructor(t,e,i){if(t<0)throw new Error("index must be >= 0.");if(!e)throw new Error("name cannot be null.");if(!i)throw new Error("boneData cannot be null.");this.index=t,this.name=e,this.boneData=i}}!function(t){t[t.Normal=0]="Normal",t[t.Additive=1]="Additive",t[t.Multiply=2]="Multiply",t[t.Screen=3]="Screen"}(Au||(Au={}));class rp extends Hu{bones=new Array;_target=null;set target(t){this._target=t}get target(){if(this._target)return this._target;throw new Error("BoneData not set.")}mixRotate=0;mixX=0;mixY=0;mixScaleX=0;mixScaleY=0;mixShearY=0;offsetRotation=0;offsetX=0;offsetY=0;offsetScaleX=0;offsetScaleY=0;offsetShearY=0;relative=!1;local=!1;constructor(t){super(t,0,!1)}}class sp{scale=1;attachmentLoader;linkedMeshes=new Array;constructor(t){this.attachmentLoader=t}readSkeletonData(t){let e=this.scale,i=new Ju;i.name="";let r=new ap(t),s=r.readInt32(),a=r.readInt32();i.hash=0==a&&0==s?null:a.toString(16)+s.toString(16),i.version=r.readString(),i.x=r.readFloat(),i.y=r.readFloat(),i.width=r.readFloat(),i.height=r.readFloat(),i.referenceScale=r.readFloat()*e;let n=r.readBoolean();n&&(i.fps=r.readFloat(),i.imagesPath=r.readString(),i.audioPath=r.readString());let o=0;o=r.readInt(!0);for(let t=0;t<o;t++){let t=r.readString();if(!t)throw new Error("String in string table must not be null.");r.strings.push(t)}o=r.readInt(!0);for(let t=0;t<o;t++){let s=r.readString();if(!s)throw new Error("Bone name must not be null.");let a=0==t?null:i.bones[r.readInt(!0)],o=new Du(t,s,a);o.rotation=r.readFloat(),o.x=r.readFloat()*e,o.y=r.readFloat()*e,o.scaleX=r.readFloat(),o.scaleY=r.readFloat(),o.shearX=r.readFloat(),o.shearY=r.readFloat(),o.length=r.readFloat()*e,o.inherit=r.readByte(),o.skinRequired=r.readBoolean(),n&&(ad.rgba8888ToColor(o.color,r.readInt32()),o.icon=r.readString()??void 0,o.visible=r.readBoolean()),i.bones.push(o)}o=r.readInt(!0);for(let t=0;t<o;t++){let e=r.readString();if(!e)throw new Error("Slot name must not be null.");let s=i.bones[r.readInt(!0)],a=new ip(t,e,s);ad.rgba8888ToColor(a.color,r.readInt32());let o=r.readInt32();-1!=o&&ad.rgb888ToColor(a.darkColor=new ad,o),a.attachmentName=r.readStringRef(),a.blendMode=r.readInt(!0),n&&(a.visible=r.readBoolean()),i.slots.push(a)}o=r.readInt(!0);for(let t,s=0;s<o;s++){let s=r.readString();if(!s)throw new Error("IK constraint data name must not be null.");let a=new Nu(s);a.order=r.readInt(!0),t=r.readInt(!0);for(let e=0;e<t;e++)a.bones.push(i.bones[r.readInt(!0)]);a.target=i.bones[r.readInt(!0)];let n=r.readByte();a.skinRequired=!!(1&n),a.bendDirection=2&n?1:-1,a.compress=!!(4&n),a.stretch=!!(8&n),a.uniform=!!(16&n),32&n&&(a.mix=64&n?r.readFloat():1),128&n&&(a.softness=r.readFloat()*e),i.ikConstraints.push(a)}o=r.readInt(!0);for(let t,s=0;s<o;s++){let s=r.readString();if(!s)throw new Error("Transform constraint data name must not be null.");let a=new rp(s);a.order=r.readInt(!0),t=r.readInt(!0);for(let e=0;e<t;e++)a.bones.push(i.bones[r.readInt(!0)]);a.target=i.bones[r.readInt(!0)];let n=r.readByte();a.skinRequired=!!(1&n),a.local=!!(2&n),a.relative=!!(4&n),8&n&&(a.offsetRotation=r.readFloat()),16&n&&(a.offsetX=r.readFloat()*e),32&n&&(a.offsetY=r.readFloat()*e),64&n&&(a.offsetScaleX=r.readFloat()),128&n&&(a.offsetScaleY=r.readFloat()),n=r.readByte(),1&n&&(a.offsetShearY=r.readFloat()),2&n&&(a.mixRotate=r.readFloat()),4&n&&(a.mixX=r.readFloat()),8&n&&(a.mixY=r.readFloat()),16&n&&(a.mixScaleX=r.readFloat()),32&n&&(a.mixScaleY=r.readFloat()),64&n&&(a.mixShearY=r.readFloat()),i.transformConstraints.push(a)}o=r.readInt(!0);for(let t,s=0;s<o;s++){let s=r.readString();if(!s)throw new Error("Path constraint data name must not be null.");let a=new Yu(s);a.order=r.readInt(!0),a.skinRequired=r.readBoolean(),t=r.readInt(!0);for(let e=0;e<t;e++)a.bones.push(i.bones[r.readInt(!0)]);a.target=i.slots[r.readInt(!0)];const n=r.readByte();a.positionMode=1&n,a.spacingMode=n>>1&3,a.rotateMode=n>>3&3,128&n&&(a.offsetRotation=r.readFloat()),a.position=r.readFloat(),a.positionMode==_u.Fixed&&(a.position*=e),a.spacing=r.readFloat(),a.spacingMode!=ku.Length&&a.spacingMode!=ku.Fixed||(a.spacing*=e),a.mixRotate=r.readFloat(),a.mixX=r.readFloat(),a.mixY=r.readFloat(),i.pathConstraints.push(a)}o=r.readInt(!0);for(let t=0;t<o;t++){const t=r.readString();if(!t)throw new Error("Physics constraint data name must not be null.");const s=new Qu(t);s.order=r.readInt(!0),s.bone=i.bones[r.readInt(!0)];let a=r.readByte();s.skinRequired=!!(1&a),2&a&&(s.x=r.readFloat()),4&a&&(s.y=r.readFloat()),8&a&&(s.rotate=r.readFloat()),16&a&&(s.scaleX=r.readFloat()),32&a&&(s.shearX=r.readFloat()),s.limit=(64&a?r.readFloat():5e3)*e,s.step=1/r.readUnsignedByte(),s.inertia=r.readFloat(),s.strength=r.readFloat(),s.damping=r.readFloat(),s.massInverse=128&a?r.readFloat():1,s.wind=r.readFloat(),s.gravity=r.readFloat(),a=r.readByte(),1&a&&(s.inertiaGlobal=!0),2&a&&(s.strengthGlobal=!0),4&a&&(s.dampingGlobal=!0),8&a&&(s.massGlobal=!0),16&a&&(s.windGlobal=!0),32&a&&(s.gravityGlobal=!0),64&a&&(s.mixGlobal=!0),s.mix=128&a?r.readFloat():1,i.physicsConstraints.push(s)}let l=this.readSkin(r,i,!0,n);l&&(i.defaultSkin=l,i.skins.push(l));{let t=i.skins.length;for(od.setArraySize(i.skins,o=t+r.readInt(!0));t<o;t++){let e=this.readSkin(r,i,!1,n);if(!e)throw new Error("readSkin() should not have returned null.");i.skins[t]=e}}o=this.linkedMeshes.length;for(let t=0;t<o;t++){let e=this.linkedMeshes[t];const r=i.skins[e.skinIndex];if(!e.parent)throw new Error("Linked mesh parent must not be null");let s=r.getAttachment(e.slotIndex,e.parent);if(!s)throw new Error(`Parent mesh not found: ${e.parent}`);e.mesh.timelineAttachment=e.inheritTimeline?s:e.mesh,e.mesh.setParentMesh(s),null!=e.mesh.region&&e.mesh.updateRegion()}this.linkedMeshes.length=0,o=r.readInt(!0);for(let t=0;t<o;t++){let t=r.readString();if(!t)throw new Error("Event data name must not be null");let e=new Zu(t);e.intValue=r.readInt(!1),e.floatValue=r.readFloat(),e.stringValue=r.readString(),e.audioPath=r.readString(),e.audioPath&&(e.volume=r.readFloat(),e.balance=r.readFloat()),i.events.push(e)}o=r.readInt(!0);for(let t=0;t<o;t++){let t=r.readString();if(!t)throw new Error("Animatio name must not be null.");i.animations.push(this.readAnimation(r,t,i))}return i}readSkin(t,e,i,r){let s=null,a=0;if(i){if(a=t.readInt(!0),0==a)return null;s=new ep("default")}else{let i=t.readString();if(!i)throw new Error("Skin name must not be null.");s=new ep(i),r&&ad.rgba8888ToColor(s.color,t.readInt32()),s.bones.length=t.readInt(!0);for(let i=0,r=s.bones.length;i<r;i++)s.bones[i]=e.bones[t.readInt(!0)];for(let i=0,r=t.readInt(!0);i<r;i++)s.constraints.push(e.ikConstraints[t.readInt(!0)]);for(let i=0,r=t.readInt(!0);i<r;i++)s.constraints.push(e.transformConstraints[t.readInt(!0)]);for(let i=0,r=t.readInt(!0);i<r;i++)s.constraints.push(e.pathConstraints[t.readInt(!0)]);for(let i=0,r=t.readInt(!0);i<r;i++)s.constraints.push(e.physicsConstraints[t.readInt(!0)]);a=t.readInt(!0)}for(let i=0;i<a;i++){let i=t.readInt(!0);for(let a=0,n=t.readInt(!0);a<n;a++){let a=t.readStringRef();if(!a)throw new Error("Attachment name must not be null");let n=this.readAttachment(t,e,s,i,a,r);n&&s.setAttachment(i,a,n)}}return s}readAttachment(t,e,i,r,s,a){let n=this.scale,o=t.readByte();const l=8&o?t.readStringRef():s;if(!l)throw new Error("Attachment name must not be null");switch(7&o){case Tu.Region:{let e=16&o?t.readStringRef():null;const r=32&o?t.readInt32():4294967295,s=64&o?this.readSequence(t):null;let a=128&o?t.readFloat():0,h=t.readFloat(),c=t.readFloat(),d=t.readFloat(),u=t.readFloat(),p=t.readFloat(),m=t.readFloat();e||(e=l);let f=this.attachmentLoader.newRegionAttachment(i,l,e,s);return f?(f.path=e,f.x=h*n,f.y=c*n,f.scaleX=d,f.scaleY=u,f.rotation=a,f.width=p*n,f.height=m*n,ad.rgba8888ToColor(f.color,r),f.sequence=s,null==s&&f.updateRegion(),f):null}case Tu.BoundingBox:{let e=this.readVertices(t,!!(16&o)),r=a?t.readInt32():0,s=this.attachmentLoader.newBoundingBoxAttachment(i,l);return s?(s.worldVerticesLength=e.length,s.vertices=e.vertices,s.bones=e.bones,a&&ad.rgba8888ToColor(s.color,r),s):null}case Tu.Mesh:{let e=16&o?t.readStringRef():l;const r=32&o?t.readInt32():4294967295,s=64&o?this.readSequence(t):null,h=t.readInt(!0),c=this.readVertices(t,!!(128&o)),d=this.readFloatArray(t,c.length,1),u=this.readShortArray(t,3*(c.length-h-2));let p=[],m=0,f=0;a&&(p=this.readShortArray(t,t.readInt(!0)),m=t.readFloat(),f=t.readFloat()),e||(e=l);let g=this.attachmentLoader.newMeshAttachment(i,l,e,s);return g?(g.path=e,ad.rgba8888ToColor(g.color,r),g.bones=c.bones,g.vertices=c.vertices,g.worldVerticesLength=c.length,g.triangles=u,g.regionUVs=d,null==s&&g.updateRegion(),g.hullLength=h<<1,g.sequence=s,a&&(g.edges=p,g.width=m*n,g.height=f*n),g):null}case Tu.LinkedMesh:{const e=16&o?t.readStringRef():l;if(null==e)throw new Error("Path of linked mesh must not be null");const s=32&o?t.readInt32():4294967295,h=64&o?this.readSequence(t):null,c=!!(128&o),d=t.readInt(!0),u=t.readStringRef();let p=0,m=0;a&&(p=t.readFloat(),m=t.readFloat());let f=this.attachmentLoader.newMeshAttachment(i,l,e,h);return f?(f.path=e,ad.rgba8888ToColor(f.color,s),f.sequence=h,a&&(f.width=p*n,f.height=m*n),this.linkedMeshes.push(new np(f,d,r,u,c)),f):null}case Tu.Path:{const e=!!(16&o),r=!!(32&o),s=this.readVertices(t,!!(64&o)),h=od.newArray(s.length/6,0);for(let e=0,i=h.length;e<i;e++)h[e]=t.readFloat()*n;const c=a?t.readInt32():0,d=this.attachmentLoader.newPathAttachment(i,l);return d?(d.closed=e,d.constantSpeed=r,d.worldVerticesLength=s.length,d.vertices=s.vertices,d.bones=s.bones,d.lengths=h,a&&ad.rgba8888ToColor(d.color,c),d):null}case Tu.Point:{const e=t.readFloat(),r=t.readFloat(),s=t.readFloat(),o=a?t.readInt32():0,h=this.attachmentLoader.newPointAttachment(i,l);return h?(h.x=r*n,h.y=s*n,h.rotation=e,a&&ad.rgba8888ToColor(h.color,o),h):null}case Tu.Clipping:{const r=t.readInt(!0),s=this.readVertices(t,!!(16&o));let n=a?t.readInt32():0,h=this.attachmentLoader.newClippingAttachment(i,l);return h?(h.endSlot=e.slots[r],h.worldVerticesLength=s.length,h.vertices=s.vertices,h.bones=s.bones,a&&ad.rgba8888ToColor(h.color,n),h):null}}return null}readSequence(t){let e=new ud(t.readInt(!0));return e.start=t.readInt(!0),e.digits=t.readInt(!0),e.setupIndex=t.readInt(!0),e}readVertices(t,e){const i=this.scale,r=t.readInt(!0),s=new op;if(s.length=r<<1,!e)return s.vertices=this.readFloatArray(t,s.length,i),s;let a=new Array,n=new Array;for(let e=0;e<r;e++){let e=t.readInt(!0);n.push(e);for(let r=0;r<e;r++)n.push(t.readInt(!0)),a.push(t.readFloat()*i),a.push(t.readFloat()*i),a.push(t.readFloat())}return s.vertices=od.toFloatArray(a),s.bones=n,s}readFloatArray(t,e,i){let r=new Array(e);if(1==i)for(let i=0;i<e;i++)r[i]=t.readFloat();else for(let s=0;s<e;s++)r[s]=t.readFloat()*i;return r}readShortArray(t,e){let i=new Array(e);for(let r=0;r<e;r++)i[r]=t.readInt(!0);return i}readAnimation(t,e,i){t.readInt(!0);let r=new Array,s=this.scale;for(let e=0,i=t.readInt(!0);e<i;e++){let e=t.readInt(!0);for(let i=0,s=t.readInt(!0);i<s;i++){let i=t.readByte(),s=t.readInt(!0),a=s-1;switch(i){case _p:{let i=new Dd(s,e);for(let e=0;e<s;e++)i.setFrame(e,t.readFloat(),t.readStringRef());r.push(i);break}case kp:{let i=t.readInt(!0),n=new $d(s,i,e),o=t.readFloat(),l=t.readUnsignedByte()/255,h=t.readUnsignedByte()/255,c=t.readUnsignedByte()/255,d=t.readUnsignedByte()/255;for(let e=0,i=0;n.setFrame(e,o,l,h,c,d),e!=a;e++){let r=t.readFloat(),s=t.readUnsignedByte()/255,a=t.readUnsignedByte()/255,u=t.readUnsignedByte()/255,p=t.readUnsignedByte()/255;switch(t.readByte()){case Vp:n.setStepped(e);break;case Hp:cp(t,n,i++,e,0,o,r,l,s,1),cp(t,n,i++,e,1,o,r,h,a,1),cp(t,n,i++,e,2,o,r,c,u,1),cp(t,n,i++,e,3,o,r,d,p,1)}o=r,l=s,h=a,c=u,d=p}r.push(n);break}case Sp:{let i=t.readInt(!0),n=new Rd(s,i,e),o=t.readFloat(),l=t.readUnsignedByte()/255,h=t.readUnsignedByte()/255,c=t.readUnsignedByte()/255;for(let e=0,i=0;n.setFrame(e,o,l,h,c),e!=a;e++){let r=t.readFloat(),s=t.readUnsignedByte()/255,a=t.readUnsignedByte()/255,d=t.readUnsignedByte()/255;switch(t.readByte()){case Vp:n.setStepped(e);break;case Hp:cp(t,n,i++,e,0,o,r,l,s,1),cp(t,n,i++,e,1,o,r,h,a,1),cp(t,n,i++,e,2,o,r,c,d,1)}o=r,l=s,h=a,c=d}r.push(n);break}case Cp:{let i=t.readInt(!0),n=new Fd(s,i,e),o=t.readFloat(),l=t.readUnsignedByte()/255,h=t.readUnsignedByte()/255,c=t.readUnsignedByte()/255,d=t.readUnsignedByte()/255,u=t.readUnsignedByte()/255,p=t.readUnsignedByte()/255,m=t.readUnsignedByte()/255;for(let e=0,i=0;n.setFrame(e,o,l,h,c,d,u,p,m),e!=a;e++){let r=t.readFloat(),s=t.readUnsignedByte()/255,a=t.readUnsignedByte()/255,f=t.readUnsignedByte()/255,g=t.readUnsignedByte()/255,b=t.readUnsignedByte()/255,y=t.readUnsignedByte()/255,v=t.readUnsignedByte()/255;switch(t.readByte()){case Vp:n.setStepped(e);break;case Hp:cp(t,n,i++,e,0,o,r,l,s,1),cp(t,n,i++,e,1,o,r,h,a,1),cp(t,n,i++,e,2,o,r,c,f,1),cp(t,n,i++,e,3,o,r,d,g,1),cp(t,n,i++,e,4,o,r,u,b,1),cp(t,n,i++,e,5,o,r,p,y,1),cp(t,n,i++,e,6,o,r,m,v,1)}o=r,l=s,h=a,c=f,d=g,u=b,p=y,m=v}r.push(n);break}case Ap:{let i=t.readInt(!0),n=new Ld(s,i,e),o=t.readFloat(),l=t.readUnsignedByte()/255,h=t.readUnsignedByte()/255,c=t.readUnsignedByte()/255,d=t.readUnsignedByte()/255,u=t.readUnsignedByte()/255,p=t.readUnsignedByte()/255;for(let e=0,i=0;n.setFrame(e,o,l,h,c,d,u,p),e!=a;e++){let r=t.readFloat(),s=t.readUnsignedByte()/255,a=t.readUnsignedByte()/255,m=t.readUnsignedByte()/255,f=t.readUnsignedByte()/255,g=t.readUnsignedByte()/255,b=t.readUnsignedByte()/255;switch(t.readByte()){case Vp:n.setStepped(e);break;case Hp:cp(t,n,i++,e,0,o,r,l,s,1),cp(t,n,i++,e,1,o,r,h,a,1),cp(t,n,i++,e,2,o,r,c,m,1),cp(t,n,i++,e,3,o,r,d,f,1),cp(t,n,i++,e,4,o,r,u,g,1),cp(t,n,i++,e,5,o,r,p,b,1)}o=r,l=s,h=a,c=m,d=f,u=g,p=b}r.push(n);break}case Tp:{let i=new zd(s,t.readInt(!0),e),n=t.readFloat(),o=t.readUnsignedByte()/255;for(let e=0,r=0;i.setFrame(e,n,o),e!=a;e++){let s=t.readFloat(),a=t.readUnsignedByte()/255;switch(t.readByte()){case Vp:i.setStepped(e);break;case Hp:cp(t,i,r++,e,0,n,s,o,a,1)}n=s,o=a}r.push(i)}}}}for(let e=0,i=t.readInt(!0);e<i;e++){let e=t.readInt(!0);for(let i=0,a=t.readInt(!0);i<a;i++){let i=t.readByte(),a=t.readInt(!0);if(i==wp){let i=new Ed(a,e);for(let e=0;e<a;e++)i.setFrame(e,t.readFloat(),t.readByte());r.push(i);continue}let n=t.readInt(!0);switch(i){case dp:r.push(lp(t,new kd(a,n,e),1));break;case up:r.push(hp(t,new Sd(a,n,e),s));break;case pp:r.push(lp(t,new Cd(a,n,e),s));break;case mp:r.push(lp(t,new Ad(a,n,e),s));break;case fp:r.push(hp(t,new Td(a,n,e),1));break;case gp:r.push(lp(t,new Md(a,n,e),1));break;case bp:r.push(lp(t,new Bd(a,n,e),1));break;case yp:r.push(hp(t,new Pd(a,n,e),1));break;case vp:r.push(lp(t,new Od(a,n,e),1));break;case xp:r.push(lp(t,new Id(a,n,e),1))}}}for(let e=0,i=t.readInt(!0);e<i;e++){let e=t.readInt(!0),i=t.readInt(!0),a=i-1,n=new Nd(i,t.readInt(!0),e),o=t.readByte(),l=t.readFloat(),h=1&o?2&o?t.readFloat():1:0,c=4&o?t.readFloat()*s:0;for(let e=0,i=0;n.setFrame(e,l,h,c,8&o?1:-1,!!(16&o),!!(32&o)),e!=a;e++){o=t.readByte();const r=t.readFloat(),a=1&o?2&o?t.readFloat():1:0,d=4&o?t.readFloat()*s:0;64&o?n.setStepped(e):128&o&&(cp(t,n,i++,e,0,l,r,h,a,1),cp(t,n,i++,e,1,l,r,c,d,s)),l=r,h=a,c=d}r.push(n)}for(let e=0,i=t.readInt(!0);e<i;e++){let e=t.readInt(!0),i=t.readInt(!0),s=i-1,a=new Yd(i,t.readInt(!0),e),n=t.readFloat(),o=t.readFloat(),l=t.readFloat(),h=t.readFloat(),c=t.readFloat(),d=t.readFloat(),u=t.readFloat();for(let e=0,i=0;a.setFrame(e,n,o,l,h,c,d,u),e!=s;e++){let r=t.readFloat(),s=t.readFloat(),p=t.readFloat(),m=t.readFloat(),f=t.readFloat(),g=t.readFloat(),b=t.readFloat();switch(t.readByte()){case Vp:a.setStepped(e);break;case Hp:cp(t,a,i++,e,0,n,r,o,s,1),cp(t,a,i++,e,1,n,r,l,p,1),cp(t,a,i++,e,2,n,r,h,m,1),cp(t,a,i++,e,3,n,r,c,f,1),cp(t,a,i++,e,4,n,r,d,g,1),cp(t,a,i++,e,5,n,r,u,b,1)}n=r,o=s,l=p,h=m,c=f,d=g,u=b}r.push(a)}for(let e=0,a=t.readInt(!0);e<a;e++){let e=t.readInt(!0),a=i.pathConstraints[e];for(let i=0,n=t.readInt(!0);i<n;i++){const i=t.readByte(),n=t.readInt(!0),o=t.readInt(!0);switch(i){case Pp:r.push(lp(t,new Xd(n,o,e),a.positionMode==_u.Fixed?s:1));break;case Op:r.push(lp(t,new Ud(n,o,e),a.spacingMode==ku.Length||a.spacingMode==ku.Fixed?s:1));break;case Ip:let i=new Gd(n,o,e),l=t.readFloat(),h=t.readFloat(),c=t.readFloat(),d=t.readFloat();for(let e=0,r=0,s=i.getFrameCount()-1;i.setFrame(e,l,h,c,d),e!=s;e++){let s=t.readFloat(),a=t.readFloat(),n=t.readFloat(),o=t.readFloat();switch(t.readByte()){case Vp:i.setStepped(e);break;case Hp:cp(t,i,r++,e,0,l,s,h,a,1),cp(t,i,r++,e,1,l,s,c,n,1),cp(t,i,r++,e,2,l,s,d,o,1)}l=s,h=a,c=n,d=o}r.push(i)}}}for(let e=0,i=t.readInt(!0);e<i;e++){const e=t.readInt(!0)-1;for(let i=0,s=t.readInt(!0);i<s;i++){const i=t.readByte(),s=t.readInt(!0);if(i==Wp){const i=new iu(s,e);for(let e=0;e<s;e++)i.setFrame(e,t.readFloat());r.push(i);continue}const a=t.readInt(!0);switch(i){case Ep:r.push(lp(t,new qd(s,a,e),1));break;case $p:r.push(lp(t,new Kd(s,a,e),1));break;case Rp:r.push(lp(t,new Zd(s,a,e),1));break;case zp:r.push(lp(t,new Qd(s,a,e),1));break;case Fp:r.push(lp(t,new Jd(s,a,e),1));break;case Lp:r.push(lp(t,new tu(s,a,e),1));break;case Dp:r.push(lp(t,new eu(s,a,e),1))}}}for(let e=0,a=t.readInt(!0);e<a;e++){let e=i.skins[t.readInt(!0)];for(let i=0,a=t.readInt(!0);i<a;i++){let i=t.readInt(!0);for(let a=0,n=t.readInt(!0);a<n;a++){let a=t.readStringRef();if(!a)throw new Error("attachmentName must not be null.");let n=e.getAttachment(i,a),o=t.readByte(),l=t.readInt(!0),h=l-1;switch(o){case Mp:{let e=n,a=e.bones,o=e.vertices,c=a?o.length/3*2:o.length,d=t.readInt(!0),u=new Wd(l,d,i,e),p=t.readFloat();for(let e=0,i=0;;e++){let r,n=t.readInt(!0);if(0==n)r=a?od.newFloatArray(c):o;else{r=od.newFloatArray(c);let e=t.readInt(!0);if(n+=e,1==s)for(let i=e;i<n;i++)r[i]=t.readFloat();else for(let i=e;i<n;i++)r[i]=t.readFloat()*s;if(!a)for(let t=0,e=r.length;t<e;t++)r[t]+=o[t]}if(u.setFrame(e,p,r),e==h)break;let l=t.readFloat();switch(t.readByte()){case Vp:u.setStepped(e);break;case Hp:cp(t,u,i++,e,0,p,l,0,1,1)}p=l}r.push(u);break}case Bp:{let e=new ru(l,i,n);for(let i=0;i<l;i++){let r=t.readFloat(),s=t.readInt32();e.setFrame(i,r,md[15&s],s>>4,t.readFloat())}r.push(e);break}}}}}let a=t.readInt(!0);if(a>0){let e=new Hd(a),s=i.slots.length;for(let i=0;i<a;i++){let r=t.readFloat(),a=t.readInt(!0),n=od.newArray(s,0);for(let t=s-1;t>=0;t--)n[t]=-1;let o=od.newArray(s-a,0),l=0,h=0;for(let e=0;e<a;e++){let e=t.readInt(!0);for(;l!=e;)o[h++]=l++;n[l+t.readInt(!0)]=l++}for(;l<s;)o[h++]=l++;for(let t=s-1;t>=0;t--)-1==n[t]&&(n[t]=o[--h]);e.setFrame(i,r,n)}r.push(e)}let n=t.readInt(!0);if(n>0){let e=new Vd(n);for(let r=0;r<n;r++){let s=t.readFloat(),a=i.events[t.readInt(!0)],n=new Ku(s,a);n.intValue=t.readInt(!1),n.floatValue=t.readFloat(),n.stringValue=t.readString(),null==n.stringValue&&(n.stringValue=a.stringValue),n.data.audioPath&&(n.volume=t.readFloat(),n.balance=t.readFloat()),e.setFrame(r,n)}r.push(e)}let o=0;for(let t=0,e=r.length;t<e;t++)o=Math.max(o,r[t].getDuration());return new fd(e,r,o)}}class ap{strings;index;buffer;constructor(t,e=new Array,i=0,r=new DataView(t instanceof ArrayBuffer?t:t.buffer)){this.strings=e,this.index=i,this.buffer=r}readByte(){return this.buffer.getInt8(this.index++)}readUnsignedByte(){return this.buffer.getUint8(this.index++)}readShort(){let t=this.buffer.getInt16(this.index);return this.index+=2,t}readInt32(){let t=this.buffer.getInt32(this.index);return this.index+=4,t}readInt(t){let e=this.readByte(),i=127&e;return 128&e&&(e=this.readByte(),i|=(127&e)<<7,128&e&&(e=this.readByte(),i|=(127&e)<<14,128&e&&(e=this.readByte(),i|=(127&e)<<21,128&e&&(e=this.readByte(),i|=(127&e)<<28)))),t?i:i>>>1^-(1&i)}readStringRef(){let t=this.readInt(!0);return 0==t?null:this.strings[t-1]}readString(){let t=this.readInt(!0);switch(t){case 0:return null;case 1:return""}t--;let e="";for(let i=0;i<t;){let t=this.readUnsignedByte();switch(t>>4){case 12:case 13:e+=String.fromCharCode((31&t)<<6|63&this.readByte()),i+=2;break;case 14:e+=String.fromCharCode((15&t)<<12|(63&this.readByte())<<6|63&this.readByte()),i+=3;break;default:e+=String.fromCharCode(t),i++}}return e}readFloat(){let t=this.buffer.getFloat32(this.index);return this.index+=4,t}readBoolean(){return 0!=this.readByte()}}class np{parent;skinIndex;slotIndex;mesh;inheritTimeline;constructor(t,e,i,r,s){this.mesh=t,this.skinIndex=e,this.slotIndex=i,this.parent=r,this.inheritTimeline=s}}class op{bones;vertices;length;constructor(t=null,e=null,i=0){this.bones=t,this.vertices=e,this.length=i}}function lp(t,e,i){let r=t.readFloat(),s=t.readFloat()*i;for(let a=0,n=0,o=e.getFrameCount()-1;e.setFrame(a,r,s),a!=o;a++){let o=t.readFloat(),l=t.readFloat()*i;switch(t.readByte()){case Vp:e.setStepped(a);break;case Hp:cp(t,e,n++,a,0,r,o,s,l,i)}r=o,s=l}return e}function hp(t,e,i){let r=t.readFloat(),s=t.readFloat()*i,a=t.readFloat()*i;for(let n=0,o=0,l=e.getFrameCount()-1;e.setFrame(n,r,s,a),n!=l;n++){let l=t.readFloat(),h=t.readFloat()*i,c=t.readFloat()*i;switch(t.readByte()){case Vp:e.setStepped(n);break;case Hp:cp(t,e,o++,n,0,r,l,s,h,i),cp(t,e,o++,n,1,r,l,a,c,i)}r=l,s=h,a=c}return e}function cp(t,e,i,r,s,a,n,o,l,h){e.setBezier(i,r,s,a,o,t.readFloat(),t.readFloat()*h,t.readFloat(),t.readFloat()*h,n,l)}!function(t){t[t.Region=0]="Region",t[t.BoundingBox=1]="BoundingBox",t[t.Mesh=2]="Mesh",t[t.LinkedMesh=3]="LinkedMesh",t[t.Path=4]="Path",t[t.Point=5]="Point",t[t.Clipping=6]="Clipping"}(Tu||(Tu={}));const dp=0,up=1,pp=2,mp=3,fp=4,gp=5,bp=6,yp=7,vp=8,xp=9,wp=10,_p=0,kp=1,Sp=2,Cp=3,Ap=4,Tp=5,Mp=0,Bp=1,Pp=0,Op=1,Ip=2,Ep=0,$p=1,Rp=2,zp=4,Fp=5,Lp=6,Dp=7,Wp=8,Vp=1,Hp=2;class Np{minX=0;minY=0;maxX=0;maxY=0;boundingBoxes=new Array;polygons=new Array;polygonPool=new ld(()=>od.newFloatArray(16));update(t,e){if(!t)throw new Error("skeleton cannot be null.");let i=this.boundingBoxes,r=this.polygons,s=this.polygonPool,a=t.slots,n=a.length;i.length=0,s.freeAll(r),r.length=0;for(let t=0;t<n;t++){let e=a[t];if(!e.bone.active)continue;let n=e.getAttachment();if(n instanceof gu){let t=n;i.push(t);let a=s.obtain();a.length!=t.worldVerticesLength&&(a=od.newFloatArray(t.worldVerticesLength)),r.push(a),t.computeWorldVertices(e,0,t.worldVerticesLength,a,0,2)}}e?this.aabbCompute():(this.minX=Number.POSITIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY)}aabbCompute(){let t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY,r=Number.NEGATIVE_INFINITY,s=this.polygons;for(let a=0,n=s.length;a<n;a++){let n=s[a],o=n;for(let s=0,a=n.length;s<a;s+=2){let a=o[s],n=o[s+1];t=Math.min(t,a),e=Math.min(e,n),i=Math.max(i,a),r=Math.max(r,n)}}this.minX=t,this.minY=e,this.maxX=i,this.maxY=r}aabbContainsPoint(t,e){return t>=this.minX&&t<=this.maxX&&e>=this.minY&&e<=this.maxY}aabbIntersectsSegment(t,e,i,r){let s=this.minX,a=this.minY,n=this.maxX,o=this.maxY;if(t<=s&&i<=s||e<=a&&r<=a||t>=n&&i>=n||e>=o&&r>=o)return!1;let l=(r-e)/(i-t),h=l*(s-t)+e;if(h>a&&h<o)return!0;if(h=l*(n-t)+e,h>a&&h<o)return!0;let c=(a-e)/l+t;return c>s&&c<n||(c=(o-e)/l+t,c>s&&c<n)}aabbIntersectsSkeleton(t){return this.minX<t.maxX&&this.maxX>t.minX&&this.minY<t.maxY&&this.maxY>t.minY}containsPoint(t,e){let i=this.polygons;for(let r=0,s=i.length;r<s;r++)if(this.containsPointPolygon(i[r],t,e))return this.boundingBoxes[r];return null}containsPointPolygon(t,e,i){let r=t,s=t.length,a=s-2,n=!1;for(let t=0;t<s;t+=2){let s=r[t+1],o=r[a+1];if(s<i&&o>=i||o<i&&s>=i){let l=r[t];l+(i-s)/(o-s)*(r[a]-l)<e&&(n=!n)}a=t}return n}intersectsSegment(t,e,i,r){let s=this.polygons;for(let a=0,n=s.length;a<n;a++)if(this.intersectsSegmentPolygon(s[a],t,e,i,r))return this.boundingBoxes[a];return null}intersectsSegmentPolygon(t,e,i,r,s){let a=t,n=t.length,o=e-r,l=i-s,h=e*s-i*r,c=a[n-2],d=a[n-1];for(let t=0;t<n;t+=2){let n=a[t],u=a[t+1],p=c*u-d*n,m=c-n,f=d-u,g=o*f-l*m,b=(h*m-o*p)/g;if((b>=c&&b<=n||b>=n&&b<=c)&&(b>=e&&b<=r||b>=r&&b<=e)){let t=(h*f-l*p)/g;if((t>=d&&t<=u||t>=u&&t<=d)&&(t>=i&&t<=s||t>=s&&t<=i))return!0}c=n,d=u}return!1}getPolygon(t){if(!t)throw new Error("boundingBox cannot be null.");let e=this.boundingBoxes.indexOf(t);return-1==e?null:this.polygons[e]}getWidth(){return this.maxX-this.minX}getHeight(){return this.maxY-this.minY}}class Yp{convexPolygons=new Array;convexPolygonsIndices=new Array;indicesArray=new Array;isConcaveArray=new Array;triangles=new Array;polygonPool=new ld(()=>new Array);polygonIndicesPool=new ld(()=>new Array);triangulate(t){let e=t,i=t.length>>1,r=this.indicesArray;r.length=0;for(let t=0;t<i;t++)r[t]=t;let s=this.isConcaveArray;s.length=0;for(let t=0,a=i;t<a;++t)s[t]=Yp.isConcave(t,i,e,r);let a=this.triangles;for(a.length=0;i>3;){let t=i-1,n=0,o=1;for(;;){t:if(!s[n]){let a=r[t]<<1,l=r[n]<<1,h=r[o]<<1,c=e[a],d=e[a+1],u=e[l],p=e[l+1],m=e[h],f=e[h+1];for(let a=(o+1)%i;a!=t;a=(a+1)%i){if(!s[a])continue;let t=r[a]<<1,i=e[t],n=e[t+1];if(Yp.positiveArea(m,f,c,d,i,n)&&Yp.positiveArea(c,d,u,p,i,n)&&Yp.positiveArea(u,p,m,f,i,n))break t}break}if(0==o){do{if(!s[n])break;n--}while(n>0);break}t=n,n=o,o=(o+1)%i}a.push(r[(i+n-1)%i]),a.push(r[n]),a.push(r[(n+1)%i]),r.splice(n,1),s.splice(n,1),i--;let l=(i+n-1)%i,h=n==i?0:n;s[l]=Yp.isConcave(l,i,e,r),s[h]=Yp.isConcave(h,i,e,r)}return 3==i&&(a.push(r[2]),a.push(r[0]),a.push(r[1])),a}decompose(t,e){let i=t,r=this.convexPolygons;this.polygonPool.freeAll(r),r.length=0;let s=this.convexPolygonsIndices;this.polygonIndicesPool.freeAll(s),s.length=0;let a=this.polygonIndicesPool.obtain();a.length=0;let n=this.polygonPool.obtain();n.length=0;let o=-1,l=0;for(let t=0,h=e.length;t<h;t+=3){let h=e[t]<<1,c=e[t+1]<<1,d=e[t+2]<<1,u=i[h],p=i[h+1],m=i[c],f=i[c+1],g=i[d],b=i[d+1],y=!1;if(o==h){let t=n.length-4,e=Yp.winding(n[t],n[t+1],n[t+2],n[t+3],g,b),i=Yp.winding(g,b,n[0],n[1],n[2],n[3]);e==l&&i==l&&(n.push(g),n.push(b),a.push(d),y=!0)}y||(n.length>0?(r.push(n),s.push(a)):(this.polygonPool.free(n),this.polygonIndicesPool.free(a)),n=this.polygonPool.obtain(),n.length=0,n.push(u),n.push(p),n.push(m),n.push(f),n.push(g),n.push(b),a=this.polygonIndicesPool.obtain(),a.length=0,a.push(h),a.push(c),a.push(d),l=Yp.winding(u,p,m,f,g,b),o=h)}n.length>0&&(r.push(n),s.push(a));for(let t=0,e=r.length;t<e;t++){if(a=s[t],0==a.length)continue;let i=a[0],o=a[a.length-1];n=r[t];let l=n.length-4,h=n[l],c=n[l+1],d=n[l+2],u=n[l+3],p=n[0],m=n[1],f=n[2],g=n[3],b=Yp.winding(h,c,d,u,p,m);for(let l=0;l<e;l++){if(l==t)continue;let e=s[l];if(3!=e.length)continue;let y=e[0],v=e[1],x=e[2],w=r[l],_=w[w.length-2],k=w[w.length-1];if(y!=i||v!=o)continue;let S=Yp.winding(h,c,d,u,_,k),C=Yp.winding(_,k,p,m,f,g);S==b&&C==b&&(w.length=0,e.length=0,n.push(_),n.push(k),a.push(x),h=d,c=u,d=_,u=k,l=0)}}for(let t=r.length-1;t>=0;t--)n=r[t],0==n.length&&(r.splice(t,1),this.polygonPool.free(n),a=s[t],s.splice(t,1),this.polygonIndicesPool.free(a));return r}static isConcave(t,e,i,r){let s=r[(e+t-1)%e]<<1,a=r[t]<<1,n=r[(t+1)%e]<<1;return!this.positiveArea(i[s],i[s+1],i[a],i[a+1],i[n],i[n+1])}static positiveArea(t,e,i,r,s,a){return t*(a-r)+i*(e-a)+s*(r-e)>=0}static winding(t,e,i,r,s,a){let n=i-t,o=r-e;return s*o-a*n+n*e-t*o>=0?1:-1}}class Xp{triangulator=new Yp;clippingPolygon=new Array;clipOutput=new Array;clippedVertices=new Array;clippedUVs=new Array;clippedTriangles=new Array;scratch=new Array;clipAttachment=null;clippingPolygons=null;clipStart(t,e){if(this.clipAttachment)return 0;this.clipAttachment=e;let i=e.worldVerticesLength,r=od.setArraySize(this.clippingPolygon,i);e.computeWorldVertices(t,0,i,r,0,2);let s=this.clippingPolygon;Xp.makeClockwise(s);let a=this.clippingPolygons=this.triangulator.decompose(s,this.triangulator.triangulate(s));for(let t=0,e=a.length;t<e;t++){let e=a[t];Xp.makeClockwise(e),e.push(e[0]),e.push(e[1])}return a.length}clipEndWithSlot(t){this.clipAttachment&&this.clipAttachment.endSlot==t.data&&this.clipEnd()}clipEnd(){this.clipAttachment&&(this.clipAttachment=null,this.clippingPolygons=null,this.clippedVertices.length=0,this.clippedTriangles.length=0,this.clippingPolygon.length=0)}isClipping(){return null!=this.clipAttachment}clipTriangles(t,e,i,r,s,a,n,o){let l,h,c,d,u,p;"number"==typeof e?(l=i,h=r,c=s,d=a,u=n,p=o):(l=e,h=i,c=r,d=s,u=a,p=n),c&&d&&u&&"boolean"==typeof p?this.clipTrianglesRender(t,l,h,c,d,u,p):this.clipTrianglesNoRender(t,l,h)}clipTrianglesNoRender(t,e,i){let r=this.clipOutput,s=this.clippedVertices,a=this.clippedTriangles,n=this.clippingPolygons,o=n.length,l=0;s.length=0,a.length=0;for(let h=0;h<i;h+=3){let i=e[h]<<1,c=t[i],d=t[i+1];i=e[h+1]<<1;let u=t[i],p=t[i+1];i=e[h+2]<<1;let m=t[i],f=t[i+1];for(let t=0;t<o;t++){let e=s.length;if(!this.clip(c,d,u,p,m,f,n[t],r)){let t=od.setArraySize(s,e+6);t[e]=c,t[e+1]=d,t[e+2]=u,t[e+3]=p,t[e+4]=m,t[e+5]=f,e=a.length;let i=od.setArraySize(a,e+3);i[e]=l,i[e+1]=l+1,i[e+2]=l+2,l+=3;break}{let t=r.length;if(0==t)continue;let i=t>>1,n=this.clipOutput,o=od.setArraySize(s,e+2*i);for(let i=0;i<t;i+=2,e+=2){let t=n[i],r=n[i+1];o[e]=t,o[e+1]=r}e=a.length;let h=od.setArraySize(a,e+3*(i-2));i--;for(let t=1;t<i;t++,e+=3)h[e]=l,h[e+1]=l+t,h[e+2]=l+t+1;l+=i+1}}}}clipTrianglesRender(t,e,i,r,s,a,n){let o=this.clipOutput,l=this.clippedVertices,h=this.clippedTriangles,c=this.clippingPolygons,d=c.length,u=n?12:8,p=0;l.length=0,h.length=0;for(let m=0;m<i;m+=3){let i=e[m]<<1,f=t[i],g=t[i+1],b=r[i],y=r[i+1];i=e[m+1]<<1;let v=t[i],x=t[i+1],w=r[i],_=r[i+1];i=e[m+2]<<1;let k=t[i],S=t[i+1],C=r[i],A=r[i+1];for(let t=0;t<d;t++){let e=l.length;if(!this.clip(f,g,v,x,k,S,c[t],o)){let t=od.setArraySize(l,e+3*u);t[e]=f,t[e+1]=g,t[e+2]=s.r,t[e+3]=s.g,t[e+4]=s.b,t[e+5]=s.a,n?(t[e+6]=b,t[e+7]=y,t[e+8]=a.r,t[e+9]=a.g,t[e+10]=a.b,t[e+11]=a.a,t[e+12]=v,t[e+13]=x,t[e+14]=s.r,t[e+15]=s.g,t[e+16]=s.b,t[e+17]=s.a,t[e+18]=w,t[e+19]=_,t[e+20]=a.r,t[e+21]=a.g,t[e+22]=a.b,t[e+23]=a.a,t[e+24]=k,t[e+25]=S,t[e+26]=s.r,t[e+27]=s.g,t[e+28]=s.b,t[e+29]=s.a,t[e+30]=C,t[e+31]=A,t[e+32]=a.r,t[e+33]=a.g,t[e+34]=a.b,t[e+35]=a.a):(t[e+6]=b,t[e+7]=y,t[e+8]=v,t[e+9]=x,t[e+10]=s.r,t[e+11]=s.g,t[e+12]=s.b,t[e+13]=s.a,t[e+14]=w,t[e+15]=_,t[e+16]=k,t[e+17]=S,t[e+18]=s.r,t[e+19]=s.g,t[e+20]=s.b,t[e+21]=s.a,t[e+22]=C,t[e+23]=A),e=h.length;let i=od.setArraySize(h,e+3);i[e]=p,i[e+1]=p+1,i[e+2]=p+2,p+=3;break}{let t=o.length;if(0==t)continue;let i=x-S,r=k-v,c=f-k,d=S-g,m=1/(i*c+r*(g-S)),T=t>>1,M=this.clipOutput,B=od.setArraySize(l,e+T*u);for(let o=0;o<t;o+=2,e+=u){let t=M[o],l=M[o+1];B[e]=t,B[e+1]=l,B[e+2]=s.r,B[e+3]=s.g,B[e+4]=s.b,B[e+5]=s.a;let h=t-k,u=l-S,p=(i*h+r*u)*m,f=(d*h+c*u)*m,g=1-p-f;B[e+6]=b*p+w*f+C*g,B[e+7]=y*p+_*f+A*g,n&&(B[e+8]=a.r,B[e+9]=a.g,B[e+10]=a.b,B[e+11]=a.a)}e=h.length;let P=od.setArraySize(h,e+3*(T-2));T--;for(let t=1;t<T;t++,e+=3)P[e]=p,P[e+1]=p+t,P[e+2]=p+t+1;p+=T+1}}}}clipTrianglesUnpacked(t,e,i,r){let s=this.clipOutput,a=this.clippedVertices,n=this.clippedUVs,o=this.clippedTriangles,l=this.clippingPolygons,h=l.length,c=0;a.length=0,n.length=0,o.length=0;for(let d=0;d<i;d+=3){let i=e[d]<<1,u=t[i],p=t[i+1],m=r[i],f=r[i+1];i=e[d+1]<<1;let g=t[i],b=t[i+1],y=r[i],v=r[i+1];i=e[d+2]<<1;let x=t[i],w=t[i+1],_=r[i],k=r[i+1];for(let t=0;t<h;t++){let e=a.length;if(!this.clip(u,p,g,b,x,w,l[t],s)){let t=od.setArraySize(a,e+6);t[e]=u,t[e+1]=p,t[e+2]=g,t[e+3]=b,t[e+4]=x,t[e+5]=w;let i=od.setArraySize(n,e+6);i[e]=m,i[e+1]=f,i[e+2]=y,i[e+3]=v,i[e+4]=_,i[e+5]=k,e=o.length;let r=od.setArraySize(o,e+3);r[e]=c,r[e+1]=c+1,r[e+2]=c+2,c+=3;break}{let t=s.length;if(0==t)continue;let i=b-w,r=x-g,l=u-x,h=w-p,d=1/(i*l+r*(p-w)),S=t>>1,C=this.clipOutput,A=od.setArraySize(a,e+2*S),T=od.setArraySize(n,e+2*S);for(let s=0;s<t;s+=2,e+=2){let t=C[s],a=C[s+1];A[e]=t,A[e+1]=a;let n=t-x,o=a-w,c=(i*n+r*o)*d,u=(h*n+l*o)*d,p=1-c-u;T[e]=m*c+y*u+_*p,T[e+1]=f*c+v*u+k*p}e=o.length;let M=od.setArraySize(o,e+3*(S-2));S--;for(let t=1;t<S;t++,e+=3)M[e]=c,M[e+1]=c+t,M[e+2]=c+t+1;c+=S+1}}}}clip(t,e,i,r,s,a,n,o){let l,h=o,c=!1;n.length%4>=2?(l=o,o=this.scratch):l=this.scratch,l.length=0,l.push(t),l.push(e),l.push(i),l.push(r),l.push(s),l.push(a),l.push(t),l.push(e),o.length=0;let d=n.length-4,u=n;for(let t=0;;t+=2){let e=u[t],i=u[t+1],r=e-u[t+2],s=i-u[t+3],a=o.length,n=l;for(let t=0,a=l.length-2;t<a;){let a=n[t],l=n[t+1];t+=2;let h=n[t],d=n[t+1],u=s*(e-h)>r*(i-d),p=s*(e-a)-r*(i-l);if(p>0){if(u){o.push(h),o.push(d);continue}let t=h-a,e=d-l,i=p/(t*s-e*r);if(!(i>=0&&i<=1)){o.push(h),o.push(d);continue}o.push(a+t*i),o.push(l+e*i)}else if(u){let t=h-a,e=d-l,i=p/(t*s-e*r);if(!(i>=0&&i<=1)){o.push(h),o.push(d);continue}o.push(a+t*i),o.push(l+e*i),o.push(h),o.push(d)}c=!0}if(a==o.length)return h.length=0,!0;if(o.push(o[0]),o.push(o[1]),t==d)break;let p=o;(o=l).length=0,l=p}if(h!=o){h.length=0;for(let t=0,e=o.length-2;t<e;t++)h[t]=o[t]}else h.length=h.length-2;return c}static makeClockwise(t){let e=t,i=t.length,r=e[i-2]*e[1]-e[0]*e[i-1],s=0,a=0,n=0,o=0;for(let t=0,l=i-3;t<l;t+=2)s=e[t],a=e[t+1],n=e[t+2],o=e[t+3],r+=s*o-n*a;if(!(r<0))for(let t=0,r=i-2,s=i>>1;t<s;t+=2){let i=e[t],s=e[t+1],a=r-t;e[t]=e[a],e[t+1]=e[a+1],e[a]=i,e[a+1]=s}}}class Up{attachmentLoader;scale=1;linkedMeshes=new Array;constructor(t){this.attachmentLoader=t}readSkeletonData(t){let e=this.scale,i=new Ju,r="string"==typeof t?JSON.parse(t):t,s=r.skeleton;if(s&&(i.hash=s.hash,i.version=s.spine,i.x=s.x,i.y=s.y,i.width=s.width,i.height=s.height,i.referenceScale=Zp(s,"referenceScale",100)*e,i.fps=s.fps,i.imagesPath=s.images??null,i.audioPath=s.audio??null),r.bones)for(let t=0;t<r.bones.length;t++){let s=r.bones[t],a=null,n=Zp(s,"parent",null);n&&(a=i.findBone(n));let o=new Du(i.bones.length,s.name,a);o.length=Zp(s,"length",0)*e,o.x=Zp(s,"x",0)*e,o.y=Zp(s,"y",0)*e,o.rotation=Zp(s,"rotation",0),o.scaleX=Zp(s,"scaleX",1),o.scaleY=Zp(s,"scaleY",1),o.shearX=Zp(s,"shearX",0),o.shearY=Zp(s,"shearY",0),o.inherit=od.enumValue(wu,Zp(s,"inherit","Normal")),o.skinRequired=Zp(s,"skin",!1);let l=Zp(s,"color",null);l&&o.color.setFromString(l),i.bones.push(o)}if(r.slots)for(let t=0;t<r.slots.length;t++){let e=r.slots[t],s=e.name,a=i.findBone(e.bone);if(!a)throw new Error(`Couldn't find bone ${e.bone} for slot ${s}`);let n=new ip(i.slots.length,s,a),o=Zp(e,"color",null);o&&n.color.setFromString(o);let l=Zp(e,"dark",null);l&&(n.darkColor=ad.fromString(l)),n.attachmentName=Zp(e,"attachment",null),n.blendMode=od.enumValue(Au,Zp(e,"blend","normal")),n.visible=Zp(e,"visible",!0),i.slots.push(n)}if(r.ik)for(let t=0;t<r.ik.length;t++){let s=r.ik[t],a=new Nu(s.name);a.order=Zp(s,"order",0),a.skinRequired=Zp(s,"skin",!1);for(let t=0;t<s.bones.length;t++){let e=i.findBone(s.bones[t]);if(!e)throw new Error(`Couldn't find bone ${s.bones[t]} for IK constraint ${s.name}.`);a.bones.push(e)}let n=i.findBone(s.target);if(!n)throw new Error(`Couldn't find target bone ${s.target} for IK constraint ${s.name}.`);a.target=n,a.mix=Zp(s,"mix",1),a.softness=Zp(s,"softness",0)*e,a.bendDirection=Zp(s,"bendPositive",!0)?1:-1,a.compress=Zp(s,"compress",!1),a.stretch=Zp(s,"stretch",!1),a.uniform=Zp(s,"uniform",!1),i.ikConstraints.push(a)}if(r.transform)for(let t=0;t<r.transform.length;t++){let s=r.transform[t],a=new rp(s.name);a.order=Zp(s,"order",0),a.skinRequired=Zp(s,"skin",!1);for(let t=0;t<s.bones.length;t++){let e=s.bones[t],r=i.findBone(e);if(!r)throw new Error(`Couldn't find bone ${e} for transform constraint ${s.name}.`);a.bones.push(r)}let n=s.target,o=i.findBone(n);if(!o)throw new Error(`Couldn't find target bone ${n} for transform constraint ${s.name}.`);a.target=o,a.local=Zp(s,"local",!1),a.relative=Zp(s,"relative",!1),a.offsetRotation=Zp(s,"rotation",0),a.offsetX=Zp(s,"x",0)*e,a.offsetY=Zp(s,"y",0)*e,a.offsetScaleX=Zp(s,"scaleX",0),a.offsetScaleY=Zp(s,"scaleY",0),a.offsetShearY=Zp(s,"shearY",0),a.mixRotate=Zp(s,"mixRotate",1),a.mixX=Zp(s,"mixX",1),a.mixY=Zp(s,"mixY",a.mixX),a.mixScaleX=Zp(s,"mixScaleX",1),a.mixScaleY=Zp(s,"mixScaleY",a.mixScaleX),a.mixShearY=Zp(s,"mixShearY",1),i.transformConstraints.push(a)}if(r.path)for(let t=0;t<r.path.length;t++){let s=r.path[t],a=new Yu(s.name);a.order=Zp(s,"order",0),a.skinRequired=Zp(s,"skin",!1);for(let t=0;t<s.bones.length;t++){let e=s.bones[t],r=i.findBone(e);if(!r)throw new Error(`Couldn't find bone ${e} for path constraint ${s.name}.`);a.bones.push(r)}let n=s.target,o=i.findSlot(n);if(!o)throw new Error(`Couldn't find target slot ${n} for path constraint ${s.name}.`);a.target=o,a.positionMode=od.enumValue(_u,Zp(s,"positionMode","Percent")),a.spacingMode=od.enumValue(ku,Zp(s,"spacingMode","Length")),a.rotateMode=od.enumValue(Su,Zp(s,"rotateMode","Tangent")),a.offsetRotation=Zp(s,"rotation",0),a.position=Zp(s,"position",0),a.positionMode==_u.Fixed&&(a.position*=e),a.spacing=Zp(s,"spacing",0),a.spacingMode!=ku.Length&&a.spacingMode!=ku.Fixed||(a.spacing*=e),a.mixRotate=Zp(s,"mixRotate",1),a.mixX=Zp(s,"mixX",1),a.mixY=Zp(s,"mixY",a.mixX),i.pathConstraints.push(a)}if(r.physics)for(let t=0;t<r.physics.length;t++){const s=r.physics[t],a=new Qu(s.name);a.order=Zp(s,"order",0),a.skinRequired=Zp(s,"skin",!1);const n=s.bone,o=i.findBone(n);if(null==o)throw new Error("Physics bone not found: "+n);a.bone=o,a.x=Zp(s,"x",0),a.y=Zp(s,"y",0),a.rotate=Zp(s,"rotate",0),a.scaleX=Zp(s,"scaleX",0),a.shearX=Zp(s,"shearX",0),a.limit=Zp(s,"limit",5e3)*e,a.step=1/Zp(s,"fps",60),a.inertia=Zp(s,"inertia",1),a.strength=Zp(s,"strength",100),a.damping=Zp(s,"damping",1),a.massInverse=1/Zp(s,"mass",1),a.wind=Zp(s,"wind",0),a.gravity=Zp(s,"gravity",0),a.mix=Zp(s,"mix",1),a.inertiaGlobal=Zp(s,"inertiaGlobal",!1),a.strengthGlobal=Zp(s,"strengthGlobal",!1),a.dampingGlobal=Zp(s,"dampingGlobal",!1),a.massGlobal=Zp(s,"massGlobal",!1),a.windGlobal=Zp(s,"windGlobal",!1),a.gravityGlobal=Zp(s,"gravityGlobal",!1),a.mixGlobal=Zp(s,"mixGlobal",!1),i.physicsConstraints.push(a)}if(r.skins)for(let t=0;t<r.skins.length;t++){let e=r.skins[t],s=new ep(e.name);if(e.bones)for(let t=0;t<e.bones.length;t++){let r=e.bones[t],a=i.findBone(r);if(!a)throw new Error(`Couldn't find bone ${r} for skin ${e.name}.`);s.bones.push(a)}if(e.ik)for(let t=0;t<e.ik.length;t++){let r=e.ik[t],a=i.findIkConstraint(r);if(!a)throw new Error(`Couldn't find IK constraint ${r} for skin ${e.name}.`);s.constraints.push(a)}if(e.transform)for(let t=0;t<e.transform.length;t++){let r=e.transform[t],a=i.findTransformConstraint(r);if(!a)throw new Error(`Couldn't find transform constraint ${r} for skin ${e.name}.`);s.constraints.push(a)}if(e.path)for(let t=0;t<e.path.length;t++){let r=e.path[t],a=i.findPathConstraint(r);if(!a)throw new Error(`Couldn't find path constraint ${r} for skin ${e.name}.`);s.constraints.push(a)}if(e.physics)for(let t=0;t<e.physics.length;t++){let r=e.physics[t],a=i.findPhysicsConstraint(r);if(!a)throw new Error(`Couldn't find physics constraint ${r} for skin ${e.name}.`);s.constraints.push(a)}for(let t in e.attachments){let r=i.findSlot(t);if(!r)throw new Error(`Couldn't find slot ${t} for skin ${e.name}.`);let a=e.attachments[t];for(let t in a){let e=this.readAttachment(a[t],s,r.index,t,i);e&&s.setAttachment(r.index,t,e)}}i.skins.push(s),"default"==s.name&&(i.defaultSkin=s)}for(let t=0,e=this.linkedMeshes.length;t<e;t++){let e=this.linkedMeshes[t],r=e.skin?i.findSkin(e.skin):i.defaultSkin;if(!r)throw new Error(`Skin not found: ${e.skin}`);let s=r.getAttachment(e.slotIndex,e.parent);if(!s)throw new Error(`Parent mesh not found: ${e.parent}`);e.mesh.timelineAttachment=e.inheritTimeline?s:e.mesh,e.mesh.setParentMesh(s),null!=e.mesh.region&&e.mesh.updateRegion()}if(this.linkedMeshes.length=0,r.events)for(let t in r.events){let e=r.events[t],s=new Zu(t);s.intValue=Zp(e,"int",0),s.floatValue=Zp(e,"float",0),s.stringValue=Zp(e,"string",""),s.audioPath=Zp(e,"audio",null),s.audioPath&&(s.volume=Zp(e,"volume",1),s.balance=Zp(e,"balance",0)),i.events.push(s)}if(r.animations)for(let t in r.animations){let e=r.animations[t];this.readAnimation(e,t,i)}return i}readAttachment(t,e,i,r,s){let a=this.scale;switch(r=Zp(t,"name",r),Zp(t,"type","region")){case"region":{let i=Zp(t,"path",r),s=this.readSequence(Zp(t,"sequence",null)),n=this.attachmentLoader.newRegionAttachment(e,r,i,s);if(!n)return null;n.path=i,n.x=Zp(t,"x",0)*a,n.y=Zp(t,"y",0)*a,n.scaleX=Zp(t,"scaleX",1),n.scaleY=Zp(t,"scaleY",1),n.rotation=Zp(t,"rotation",0),n.width=t.width*a,n.height=t.height*a,n.sequence=s;let o=Zp(t,"color",null);return o&&n.color.setFromString(o),null!=n.region&&n.updateRegion(),n}case"boundingbox":{let i=this.attachmentLoader.newBoundingBoxAttachment(e,r);if(!i)return null;this.readVertices(t,i,t.vertexCount<<1);let s=Zp(t,"color",null);return s&&i.color.setFromString(s),i}case"mesh":case"linkedmesh":{let s=Zp(t,"path",r),n=this.readSequence(Zp(t,"sequence",null)),o=this.attachmentLoader.newMeshAttachment(e,r,s,n);if(!o)return null;o.path=s;let l=Zp(t,"color",null);l&&o.color.setFromString(l),o.width=Zp(t,"width",0)*a,o.height=Zp(t,"height",0)*a,o.sequence=n;let h=Zp(t,"parent",null);if(h)return this.linkedMeshes.push(new Gp(o,Zp(t,"skin",null),i,h,Zp(t,"timelines",!0))),o;let c=t.uvs;return this.readVertices(t,o,c.length),o.triangles=t.triangles,o.regionUVs=c,null!=o.region&&o.updateRegion(),o.edges=Zp(t,"edges",null),o.hullLength=2*Zp(t,"hull",0),o}case"path":{let i=this.attachmentLoader.newPathAttachment(e,r);if(!i)return null;i.closed=Zp(t,"closed",!1),i.constantSpeed=Zp(t,"constantSpeed",!0);let s=t.vertexCount;this.readVertices(t,i,s<<1);let n=od.newArray(s/3,0);for(let e=0;e<t.lengths.length;e++)n[e]=t.lengths[e]*a;i.lengths=n;let o=Zp(t,"color",null);return o&&i.color.setFromString(o),i}case"point":{let i=this.attachmentLoader.newPointAttachment(e,r);if(!i)return null;i.x=Zp(t,"x",0)*a,i.y=Zp(t,"y",0)*a,i.rotation=Zp(t,"rotation",0);let s=Zp(t,"color",null);return s&&i.color.setFromString(s),i}case"clipping":{let i=this.attachmentLoader.newClippingAttachment(e,r);if(!i)return null;let a=Zp(t,"end",null);a&&(i.endSlot=s.findSlot(a));let n=t.vertexCount;this.readVertices(t,i,n<<1);let o=Zp(t,"color",null);return o&&i.color.setFromString(o),i}}return null}readSequence(t){if(null==t)return null;let e=new ud(Zp(t,"count",0));return e.start=Zp(t,"start",1),e.digits=Zp(t,"digits",0),e.setupIndex=Zp(t,"setup",0),e}readVertices(t,e,i){let r=this.scale;e.worldVerticesLength=i;let s=t.vertices;if(i==s.length){let t=od.toFloatArray(s);if(1!=r)for(let e=0,i=s.length;e<i;e++)t[e]*=r;return void(e.vertices=t)}let a=new Array,n=new Array;for(let t=0,e=s.length;t<e;){let e=s[t++];n.push(e);for(let i=t+4*e;t<i;t+=4)n.push(s[t]),a.push(s[t+1]*r),a.push(s[t+2]*r),a.push(s[t+3])}e.bones=n,e.vertices=od.toFloatArray(a)}readAnimation(t,e,i){let r=this.scale,s=new Array;if(t.slots)for(let e in t.slots){let r=t.slots[e],a=i.findSlot(e);if(!a)throw new Error("Slot not found: "+e);let n=a.index;for(let t in r){let e=r[t];if(!e)continue;let i=e.length;if("attachment"==t){let t=new Dd(i,n);for(let r=0;r<i;r++){let i=e[r];t.setFrame(r,Zp(i,"time",0),Zp(i,"name",null))}s.push(t)}else if("rgba"==t){let t=new $d(i,i<<2,n),r=e[0],a=Zp(r,"time",0),o=ad.fromString(r.color);for(let i=0,s=0;;i++){t.setFrame(i,a,o.r,o.g,o.b,o.a);let n=e[i+1];if(!n){t.shrink(s);break}let l=Zp(n,"time",0),h=ad.fromString(n.color),c=r.curve;c&&(s=Kp(c,t,s,i,0,a,l,o.r,h.r,1),s=Kp(c,t,s,i,1,a,l,o.g,h.g,1),s=Kp(c,t,s,i,2,a,l,o.b,h.b,1),s=Kp(c,t,s,i,3,a,l,o.a,h.a,1)),a=l,o=h,r=n}s.push(t)}else if("rgb"==t){let t=new Rd(i,3*i,n),r=e[0],a=Zp(r,"time",0),o=ad.fromString(r.color);for(let i=0,s=0;;i++){t.setFrame(i,a,o.r,o.g,o.b);let n=e[i+1];if(!n){t.shrink(s);break}let l=Zp(n,"time",0),h=ad.fromString(n.color),c=r.curve;c&&(s=Kp(c,t,s,i,0,a,l,o.r,h.r,1),s=Kp(c,t,s,i,1,a,l,o.g,h.g,1),s=Kp(c,t,s,i,2,a,l,o.b,h.b,1)),a=l,o=h,r=n}s.push(t)}else if("alpha"==t)s.push(jp(e,new zd(i,i,n),0,1));else if("rgba2"==t){let t=new Fd(i,7*i,n),r=e[0],a=Zp(r,"time",0),o=ad.fromString(r.light),l=ad.fromString(r.dark);for(let i=0,s=0;;i++){t.setFrame(i,a,o.r,o.g,o.b,o.a,l.r,l.g,l.b);let n=e[i+1];if(!n){t.shrink(s);break}let h=Zp(n,"time",0),c=ad.fromString(n.light),d=ad.fromString(n.dark),u=r.curve;u&&(s=Kp(u,t,s,i,0,a,h,o.r,c.r,1),s=Kp(u,t,s,i,1,a,h,o.g,c.g,1),s=Kp(u,t,s,i,2,a,h,o.b,c.b,1),s=Kp(u,t,s,i,3,a,h,o.a,c.a,1),s=Kp(u,t,s,i,4,a,h,l.r,d.r,1),s=Kp(u,t,s,i,5,a,h,l.g,d.g,1),s=Kp(u,t,s,i,6,a,h,l.b,d.b,1)),a=h,o=c,l=d,r=n}s.push(t)}else if("rgb2"==t){let t=new Ld(i,6*i,n),r=e[0],a=Zp(r,"time",0),o=ad.fromString(r.light),l=ad.fromString(r.dark);for(let i=0,s=0;;i++){t.setFrame(i,a,o.r,o.g,o.b,l.r,l.g,l.b);let n=e[i+1];if(!n){t.shrink(s);break}let h=Zp(n,"time",0),c=ad.fromString(n.light),d=ad.fromString(n.dark),u=r.curve;u&&(s=Kp(u,t,s,i,0,a,h,o.r,c.r,1),s=Kp(u,t,s,i,1,a,h,o.g,c.g,1),s=Kp(u,t,s,i,2,a,h,o.b,c.b,1),s=Kp(u,t,s,i,3,a,h,l.r,d.r,1),s=Kp(u,t,s,i,4,a,h,l.g,d.g,1),s=Kp(u,t,s,i,5,a,h,l.b,d.b,1)),a=h,o=c,l=d,r=n}s.push(t)}}}if(t.bones)for(let e in t.bones){let a=t.bones[e],n=i.findBone(e);if(!n)throw new Error("Bone not found: "+e);let o=n.index;for(let t in a){let e=a[t],i=e.length;if(0!=i)if("rotate"===t)s.push(jp(e,new kd(i,i,o),0,1));else if("translate"===t){let t=new Sd(i,i<<1,o);s.push(qp(e,t,"x","y",0,r))}else if("translatex"===t){let t=new Cd(i,i,o);s.push(jp(e,t,0,r))}else if("translatey"===t){let t=new Ad(i,i,o);s.push(jp(e,t,0,r))}else if("scale"===t){let t=new Td(i,i<<1,o);s.push(qp(e,t,"x","y",1,1))}else if("scalex"===t){let t=new Md(i,i,o);s.push(jp(e,t,1,1))}else if("scaley"===t){let t=new Bd(i,i,o);s.push(jp(e,t,1,1))}else if("shear"===t){let t=new Pd(i,i<<1,o);s.push(qp(e,t,"x","y",0,1))}else if("shearx"===t){let t=new Od(i,i,o);s.push(jp(e,t,0,1))}else if("sheary"===t){let t=new Id(i,i,o);s.push(jp(e,t,0,1))}else if("inherit"===t){let t=new Ed(i,n.index);for(let i=0;i<e.length;i++){let r=e[i];t.setFrame(i,Zp(r,"time",0),od.enumValue(wu,Zp(r,"inherit","Normal")))}s.push(t)}}}if(t.ik)for(let e in t.ik){let a=t.ik[e],n=a[0];if(!n)continue;let o=i.findIkConstraint(e);if(!o)throw new Error("IK Constraint not found: "+e);let l=i.ikConstraints.indexOf(o),h=new Nd(a.length,a.length<<1,l),c=Zp(n,"time",0),d=Zp(n,"mix",1),u=Zp(n,"softness",0)*r;for(let t=0,e=0;;t++){h.setFrame(t,c,d,u,Zp(n,"bendPositive",!0)?1:-1,Zp(n,"compress",!1),Zp(n,"stretch",!1));let i=a[t+1];if(!i){h.shrink(e);break}let s=Zp(i,"time",0),o=Zp(i,"mix",1),l=Zp(i,"softness",0)*r,p=n.curve;p&&(e=Kp(p,h,e,t,0,c,s,d,o,1),e=Kp(p,h,e,t,1,c,s,u,l,r)),c=s,d=o,u=l,n=i}s.push(h)}if(t.transform)for(let e in t.transform){let r=t.transform[e],a=r[0];if(!a)continue;let n=i.findTransformConstraint(e);if(!n)throw new Error("Transform constraint not found: "+e);let o=i.transformConstraints.indexOf(n),l=new Yd(r.length,6*r.length,o),h=Zp(a,"time",0),c=Zp(a,"mixRotate",1),d=Zp(a,"mixX",1),u=Zp(a,"mixY",d),p=Zp(a,"mixScaleX",1),m=Zp(a,"mixScaleY",p),f=Zp(a,"mixShearY",1);for(let t=0,e=0;;t++){l.setFrame(t,h,c,d,u,p,m,f);let i=r[t+1];if(!i){l.shrink(e);break}let s=Zp(i,"time",0),n=Zp(i,"mixRotate",1),o=Zp(i,"mixX",1),g=Zp(i,"mixY",o),b=Zp(i,"mixScaleX",1),y=Zp(i,"mixScaleY",b),v=Zp(i,"mixShearY",1),x=a.curve;x&&(e=Kp(x,l,e,t,0,h,s,c,n,1),e=Kp(x,l,e,t,1,h,s,d,o,1),e=Kp(x,l,e,t,2,h,s,u,g,1),e=Kp(x,l,e,t,3,h,s,p,b,1),e=Kp(x,l,e,t,4,h,s,m,y,1),e=Kp(x,l,e,t,5,h,s,f,v,1)),h=s,c=n,d=o,u=g,p=b,m=y,p=b,a=i}s.push(l)}if(t.path)for(let e in t.path){let a=t.path[e],n=i.findPathConstraint(e);if(!n)throw new Error("Path constraint not found: "+e);let o=i.pathConstraints.indexOf(n);for(let t in a){let e=a[t],i=e[0];if(!i)continue;let l=e.length;if("position"===t){let t=new Xd(l,l,o);s.push(jp(e,t,0,n.positionMode==_u.Fixed?r:1))}else if("spacing"===t){let t=new Ud(l,l,o);s.push(jp(e,t,0,n.spacingMode==ku.Length||n.spacingMode==ku.Fixed?r:1))}else if("mix"===t){let t=new Gd(l,3*l,o),r=Zp(i,"time",0),a=Zp(i,"mixRotate",1),n=Zp(i,"mixX",1),h=Zp(i,"mixY",n);for(let s=0,o=0;;s++){t.setFrame(s,r,a,n,h);let l=e[s+1];if(!l){t.shrink(o);break}let c=Zp(l,"time",0),d=Zp(l,"mixRotate",1),u=Zp(l,"mixX",1),p=Zp(l,"mixY",u),m=i.curve;m&&(o=Kp(m,t,o,s,0,r,c,a,d,1),o=Kp(m,t,o,s,1,r,c,n,u,1),o=Kp(m,t,o,s,2,r,c,h,p,1)),r=c,a=d,n=u,h=p,i=l}s.push(t)}}}if(t.physics)for(let e in t.physics){let r=t.physics[e],a=-1;if(e.length>0){let t=i.findPhysicsConstraint(e);if(!t)throw new Error("Physics constraint not found: "+e);a=i.physicsConstraints.indexOf(t)}for(let t in r){let e=r[t],i=e[0];if(!i)continue;let n,o=e.length;if("reset"==t){const t=new iu(o,a);for(let r=0;null!=i;i=e[r+1],r++)t.setFrame(r,Zp(i,"time",0));s.push(t);continue}if("inertia"==t)n=new qd(o,o,a);else if("strength"==t)n=new Kd(o,o,a);else if("damping"==t)n=new Zd(o,o,a);else if("mass"==t)n=new Qd(o,o,a);else if("wind"==t)n=new Jd(o,o,a);else if("gravity"==t)n=new tu(o,o,a);else{if("mix"!=t)continue;n=new eu(o,o,a)}s.push(jp(e,n,0,1))}}if(t.attachments)for(let e in t.attachments){let a=t.attachments[e],n=i.findSkin(e);if(!n)throw new Error("Skin not found: "+e);for(let t in a){let e=a[t],o=i.findSlot(t);if(!o)throw new Error("Slot not found: "+t);let l=o.index;for(let t in e){let i=e[t],a=n.getAttachment(l,t);for(let t in i){let e=i[t],n=e[0];if(n)if("deform"==t){let t=a.bones,i=a.vertices,o=t?i.length/3*2:i.length,h=new Wd(e.length,e.length,l,a),c=Zp(n,"time",0);for(let s=0,a=0;;s++){let l,d=Zp(n,"vertices",null);if(d){l=od.newFloatArray(o);let e=Zp(n,"offset",0);if(od.arrayCopy(d,0,l,e,d.length),1!=r)for(let t=e,i=t+d.length;t<i;t++)l[t]*=r;if(!t)for(let t=0;t<o;t++)l[t]+=i[t]}else l=t?od.newFloatArray(o):i;h.setFrame(s,c,l);let u=e[s+1];if(!u){h.shrink(a);break}let p=Zp(u,"time",0),m=n.curve;m&&(a=Kp(m,h,a,s,0,c,p,0,1,1)),c=p,n=u}s.push(h)}else if("sequence"==t){let t=new ru(e.length,l,a),i=0;for(let r=0;r<e.length;r++){let s=Zp(n,"delay",i),a=Zp(n,"time",0),o=pd[Zp(n,"mode","hold")],l=Zp(n,"index",0);t.setFrame(r,a,o,l,s),i=s,n=e[r+1]}s.push(t)}}}}}if(t.drawOrder){let e=new Hd(t.drawOrder.length),r=i.slots.length,a=0;for(let s=0;s<t.drawOrder.length;s++,a++){let n=t.drawOrder[s],o=null,l=Zp(n,"offsets",null);if(l){o=od.newArray(r,-1);let t=od.newArray(r-l.length,0),e=0,s=0;for(let r=0;r<l.length;r++){let a=l[r],n=i.findSlot(a.slot);if(!n)throw new Error("Slot not found: "+n);let h=n.index;for(;e!=h;)t[s++]=e++;o[e+a.offset]=e++}for(;e<r;)t[s++]=e++;for(let e=r-1;e>=0;e--)-1==o[e]&&(o[e]=t[--s])}e.setFrame(a,Zp(n,"time",0),o)}s.push(e)}if(t.events){let e=new Vd(t.events.length),r=0;for(let s=0;s<t.events.length;s++,r++){let a=t.events[s],n=i.findEvent(a.name);if(!n)throw new Error("Event not found: "+a.name);let o=new Ku(od.toSinglePrecision(Zp(a,"time",0)),n);o.intValue=Zp(a,"int",n.intValue),o.floatValue=Zp(a,"float",n.floatValue),o.stringValue=Zp(a,"string",n.stringValue),o.data.audioPath&&(o.volume=Zp(a,"volume",1),o.balance=Zp(a,"balance",0)),e.setFrame(r,o)}s.push(e)}let a=0;for(let t=0,e=s.length;t<e;t++)a=Math.max(a,s[t].getDuration());i.animations.push(new fd(e,s,a))}}class Gp{parent;skin;slotIndex;mesh;inheritTimeline;constructor(t,e,i,r,s){this.mesh=t,this.skin=e,this.slotIndex=i,this.parent=r,this.inheritTimeline=s}}function jp(t,e,i,r){let s=t[0],a=Zp(s,"time",0),n=Zp(s,"value",i)*r,o=0;for(let l=0;;l++){e.setFrame(l,a,n);let h=t[l+1];if(!h)return e.shrink(o),e;let c=Zp(h,"time",0),d=Zp(h,"value",i)*r;s.curve&&(o=Kp(s.curve,e,o,l,0,a,c,n,d,r)),a=c,n=d,s=h}}function qp(t,e,i,r,s,a){let n=t[0],o=Zp(n,"time",0),l=Zp(n,i,s)*a,h=Zp(n,r,s)*a,c=0;for(let d=0;;d++){e.setFrame(d,o,l,h);let u=t[d+1];if(!u)return e.shrink(c),e;let p=Zp(u,"time",0),m=Zp(u,i,s)*a,f=Zp(u,r,s)*a,g=n.curve;g&&(c=Kp(g,e,c,d,0,o,p,l,m,a),c=Kp(g,e,c,d,1,o,p,h,f,a)),o=p,l=m,h=f,n=u}}function Kp(t,e,i,r,s,a,n,o,l,h){if("stepped"==t)return e.setStepped(r),i;let c=s<<2,d=t[c],u=t[c+1]*h,p=t[c+2],m=t[c+3]*h;return e.setBezier(i,r,s,a,o,d,u,p,m,n,l),i+1}function Zp(t,e,i){return void 0!==t[e]?t[e]:i}var Qp;void 0===Math.fround&&(Math.fround=(Qp=new Float32Array(1),function(t){return Qp[0]=t,Qp[0]}));class Jp extends yu{static textureMap=new Map;static from(t){return Jp.textureMap.has(t)?Jp.textureMap.get(t):new Jp(t)}texture;constructor(t){super(t.resource),this.texture=jl.g.from(t)}setFilters(t,e){const i=this.texture.source.style;i.minFilter=Jp.toPixiTextureFilter(t),i.magFilter=Jp.toPixiTextureFilter(e),this.texture.source.autoGenerateMipmaps=Jp.toPixiMipMap(t),this.texture.source.updateMipmaps()}setWraps(t,e){const i=this.texture.source.style;i.addressModeU=Jp.toPixiTextureWrap(t),i.addressModeV=Jp.toPixiTextureWrap(e)}dispose(){this.texture.destroy()}static toPixiMipMap(t){switch(t){case vu.Nearest:case vu.Linear:return!1;case vu.MipMapNearestLinear:case vu.MipMapNearestNearest:case vu.MipMapLinearLinear:case vu.MipMapLinearNearest:return!0;default:throw new Error(`Unknown texture filter: ${String(t)}`)}}static toPixiTextureFilter(t){switch(t){case vu.Nearest:case vu.MipMapNearestLinear:case vu.MipMapNearestNearest:return"nearest";case vu.Linear:case vu.MipMapLinearLinear:case vu.MipMapLinearNearest:return"linear";default:throw new Error(`Unknown texture filter: ${String(t)}`)}}static toPixiTextureWrap(t){switch(t){case xu.ClampToEdge:return"clamp-to-edge";case xu.MirroredRepeat:return"mirror-repeat";case xu.Repeat:return"repeat";default:throw new Error(`Unknown texture wrap: ${String(t)}`)}}static toPixiBlending(t){switch(t){case Au.Normal:return"normal";case Au.Additive:return"add";case Au.Multiply:return"multiply";case Au.Screen:return"screen";default:throw new Error(`Unknown blendMode: ${String(t)}`)}}}const tm="spineTextureAtlasLoader",em={extension:Dl.Ag.Asset,resolver:{test:t=>kh(t,".atlas"),parse:t=>{const e=t.split(".");return{resolution:parseFloat(Rh.x.RETINA_PREFIX?.exec(t)?.[1]??"1"),format:e[e.length-2],src:t}}},loader:{id:tm,name:tm,extension:{type:Dl.Ag.LoadParser,priority:Hl.T.Normal,name:tm},test:t=>kh(t,".atlas"),async load(t){const e=await Yl.e.get().fetch(t);return await e.text()},testParse(t,e){const i=kh(e.src,".atlas"),r="string"==typeof t,s=e.parser===tm||e.loadParser===tm;return Promise.resolve((i||s)&&r)},unload(t){t.dispose()},async parse(t,e,i){const r=e.data||{};let s=Xl.A.dirname(e.src);s&&s.lastIndexOf("/")!==s.length-1&&(s+="/");const a=new Pu(t);if(r.images instanceof kc.v||"string"==typeof r.images){const t=r.images;r.images={},r.images[a.pages[0].name]=t}const n=[];for(const t of a.pages){const a=t.name,o=r?.images?r.images[a]:void 0;if(o instanceof kc.v)t.setTexture(Jp.from(o));else{const l=o??Xl.A.normalize([...s.split(Xl.A.sep),a].join(Xl.A.sep)),h={src:(0,Nl.Y)(l,e.src),data:{...r.imageMetadata,alphaMode:t.pma?"premultiplied-alpha":"premultiply-alpha-on-upload"}},c=i.load(h).then(e=>{t.setTexture(Jp.from(e.source))});n.push(c)}}return await Promise.all(n),a}}};Dl.XO.add(em);const im="spineSkeletonLoader",rm={extension:Dl.Ag.Asset,loader:{id:im,name:im,extension:{type:Dl.Ag.LoadParser,priority:Hl.T.Normal,name:im},test:t=>kh(t,".skel"),async load(t){const e=await Yl.e.get().fetch(t);return new Uint8Array(await e.arrayBuffer())},testParse(t,e){const i=kh(e.src,".json")&&(r=t,Object.prototype.hasOwnProperty.call(r,"bones"));var r;const s=kh(e.src,".skel")&&function(t){return t instanceof Uint8Array}(t),a=e.parser===im||e.loadParser===im;return Promise.resolve(i||s||a)}}};Dl.XO.add(rm);const sm=new Float32Array(1),am=new Uint32Array(1);class nm extends wc.V{constructor(){const t=new yc.h({data:sm,label:"attribute-batch-buffer",usage:vc.S.VERTEX|vc.S.COPY_DST,shrinkToFit:!1});super({attributes:{aPosition:{buffer:t,format:"float32x2",stride:28,offset:0},aUV:{buffer:t,format:"float32x2",stride:28,offset:8},aColor:{buffer:t,format:"unorm8x4",stride:28,offset:16},aDarkColor:{buffer:t,format:"unorm8x4",stride:28,offset:20},aTextureIdAndRound:{buffer:t,format:"uint16x2",stride:28,offset:24}},indexBuffer:new yc.h({data:am,label:"index-batch-buffer",usage:vc.S.INDEX|vc.S.COPY_DST,shrinkToFit:!1})})}}const om={name:"color-bit",vertex:{header:"\n            @in aDarkColor: vec4<f32>;\n            @out vDarkColor: vec4<f32>;\n        ",main:"\n        vDarkColor = aDarkColor;\n        "},fragment:{header:"\n            @in vDarkColor: vec4<f32>;\n        ",end:"\n\n        let alpha = outColor.a * vColor.a;\n        let rgb = ((outColor.a - 1.0) * vDarkColor.a + 1.0 - outColor.rgb) * vDarkColor.rgb + outColor.rgb * vColor.rgb;\n\n        finalColor = vec4<f32>(rgb, alpha);\n\n        "}},lm={name:"color-bit",vertex:{header:"\n            in vec4 aDarkColor;\n            out vec4 vDarkColor;\n        ",main:"\n            vDarkColor = aDarkColor;\n        "},fragment:{header:"\n            in vec4 vDarkColor;\n        ",end:"\n\n        finalColor.a = outColor.a * vColor.a;\n        finalColor.rgb = ((outColor.a - 1.0) * vDarkColor.a + 1.0 - outColor.rgb) * vDarkColor.rgb + outColor.rgb * vColor.rgb;\n        "}};class hm extends _c.M{constructor(t){super({glProgram:(0,oc.I)({name:"dark-tint-batch",bits:[lc.a,lm,(0,hc.P)(t),cc.m]}),gpuProgram:(0,oc.v)({name:"dark-tint-batch",bits:[lc.F,om,(0,hc._)(t),cc.b]}),resources:{batchSamplers:(0,bc.n)(t)}})}}let cm=null;class dm extends nc.i{static extension={type:[Dl.Ag.Batcher],name:"darkTint"};geometry=new nm;shader=cm||(cm=new hm(this.maxTextures));name=dm.extension.name;vertexSize=7;packAttributes(t,e,i,r,s){const a=s<<16|65535&t.roundPixels,n=t.transform,o=n.a,l=n.b,h=n.c,c=n.d,d=n.tx,u=n.ty,{positions:p,uvs:m}=t,f=t.color,g=(f>>24&255)/255,b=ac.Q.shared.setValue(t.darkColor).premultiply(g,!0).toPremultiplied(1,!1),y=t.attributeOffset,v=y+t.attributeSize;for(let t=y;t<v;t++){const s=2*t,n=p[s],g=p[s+1];e[r++]=o*n+h*g+d,e[r++]=c*g+l*n+u,e[r++]=m[s],e[r++]=m[s+1],i[r++]=f,i[r++]=b,i[r++]=a}}packQuadAttributes(t,e,i,r,s){const a=t.texture,n=t.transform,o=n.a,l=n.b,h=n.c,c=n.d,d=n.tx,u=n.ty,p=t.bounds,m=p.maxX,f=p.minX,g=p.maxY,b=p.minY,y=a.uvs,v=t.color,x=t.darkColor,w=s<<16|65535&t.roundPixels;e[r+0]=o*f+h*b+d,e[r+1]=c*b+l*f+u,e[r+2]=y.x0,e[r+3]=y.y0,i[r+4]=v,i[r+5]=x,i[r+6]=w,e[r+7]=o*m+h*b+d,e[r+8]=c*b+l*m+u,e[r+9]=y.x1,e[r+10]=y.y1,i[r+11]=v,i[r+12]=x,i[r+13]=w,e[r+14]=o*m+h*g+d,e[r+15]=c*g+l*m+u,e[r+16]=y.x2,e[r+17]=y.y2,i[r+18]=v,i[r+19]=x,i[r+20]=w,e[r+21]=o*f+h*g+d,e[r+22]=c*g+l*f+u,e[r+23]=y.x3,e[r+24]=y.y3,i[r+25]=v,i[r+26]=x,i[r+27]=w}}Dl.XO.add(dm);class um{indexOffset=0;attributeOffset=0;indexSize;attributeSize;batcherName="darkTint";topology="triangle-list";packAsQuad=!1;renderable;positions;indices;uvs;roundPixels;data;blendMode;darkTint;texture;transform;_textureId;_attributeStart;_indexStart;_batcher;_batch;get color(){const t=this.data.color,e=this.renderable.groupColor,i=this.renderable.groupAlpha;let r;const s=t.a*i*255;if(16777215!==e){const i=e>>16&255,a=e>>8&255,n=255&e,o=t.r*n,l=t.g*a;r=s<<24|t.b*i<<16|l<<8|o}else r=s<<24|255*t.b<<16|255*t.g<<8|255*t.r;return r}get darkColor(){const t=this.data.darkColor;return 255*t.b<<16|255*t.g<<8|255*t.r}get groupTransform(){return this.renderable.groupTransform}setData(t,e,i,r){if(this.renderable=t,this.transform=t.groupTransform,this.data=e,e.clipped){const t=e.clippedData;this.indexSize=t.indicesCount,this.attributeSize=t.vertexCount,this.positions=t.vertices,this.indices=t.indices,this.uvs=t.uvs}else this.indexSize=e.indices.length,this.attributeSize=e.vertices.length/2,this.positions=e.vertices,this.indices=e.indices,this.uvs=e.uvs;this.texture=e.texture,this.roundPixels=r,this.blendMode=i,this.batcherName=e.darkTint?"darkTint":"default"}}const pm={0:"normal",1:"add",2:"multiply",3:"screen"};class mm{static extension={type:[Dl.Ag.WebGLPipes,Dl.Ag.WebGPUPipes,Dl.Ag.CanvasPipes],name:"spine"};renderer;gpuSpineData={};_destroyRenderableBound=this.destroyRenderable.bind(this);constructor(t){this.renderer=t}validateRenderable(t){if(t._validateAndTransformAttachments(),t.spineAttachmentsDirty)return!0;if(t.spineTexturesDirty){const e=t.skeleton.drawOrder,i=this.gpuSpineData[t.uid];for(let r=0,s=e.length;r<s;r++){const s=e[r],a=s.getAttachment();if(a instanceof Fu||a instanceof $u){const e=t._getCachedData(s,a),r=i.slotBatches[e.id],n=e.texture;if(n!==r.texture&&!r._batcher.checkAndUpdateTexture(r,n))return!0}}}return!1}addRenderable(t,e){const i=this._getSpineData(t),r=this.renderer.renderPipes.batch,s=t.skeleton.drawOrder,a=this.renderer._roundPixels|t._roundPixels;t._validateAndTransformAttachments(),t.spineAttachmentsDirty=!1,t.spineTexturesDirty=!1;for(let n=0,o=s.length;n<o;n++){const o=s[n],l=o.getAttachment(),h=pm[o.data.blendMode];if(l instanceof Fu||l instanceof $u){const s=t._getCachedData(o,l),n=i.slotBatches[s.id]||=new um;n.setData(t,s,h,a),s.skipRender||r.addToBatch(n,e)}const c=t._slotsObject[o.data.name];if(c){const t=c.container;t.includeInBuild=!0,Ac(t,e,this.renderer),t.includeInBuild=!1}}}updateRenderable(t){const e=this.gpuSpineData[t.uid];t._validateAndTransformAttachments(),t.spineAttachmentsDirty=!1,t.spineTexturesDirty=!1;const i=t.skeleton.drawOrder;for(let r=0,s=i.length;r<s;r++){const s=i[r],a=s.getAttachment();if((a instanceof Fu||a instanceof $u)&&!t._getCachedData(s,a).skipRender){const i=e.slotBatches[t._getCachedData(s,a).id];i._batcher?.updateElement(i)}}}destroyRenderable(t){this.gpuSpineData[t.uid]=null,t.off("destroyed",this._destroyRenderableBound)}destroy(){this.gpuSpineData=null,this.renderer=null}_getSpineData(t){return this.gpuSpineData[t.uid]||this._initMeshData(t)}_initMeshData(t){return this.gpuSpineData[t.uid]={slotBatches:{}},t.on("destroyed",this._destroyRenderableBound),this.gpuSpineData[t.uid]}}Dl.XO.add(mm);const fm=new hd;qu.yDown=!0;const gm=new Xp,bm=new ld(()=>new Tc.A);class ym extends Ec.l{batched=!0;buildId=0;renderPipeId="spine";_didSpineUpdate=!1;beforeUpdateWorldTransforms=()=>{};afterUpdateWorldTransforms=()=>{};skeleton;state;skeletonBounds;darkTint=!1;_debug=void 0;_slotsObject=Object.create(null);clippingSlotToPixiMasks=Object.create(null);getSlotFromRef(t){let e;if(e="number"==typeof t?this.skeleton.slots[t]:"string"==typeof t?this.skeleton.findSlot(t):t,!e)throw new Error(`No slot found with the given slot reference: ${t}`);return e}spineAttachmentsDirty=!0;spineTexturesDirty=!0;_lastAttachments=[];_stateChanged=!0;attachmentCacheData=[];get debug(){return this._debug}set debug(t){this._debug&&this._debug.unregisterSpine(this),t&&t.registerSpine(this),this._debug=t}_autoUpdate=!1;get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t&&!this._autoUpdate?Mc.R.shared.add(this.internalUpdate,this):!t&&this._autoUpdate&&Mc.R.shared.remove(this.internalUpdate,this),this._autoUpdate=t}_boundsProvider;get boundsProvider(){return this._boundsProvider}set boundsProvider(t){this._boundsProvider=t,t&&(this._boundsDirty=!1),this.updateBounds()}hasNeverUpdated=!0;constructor(t){t instanceof Ju&&(t={skeletonData:t}),super({}),this.allowChildren=!0;const e=t instanceof Ju?t:t.skeletonData;this.skeleton=new qu(e),this.state=new su(new fu(e)),this.autoUpdate=t?.autoUpdate??!0,this.darkTint=void 0===t?.darkTint?this.skeleton.slots.some(t=>!!t.data.darkColor):t?.darkTint;const i=this.skeleton.slots;for(let t=0;t<i.length;t++)this.attachmentCacheData[t]=Object.create(null);this._boundsProvider=t.boundsProvider}update(t){this.internalUpdate(0,t)}internalUpdate(t,e){this._updateAndApplyState(e??Mc.R.shared.deltaMS/1e3)}get bounds(){return this._boundsDirty&&this.updateBounds(),this._bounds}setBonePosition(t,e){const i=t;if("string"==typeof t&&(t=this.skeleton.findBone(t)),!t)throw Error(`Cant set bone position, bone ${String(i)} not found`);if(fm.set(e.x,e.y),t.parent){const e=t.parent.worldToLocal(fm);t.x=e.x,t.y=-e.y}else t.x=fm.x,t.y=fm.y}getBonePosition(t,e){const i=t;return"string"==typeof t&&(t=this.skeleton.findBone(t)),t?(e||(e={x:0,y:0}),e.x=t.worldX,e.y=t.worldY,e):(console.error(`Cant set bone position! Bone ${String(i)} not found`),e)}_updateAndApplyState(t){this.hasNeverUpdated=!1,this.state.update(t),this.skeleton.update(t);const{skeleton:e}=this;this.state.apply(e),this.beforeUpdateWorldTransforms(this),e.updateWorldTransform(Cu.update),this.afterUpdateWorldTransforms(this),this.updateSlotObjects(),this._stateChanged=!0,this.onViewUpdate()}_validateAndTransformAttachments(){this._stateChanged&&(this._stateChanged=!1,this.validateAttachments(),this.transformAttachments())}validateAttachments(){const t=this.skeleton.drawOrder,e=this._lastAttachments;let i=0,r=!1;for(let s=0;s<t.length;s++){const a=t[s].getAttachment();a&&(a!==e[i]&&(r=!0,e[i]=a),i++)}i!==e.length&&(r=!0,e.length=i),this.spineAttachmentsDirty||=r}currentClippingSlot;updateAndSetPixiMask(t,e){const i=t.attachment;if(i&&i instanceof bu){const e=this.clippingSlotToPixiMasks[t.data.name]||={slot:t,vertices:new Array};return e.maskComputed=!1,void(this.currentClippingSlot=e)}let r=this.currentClippingSlot,s=this._slotsObject[t.data.name];if(r&&s){let t=r.mask;if(t||(t=bm.obtain(),r.mask=t,this.addChild(t)),!r.maskComputed){let e=r.slot,i=e.attachment;r.maskComputed=!0;const s=i.worldVerticesLength,a=r.vertices;i.computeWorldVertices(e,0,s,a,0,2),t.clear().poly(a).stroke({width:0}).fill({alpha:.25})}s.container.mask=t}else s?.container.mask&&(s.container.mask=null);if(r&&r.slot.attachment.endSlot==t.data&&(this.currentClippingSlot=void 0),e){for(const t in this.clippingSlotToPixiMasks){const e=this.clippingSlotToPixiMasks[t];e.slot.attachment instanceof bu&&e.maskComputed||!e.mask||(this.removeChild(e.mask),bm.free(e.mask),e.mask=void 0)}this.currentClippingSlot=void 0}}transformAttachments(){const t=this.skeleton.drawOrder;for(let e=0;e<t.length;e++){const i=t[e];this.updateAndSetPixiMask(i,e===t.length-1);const r=i.getAttachment();if(r)if(r instanceof $u||r instanceof Fu){const t=this._getCachedData(i,r);r instanceof Fu?r.computeWorldVertices(i,t.vertices,0,2):r.computeWorldVertices(i,0,r.worldVerticesLength,t.vertices,0,2),t.uvs.length<r.uvs.length&&(t.uvs=new Float32Array(r.uvs.length)),(0,xc.W)(r.uvs.buffer,t.uvs.buffer);const e=i.bone.skeleton.color,s=i.color,a=r.color;t.color.set(e.r*s.r*a.r,e.g*s.g*a.g,e.b*s.b*a.b,e.a*s.a*a.a),i.darkColor&&t.darkColor.setFromColor(i.darkColor),t.skipRender=t.clipped=!1;const n=r.region?.texture.texture||jl.g.EMPTY;t.texture!==n&&(t.texture=n,this.spineTexturesDirty=!0),gm.isClipping()&&this.updateClippingData(t)}else if(r instanceof bu){gm.clipStart(i,r);continue}gm.clipEndWithSlot(i)}gm.clipEnd()}updateClippingData(t){t.clipped=!0,gm.clipTrianglesUnpacked(t.vertices,t.indices,t.indices.length,t.uvs);const{clippedVertices:e,clippedUVs:i,clippedTriangles:r}=gm,s=e.length/2,a=r.length;t.clippedData||(t.clippedData={vertices:new Float32Array(2*s),uvs:new Float32Array(2*s),vertexCount:s,indices:new Uint16Array(a),indicesCount:a},this.spineAttachmentsDirty=!0);const n=t.clippedData,o=n.vertexCount!==s||a!==n.indicesCount;t.skipRender=0===s,o&&(this.spineAttachmentsDirty=!0,n.vertexCount<s&&(n.vertices=new Float32Array(2*s),n.uvs=new Float32Array(2*s)),n.indices.length<a&&(n.indices=new Uint16Array(a)));const{vertices:l,uvs:h,indices:c}=n;for(let t=0;t<s;t++)l[2*t]=e[2*t],l[2*t+1]=e[2*t+1],h[2*t]=i[2*t],h[2*t+1]=i[2*t+1];n.vertexCount=s;for(let t=0;t<a;t++)c[t]!==r[t]&&(this.spineAttachmentsDirty=!0,c[t]=r[t]);n.indicesCount=a}updateSlotObjects(){for(const t in this._slotsObject){const e=this._slotsObject[t];e&&this.updateSlotObject(e)}}updateSlotObject(t){const{slot:e,container:i}=t,r=!t.followAttachmentTimeline||Boolean(e.attachment);if(i.visible=this.skeleton.drawOrder.includes(e)&&r,i.visible){let t=e.bone;i.position.set(t.worldX,t.worldY),i.angle=t.getWorldRotationX();let r=1,s=1;for(;t;)r*=t.scaleX,s*=t.scaleY,t=t.parent;r<0&&(i.angle-=180),i.scale.set(e.bone.getWorldScaleX()*Math.sign(r),e.bone.getWorldScaleY()*Math.sign(s)),i.alpha=this.skeleton.color.a*e.color.a}}_getCachedData(t,e){return this.attachmentCacheData[t.data.index][e.name]||this.initCachedData(t,e)}initCachedData(t,e){let i;return e instanceof Fu?(i=new Float32Array(8),this.attachmentCacheData[t.data.index][e.name]={id:`${t.data.index}-${e.name}`,vertices:i,clipped:!1,indices:[0,1,2,0,2,3],uvs:new Float32Array(e.uvs.length),color:new ad(1,1,1,1),darkColor:new ad(0,0,0,0),darkTint:this.darkTint,skipRender:!1,texture:e.region?.texture.texture}):(i=new Float32Array(e.worldVerticesLength),this.attachmentCacheData[t.data.index][e.name]={id:`${t.data.index}-${e.name}`,vertices:i,clipped:!1,indices:e.triangles,uvs:new Float32Array(e.uvs.length),color:new ad(1,1,1,1),darkColor:new ad(0,0,0,0),darkTint:this.darkTint,skipRender:!1,texture:e.region?.texture.texture}),this.attachmentCacheData[t.data.index][e.name]}onViewUpdate(){if(this._didViewChangeTick++,this._boundsProvider||(this._boundsDirty=!0),this.didViewUpdate)return;this.didViewUpdate=!0;const t=this.renderGroup||this.parentRenderGroup;t&&t.onChildViewUpdate(this),this.debug?.renderDebug(this)}addSlotObject(t,e,i){t=this.getSlotFromRef(t);for(const t in this._slotsObject)this._slotsObject[t]?.container===e&&this.removeSlotObject(this._slotsObject[t].slot);this.removeSlotObject(t),e.includeInBuild=!1,this.addChild(e);const r={container:e,slot:t,followAttachmentTimeline:i?.followAttachmentTimeline||!1};this._slotsObject[t.data.name]=r,this.updateSlotObject(r)}removeSlotObject(t){let e;if(t instanceof Sc.mc){for(const i in this._slotsObject)if(this._slotsObject[i]?.container===t){this._slotsObject[i]=null,e=t;break}}else{const i=this.getSlotFromRef(t);e=this._slotsObject[i.data.name]?.container,this._slotsObject[i.data.name]=null}e&&(this.removeChild(e),e.includeInBuild=!0)}removeSlotObjects(){Object.entries(this._slotsObject).forEach(([t,e])=>{e&&e.container.removeFromParent(),delete this._slotsObject[t]})}getSlotObject(t){return t=this.getSlotFromRef(t),this._slotsObject[t.data.name]?.container}updateBounds(){this._boundsDirty=!1,this.skeletonBounds||=new Np;const t=this.skeletonBounds;if(t.update(this.skeleton,!0),this._boundsProvider){const t=this._boundsProvider.calculateBounds(this),e=this._bounds;e.clear(),e.x=t.x,e.y=t.y,e.width=t.width,e.height=t.height}else if(t.minX===1/0){this.hasNeverUpdated&&(this._updateAndApplyState(0),this._boundsDirty=!1),this._validateAndTransformAttachments();const t=this.skeleton.drawOrder,e=this._bounds;e.clear();for(let i=0;i<t.length;i++){const r=t[i],s=r.getAttachment();if(s&&(s instanceof Fu||s instanceof $u)){const t=this._getCachedData(r,s);e.addVertexData(t.vertices,0,t.vertices.length)}}}else this._bounds.minX=t.minX,this._bounds.minY=t.minY,this._bounds.maxX=t.maxX,this._bounds.maxY=t.maxY}addBounds(t){t.addBounds(this.bounds)}destroy(t=!1){super.destroy(t),Mc.R.shared.remove(this.internalUpdate,this),this.state.clearListeners(),this.debug=void 0,this.skeleton=null,this.state=null,this._slotsObject=null,this._lastAttachments.length=0,this.attachmentCacheData=null}skeletonToPixiWorldCoordinates(t){this.worldTransform.apply(t,t)}pixiWorldCoordinatesToSkeleton(t){this.worldTransform.applyInverse(t,t)}pixiWorldCoordinatesToBone(t,e){this.pixiWorldCoordinatesToSkeleton(t),e.parent?e.parent.worldToLocal(t):e.worldToLocal(t)}static from({skeleton:t,atlas:e,scale:i=1,darkTint:r,autoUpdate:s=!0,boundsProvider:a}){const n=`${t}-${e}-${i}`;if(oh.l.has(n))return new ym({skeletonData:oh.l.get(n),darkTint:r,autoUpdate:s,boundsProvider:a});const o=rc.get(t),l=rc.get(e),h=new Lu(l),c=o instanceof Uint8Array?new sp(h):new Up(h);c.scale=i;const d=c.readSkeletonData(o);return oh.l.set(n,d),new ym({skeletonData:d,darkTint:r,autoUpdate:s,boundsProvider:a})}}class vm extends rd{#D;#W;#V;#H;#N;#Y;#X;#U;#r;constructor(t){super(t),t&&(t.atlas&&(this.atlas=t.atlas),t.skeletonData&&(this.skeletonData=t.skeletonData),t.skel&&(this.skel=t.skel),t.json&&(this.json=t.json),t.texture&&(this.texture=t.texture),t.skins&&(this.skins=t.skins),t.animation&&(this.animation=t.animation),t.loop&&(this.loop=t.loop))}async#G(){if(this.#W&&(this.#V||this.#H||this.#N)){const t=[];let e,i,r,s,a;if(Vc.checkLoaded(this.#W)||console.info(`Atlas not preloaded. Loading now: ${this.#W}`),t.push((async()=>e=await Vc.load(this.#W))()),this.#V);else if(this.#H)Fl.checkLoaded(this.#H)||console.info(`Skeleton not preloaded. Loading now: ${this.#H}`),t.push((async()=>i=await Fl.load(this.#H))());else{if(!this.#N)return void console.error("Either skel or json must be provided");Vc.checkLoaded(this.#N)||console.info(`Skeleton not preloaded. Loading now: ${this.#N}`),t.push((async()=>r=await Vc.load(this.#N))())}if("string"==typeof this.#Y)zc.checkLoaded(this.#Y)||console.info(`Texture not preloaded. Loading now: ${this.#Y}`),t.push((async()=>s=await zc.load(this.#Y))());else if(this.#Y){a={};for(const[e,i]of Object.entries(this.#Y))zc.checkLoaded(i)||console.info(`Texture not preloaded. Loading now: ${i}`),t.push((async()=>{const t=await zc.load(i);t&&(a[e]=t)})())}if(await Promise.all(t),s||a){const t=new Pu(e);t.pages.forEach(t=>{s?t.setTexture(Jp.from(s.source)):a&&t.setTexture(Jp.from(a[t.name].source))});const n=new Lu(t);let o;if(this.#V)o=new Up(n).readSkeletonData(this.#V);else if(i)o=new sp(n).readSkeletonData(i);else{if(!r)return void console.error("Either skel or json must be provided");o=new Up(n).readSkeletonData(r)}this.#D=new ym(o),this.#D.state.addListener({complete:t=>this.emit("animationend",t.animation?.name??"")}),this.#j(),this.#q(),this._addPixiChild(this.#D)}}this.emit("load")}#j(){this.#D&&this.#U&&(this.#D.state.setAnimation(0,this.#U,this.#r??!0),this.#D.state.apply(this.#D.skeleton))}#q(){if(this.#D&&this.#X){const t=new ep("combined-skin");for(const e of this.#X){const i=this.#D.skeleton.data.findSkin(e);i&&t.addSkin(i)}this.#D.skeleton.setSkin(t),this.#D.skeleton.setSlotsToSetupPose()}}get atlas(){return this.#W}set atlas(t){this.#W=t,this.#G()}get skeletonData(){return this.#V}set skeletonData(t){this.#V=t,this.#G()}get skel(){return this.#H}set skel(t){this.#H=t,this.#G()}get json(){return this.#N}set json(t){this.#N=t,this.#G()}get texture(){return this.#Y}set texture(t){this.#Y=t,this.#G()}get skins(){return this.#X}set skins(t){this.#X=t,this.#q()}get animation(){return this.#U}set animation(t){this.#U=t,this.#j()}get loop(){return this.#r}set loop(t){this.#r=t,this.#j()}remove(){if("string"==typeof this.#Y)zc.release(this.#Y);else if(this.#Y)for(const t of Object.values(this.#Y))zc.release(t);super.remove()}}s(62169);class xm{#K;#Z;#Q;constructor(t){this.#K=t,td}update(){this.#Z?.update()}createMatterDebugRenderer(t,e,i){td}#J;#tt=0;#et=0;#it=0;#rt=0;setMatterDebugRendererSize(t,e,i,r,s){return this.#J=t,this.#tt=e,this.#et=i,this.#it=r,void(this.#rt=s)}setMatterDebugRendererCamera(t,e){if(this.#Q){const i=this.#Q,r=this.#tt/2,s=this.#et/2;i.bounds.min.x=t-r,i.bounds.min.y=e-s,i.bounds.max.x=t+r,i.bounds.max.y=e+s,Jc().Render.lookAt(i,i.bounds)}}destroy(){}}class wm extends Gc{#st;#at=0;get gravity(){return this.#at}set gravity(t){this.#at=t,this.#st&&(this.#st.gravity.y=t)}#nt(){this.#st=Jc().Engine.create(),this.#st.gravity.y=this.#at,Jc().Events.on(this.#st,"collisionStart",t=>{t.pairs.forEach(t=>{const{bodyA:e,bodyB:i}=t;this.emit("collisionStart",e.plugin.owner,i.plugin.owner)})}),this.emit("engineCreated",this.#st)}addBody(t){this.#st||this.#nt(),Jc().World.add(this.#st.world,t)}removeBody(t){this.#st&&Jc().World.remove(this.#st.world,t)}update(t){if(!this.#st)return;const e=1e3*t;Jc().Engine.update(this.#st,e>16.666?16.666:e)}destroy(){this.#st&&Jc().Engine.clear(this.#st),this.#st=void 0}}class _m extends Rc.A{#ot;#lt=new Sc.mc;#ht=1;#ct=0;#dt=0;centerX=0;centerY=0;renderWidth=0;renderHeight=0;renderScale=1;canvasLeft=0;canvasTop=0;#ut=3165305;get backgroundColor(){return this.#ut}set backgroundColor(t){this.#ut=t,this.#ot&&(this.#ot.background.color=t)}get backgroundAlpha(){return this.#ht}set backgroundAlpha(t){this.#ht=t,this.#ot&&(this.#ot.background.alpha=t)}async init(t,e,i){const r=await async function(t){let e,i=[];t.preference?(i.push(t.preference),gc.forEach(e=>{e!==t.preference&&i.push(e)})):i=gc.slice();let r={};for(let a=0;a<i.length;a++){const n=i[a];if("webgpu"===n&&await fc()){const{WebGPURenderer:i}=await Promise.all([s.e(3693),s.e(1086)]).then(s.bind(s,1086));e=i,r={...t,...t.webgpu};break}if("webgl"===n&&mc(t.failIfMajorPerformanceCaveat??dc.k.defaultOptions.failIfMajorPerformanceCaveat)){const{WebGLRenderer:i}=await Promise.all([s.e(3693),s.e(172)]).then(s.bind(s,20172));e=i,r={...t,...t.webgl};break}if("canvas"===n)throw r={...t},new Error("CanvasRenderer is not yet implemented")}if(delete r.webgpu,delete r.webgl,!e)throw new Error("No available renderer for the current environment");const a=new e;return await a.init(r),a}({width:e,height:i,backgroundColor:this.#ut,backgroundAlpha:this.#ht,eventMode:"none",resolution:window.devicePixelRatio});this.#ot=r;const a=r.canvas;a.style.position="absolute",a.style.touchAction="auto",a.style.borderRadius=t.style.borderRadius,t.appendChild(a),this.#J&&this.setRendererSize(this.#J,this.#tt,this.#et)}#pt(){this.#lt.x=this.centerX-this.#ct,this.#lt.y=this.centerY-this.#dt,this.#mt&&(this.#mt.x=this.#ct,this.#mt.y=this.#dt),this.emit("positionChanged")}#J;#tt=0;#et=0;setRendererSize(t,e,i){this.#J=t,this.#tt=e,this.#et=i,this.centerX=e/2,this.centerY=i/2,this.#pt(),this.renderWidth=e,this.renderHeight=i;const r=Math.min(t.width/e,t.height/i);this.renderScale=r;const s=e*r,a=i*r,n=(t.width-s)/2,o=(t.height-a)/2;if(this.canvasLeft=n,this.canvasTop=o,!this.#ot)return;this.#ot.resize(e,i);const l=this.#ot.canvas;l.style.width=`${s}px`,l.style.height=`${a}px`,l.style.left=`${n}px`,l.style.top=`${o}px`}update(){this.#ot?.render(this.#lt)}get cameraX(){return this.#ct}set cameraX(t){this.#ct=t,this.#pt()}get cameraY(){return this.#dt}set cameraY(t){this.#dt=t,this.#pt()}addPixiChildToRoot(t){this.#lt.addChild(t)}destroy(){this.#ot?.destroy(),this.#ot=void 0}#mt;setBackgroundImage(t){t&&(zc.checkLoaded(t)||console.info(`Background image not preloaded. Loading now: ${t}`),zc.load(t).then(t=>{t&&(this.#mt?.destroy(),this.#mt=new Bc.k({x:this.#ct,y:this.#dt,texture:t,anchor:{x:.5,y:.5},width:this.renderWidth,height:this.renderHeight,zIndex:-999999}),this.#lt.addChild(this.#mt))}))}}class km extends rd{container=document.createElement("div");#ft;_worldRendering=new _m;_worldPhysics=new wm;#gt=new xm(this.container);#bt;#yt;#vt=!1;#xt=!1;#wt=new Kc;#_t(t){if(this.container.isConnected)this.#vt||(this.#vt=!0,this.#kt()),this._worldPhysics.update(t),this._engineUpdate(t,this.#wt),this._worldRendering.update(),this.#gt.update(),this._containerSizeDirty=!1;else if(this.#vt)return void this.#St()}#Ct=0;#At=0;_containerSizeDirty=!1;#kt(){const t=this.container.getBoundingClientRect();if(t.width===this.#Ct&&t.height===this.#At)return;if(this.#Ct=t.width,this.#At=t.height,this._containerSizeDirty=!0,0===t.width||0===t.height)return;const e=this.#bt??t.width,i=this.#yt??t.height;this._worldRendering.setRendererSize(t,e,i),this.#gt.setMatterDebugRendererSize(t,e,i,this.cameraX,this.cameraY),this.emit("resize",this.width,this.height)}#St(){this.#ft.disconnect(),this._worldRendering.destroy(),this._worldPhysics.destroy(),this.#gt.destroy(),this.#xt=!0}async#Tt(){await this._worldRendering.init(this.container,this.#bt,this.#yt),this.#kt();let t,e=0,i=0;const r=s=>{if(this.#xt)return;const a=(s-e)/1e3;if(a>0){if(void 0!==t&&t>0){i+=a;const e=1/t;i>=e&&(this.#_t(e),i>=2*e?(this.#_t(a),i=0):i-=e)}else this.#_t(a);e=s}requestAnimationFrame(r)};requestAnimationFrame(r)}constructor(t){super(t),this._setWorld(this),this._worldRendering.addPixiChildToRoot(this._rendering._container),this.#ft=new ResizeObserver(this.#kt.bind(this)),this.#ft.observe(this.container),this._worldRendering.on("positionChanged",()=>this.#gt.setMatterDebugRendererCamera(this.cameraX,this.cameraY)),this._worldPhysics.on("engineCreated",t=>this.#gt.createMatterDebugRenderer(t,this.width,this.height)),this._worldPhysics.on("collisionStart",(t,e)=>this.emit("collisionStart",t,e)),t&&(void 0!==t.width&&(this.#bt=t.width),void 0!==t.height&&(this.#yt=t.height),void 0!==t.backgroundColor&&(this.backgroundColor=t.backgroundColor),void 0!==t.backgroundAlpha&&(this.backgroundAlpha=t.backgroundAlpha),void 0!==t.gravity&&(this.gravity=t.gravity)),this.#Tt()}get width(){return this.#bt??this._worldRendering.renderWidth}set width(t){this.#bt=t,this.#kt()}get height(){return this.#yt??this._worldRendering.renderHeight}set height(t){this.#yt=t,this.#kt()}get backgroundColor(){return this._worldRendering.backgroundColor}set backgroundColor(t){this._worldRendering.backgroundColor=t}get backgroundAlpha(){return this._worldRendering.backgroundAlpha}set backgroundAlpha(t){this._worldRendering.backgroundAlpha=t}get gravity(){return this._worldPhysics.gravity}set gravity(t){this._worldPhysics.gravity=t}get cameraX(){return this._worldRendering.cameraX}set cameraX(t){this._worldRendering.cameraX=t}get cameraY(){return this._worldRendering.cameraY}set cameraY(t){this._worldRendering.cameraY=t}#Mt;get backgroundImage(){return this.#Mt}set backgroundImage(t){this.#Mt=t,this._worldRendering.setBackgroundImage(t)}}function Sm(t){const i=e(".god-viewer");i.style.width="100%",i.style.aspectRatio="1",i.style.position="relative",i.style.overflow="hidden";const r=function(t){const e=(i=t.type,r=t.gender,Ml[i][r]);var i,r;const s={};for(const i of e){const e=Bl(i,t),r=t.parts[i.name],a=e.find(t=>t.name===r);a&&(s[i.name]=a)}return s}(t),s=[];for(const[t,e]of Object.entries(r))s.push(`${t}/${e.name}`);const a=t.type.toLowerCase(),n=t.gender.toLowerCase(),o=`/spine-files/god-${a}-${n}`,l=function(){const t=document.createElement("div");Object.assign(t.style,{position:"absolute",inset:"0",display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(1px)",background:"rgba(0,0,0,0.15)",zIndex:"10",borderRadius:"12px"});const e=document.createElement("sl-spinner");return t.appendChild(e),t}();i.appendChild(l);const h=new km({width:1024,height:1024});h.container.style.width="100%",h.container.style.height="100%",i.appendChild(h.container);const c="Water"===t.type?{[`water-${n}.png`]:`${o}.png`,[`water-${n}_2.png`]:`${o}-2.png`,[`water-${n}_3.png`]:`${o}-3.png`}:`${o}.png`;return async function(t){t.length;return await Promise.all(t.map(async t=>{if("string"==typeof t)Hc(t)?await Vc.load(t):Nc(t)?await Fl.load(t):Yc(t)?await zc.load(t):Xc(t)?await Ol.load(t):Uc(t)?await Ll.load(t):console.error(`Unknown asset type: ${t}`);else{const e=Dc(t.src,t.atlas);await Wc.load(e,t.src,t.atlas)}0})),()=>{t.forEach(t=>{if("string"==typeof t)Hc(t)?Vc.release(t):Nc(t)?Fl.release(t):Yc(t)?zc.release(t):Xc(t)?Ol.release(t):Uc(t)?Ll.release(t):console.error(`Unknown asset type: ${t}`);else{const e=Dc(t.src,t.atlas);Wc.release(e)}})}}([`${o}.json`,`${o}.atlas`,..."string"==typeof c?[c]:Object.values(c)]).then(()=>{const t=new vm({json:`${o}.json`,atlas:`${o}.atlas`,texture:c,skins:s,animation:"animation"});t.on("load",()=>l.remove()),t.on("animationend",()=>{t&&(t.animation="animation")}),h.add(t),i.style.cursor="pointer",i.addEventListener("click",()=>{t&&(t.animation="touched")})}),i}const Cm=document.getElementById("god-viewer");function Am(t,i){t.innerHTML="",t.append(e("div",i,{style:"\n          padding:20px; border:1px dashed rgba(255,0,0,0.25);\n          color: var(--sl-color-danger-600); border-radius:12px; text-align:center;\n        "}))}(async()=>{const t=Cm;!function(t){t.innerHTML="";const i=e("div",e("sl-spinner"),{style:"\n          display:flex; flex-direction:column; align-items:center; justify-content:center;\n          gap:10px; padding:24px;\n          background:rgba(255,255,255,0.04);\n          aspect-ratio: 1;\n        "});t.append(i)}(t);const i=function(t){const e=t.getAttribute("data-god-id");if(e)return decodeURIComponent(e);const i=window.location.pathname.split("/").filter(Boolean);return"god-viewer"===i[0]&&i[1]?decodeURIComponent(i[1]):null}(t);if(i)try{const r=await async function(t){const e=await fetch(`https://api.gaia.cc/nft/gaia-protocol-gods/${t}`);if(!e.ok){const t=await e.text().catch(()=>"");throw console.error(`fetchNftDetail failed: ${e.status} ${e.statusText}`,t),new Error(`Failed to fetch NFT detail: ${e.status}`)}return await e.json()}(i);!function(t,i){t.innerHTML="";const r=e("div"),s=Sm({type:i.traits.Type,gender:i.traits.Gender,parts:i.parts});r.append(s),t.append(r),window.addEventListener("god:attributesChanged",t=>{const e=t?.detail?.data;if(e)try{const t=s.__api;t?.setProps?t.setProps({type:e.traits?.Type,gender:e.traits?.Gender,parts:e.parts}):(r.innerHTML="",r.append(Sm({type:e.traits?.Type,gender:e.traits?.Gender,parts:e.parts})))}catch(t){console.error(t)}})}(t,r)}catch(i){console.error(i),Am(t,"Failed to load this God. Please try again."),async function(t,i){const r=e("sl-alert",{variant:"danger",closable:!0},e("sl-icon",{slot:"icon",name:"exclamation-octagon"}),e("strong","Error"),e("br"),i);document.body.appendChild(r),await customElements.whenDefined("sl-alert"),r.toast()}(0,i instanceof Error?i.message:String(i))}else Am(t,"Invalid URL or missing data-god-id. Expected /god/:id")})()})()})();